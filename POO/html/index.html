<!DOCTYPE HTML>
<html lang="fr">
  <head>
  	<title>Perl 6 - Programmation orientée objet</title>
  	<meta charset="iso-8859-1" />
	<meta content="developpez-com" name="generator">
	<meta name="description" content="Tutoriel Perl : Programmation orientée objet en Perl 6 - Composez vos propres classes et types pour accroître votre expressivité en Perl 6"/>
	<meta name="author" content="Laurent Rosenfeld"/>
	<meta name="keywords" content="Perl 5, Perl 6, Approfondissements"> 
  	<script type="text/javascript" src="./js/jquery-1.7.2.js"></script>
  	<link rel="shortcut icon" type="image/x-icon" href="https://www.developpez.com/template/favicon.ico" />
                                                 
    <link rel="stylesheet" type="text/css" media="screen" href="./code.css" />
  	<link rel="stylesheet" type="text/css" href="./mini-gabarit0.css" />
  	<link rel="stylesheet" type="text/css" href="./lightbox.2.51.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="./developpez-kit-generation.css" />
    

	
    <!--[if IE 9]><link rel="stylesheet" type="text/css" href="./ie9.css" /><![endif]-->
    <!--[if IE 8]><link rel="stylesheet" type="text/css" href="./ie8.css" /><![endif]-->
    <!--[if lt IE 9]><link rel="stylesheet" type="text/css" href="./ie.css" /><![endif]-->
    <!--[if IE 7]><link rel="stylesheet" type="text/css" href="./ie7.css" /><![endif]-->
    <!--[if lte IE 6]><link rel="stylesheet" type="text/css" href="./ie6.css" /><![endif]-->
    <!--[if lt IE 9]><script type="text/javascript" src="./js/html5_ie.js"></script><![endif]-->
 
    <script type="text/javascript" src="http://www.developpez.com/template/kit/mathjax-dvp/MathJax.js?config=TeX-AMS-MML_HTMLorMML&locale=fr"></script>
    <script type="text/javascript" src="./js/developpez-kit-generation.js"></script>
    <script type="text/javascript" src="./js/fonctions-kit.js"></script>
    <script type="text/javascript" src="./js/lightbox.2.51.js"></script>
    <script type="text/javascript" src="./js/LecteurSWF.js"></script>

  </head>
  <body>
    <header class="layout">
      <div id="quicknav">	
        <nav>	
          <ul>
        		<li>
        			<a style="color: #B7D0ED;" href="https://www.developpez.net/forums/">Forums</a>
        		</li>
        		<li>
        			<a style="color: #B7D0ED;" href="https://general.developpez.com/cours/">Tutoriels</a>
        		</li>
        		<li>
        			<a style="color: #B7D0ED;" href="https://magazine.developpez.com/">Magazine</a>
        		</li>
        		<li>
        			<a style="color: #B7D0ED;" href="https://general.developpez.com/faq/">FAQs</a>
        		</li>
        		<li>
        			<a style="color: #B7D0ED;" href="https://blog.developpez.com/">Blogs</a>
        		</li>
        		<li>
        			<a style="color: #B7D0ED;" href="https://projets.developpez.com/">Projets</a>
        		</li>
        		<li>
        			<a style="color: #B7D0ED;" href="https://chat.developpez.com/">Chat</a>
        		</li>
        		<li>
        			<a style="color: #B7D0ED;" href="https://www.developpez.com/newsletter/">Newsletter</a>
        		</li>
        		<li>
        			<a style="color: #B7D0ED;" href="https://etudes.developpez.com/">Études</a>
        		</li>
        		<li>
        			<a style="color: #B7D0ED;" href="https://emploi.developpez.com/">Emploi</a>
        		</li>
        		<li>
        			<a style="color: #B7D0ED;" href="https://club.developpez.com/">Club</a>
        		</li>
        		<li>
        			<a style="color: #B7D0ED;" href="https://club.developpez.com/contacts/">Contacts</a>
        		</li>
        	</ul>
        </nav>
      </div>
    </header>
    <article  class="ArticleComplet" itemscope itemtype="http://schema.org/Article">
      <meta itemprop="genre" content="informatique"/>
      <meta itemprop="inLanguage" content="fr-FR"/>	

		<section class="ArticleHorsLigne">
<header class="EnteteTitres">
<h1 class="titre-article" itemprop="name">Objets, classes et rôles en Perl 6</h1>
<h2 class="soustitre-article"><b>Tutoriel de programmation orientée objet </b>    </h2>
</header><nav class="nav-sommaire" role="navigation">
<header><h1 class="TitreHeader StopArrondi ToggleGecko">Table des mati&egrave;res<img class="ToggleImgPlier" title="Plier" alt="Plier" src="./images/fleche-haut-bleue.png"/><img class="ToggleImgDeplier" title="Déplier" alt="Déplier" src="./images/fleche-bas-bleue.png" style="display:none;"/></h1></header>
<ul id="nav_sommaire_ul_principal" class="nav-sommaire-ul">
    <li><a class="summaryIndent0" href="#L1">1. Utilisation d'objets et de méthodes en Perl 6</a><ul class="nav-sommaire-ul Indentation1">
      
      
      
      
      
      
      
      <li><a class="summaryIndent1" href="#L1-1">1-1. Invocation simple d'un objet</a></li>
      <li><a class="summaryIndent1" href="#L1-2">1-2. Passage de paramètres</a></li>
    </ul></li>
    <li><a class="summaryIndent0" href="#L2">2. Introduction à la programmation orientée objet (POO)</a><ul class="nav-sommaire-ul Indentation2">
      
      
      <li><a class="summaryIndent1" href="#L2-1">2-1. Tour d'horizon de la POO en Perl 6</a><ul class="nav-sommaire-ul Indentation2-1">
        
        
        
        
        
        
        <li><a class="summaryIndent2" href="#L2-1-1">2-1-1. Une classe PointDuPlan</a></li>
      </ul></li>
      <li><a class="summaryIndent1" href="#L2-2">2-2. Héritage</a><ul class="nav-sommaire-ul Indentation2-2">
        
        <li><a class="summaryIndent2" href="#L2-2-1">2-2-1. La classe PointMobile</a></li>
        <li><a class="summaryIndent2" href="#L2-2-2">2-2-2. La classe Pixel</a></li>
        <li><a class="summaryIndent2" href="#L2-2-3">2-2-3. Héritage multiple : séduisant mais périlleux</a></li>
      </ul></li>
      <li><a class="summaryIndent1" href="#L2-3">2-3. Composition d'objets</a></li>
      <li><a class="summaryIndent1" href="#L2-4">2-4. Composition versus héritage</a></li>
      <li><a class="summaryIndent1" href="#L2-5">2-5. Rôles et composition</a><ul class="nav-sommaire-ul Indentation2-5">
        
        
        <li><a class="summaryIndent2" href="#L2-5-1">2-5-1. Une classe Mammifère et un rôle Animal-de-compagnie</a></li>
        <li><a class="summaryIndent2" href="#L2-5-2">2-5-2. Composition de rôle et réutilisation de code</a></li>
        <li><a class="summaryIndent2" href="#L2-5-3">2-5-3. Rôles, classes, objets et types</a></li>
      </ul></li>
      <li><a class="summaryIndent1" href="#L2-6">2-6. Délégation de méthode</a></li>
      <li><a class="summaryIndent1" href="#L2-7">2-7. Polymorphisme</a></li>
      <li><a class="summaryIndent1" href="#L2-8">2-8. Encapsulation</a><ul class="nav-sommaire-ul Indentation2-8">
        
        <li><a class="summaryIndent2" href="#L2-8-1">2-8-1. Qu'est-ce que l'encapsulation ?</a></li>
        <li><a class="summaryIndent2" href="#L2-8-2">2-8-2. L'encapsulation en Perl 6</a></li>
        <li><a class="summaryIndent2" href="#L2-8-3">2-8-3. Construction d'objets aux attributs privés</a></li>
        <li><a class="summaryIndent2" href="#L2-8-4">2-8-4. Méthodes privées</a></li>
      </ul></li>
      <li><a class="summaryIndent1" href="#L2-9">2-9. La programmation orientée objet : une fable</a><ul class="nav-sommaire-ul Indentation2-9">
        
        
        <li><a class="summaryIndent2" href="#L2-9-1">2-9-1. La fable de l'éleveur de brebis</a></li>
        <li><a class="summaryIndent2" href="#L2-9-2">2-9-2. La morale de la fable</a><ul class="nav-sommaire-ul Indentation2-9-2">
          
          <li><a class="summaryIndent3" href="#L2-9-2-1">2-9-2-1. Délégation</a></li>
          <li><a class="summaryIndent3" href="#L2-9-2-2">2-9-2-2. Encapsulation</a></li>
          <li><a class="summaryIndent3" href="#L2-9-2-3">2-9-2-3. Polymorphisme</a></li>
        </ul></li>
      </ul></li>
    </ul></li>
    <li><a class="summaryIndent0" href="#L3">3. Étude de cas : un programme orienté objet plus complet</a><ul class="nav-sommaire-ul Indentation3">
      
      
      
      
      
      
      <li><a class="summaryIndent1" href="#L3-1">3-1. Les types et classes de base</a><ul class="nav-sommaire-ul Indentation3-1">
        
        <li><a class="summaryIndent2" href="#L3-1-1">3-1-1. Création d'un sous-type</a></li>
        <li><a class="summaryIndent2" href="#L3-1-2">3-1-2. La classe Adresse</a><ul class="nav-sommaire-ul Indentation3-1-2">
          
          
          
          
          
          
          <li><a class="summaryIndent3" href="#L3-1-2-1">3-1-2-1. Créer une adresse</a></li>
          <li><a class="summaryIndent3" href="#L3-1-2-2">3-1-2-2. Cloner une adresse</a></li>
          <li><a class="summaryIndent3" href="#L3-1-2-3">3-1-2-3. Créer un tableau d'adresses</a></li>
          <li><a class="summaryIndent3" href="#L3-1-2-4">3-1-2-4. Automatiser les tests</a></li>
        </ul></li>
        <li><a class="summaryIndent2" href="#L3-1-3">3-1-3. Les entités personnes physique et morale</a><ul class="nav-sommaire-ul Indentation3-1-3">
          
          
          
          
          
          <li><a class="summaryIndent3" href="#L3-1-3-1">3-1-3-1. Un rôle pour les détails communs aux différentes sortes de personnes</a></li>
          <li><a class="summaryIndent3" href="#L3-1-3-2">3-1-3-2. Définition de la classe des personnes physiques</a></li>
          <li><a class="summaryIndent3" href="#L3-1-3-3">3-1-3-3. Sérialiser un objet</a></li>
          <li><a class="summaryIndent3" href="#L3-1-3-4">3-1-3-4. Surcharge de la méthode gist</a></li>
          <li><a class="summaryIndent3" href="#L3-1-3-5">3-1-3-5. Les personnes morales : création par héritage</a></li>
          <li><a class="summaryIndent3" href="#L3-1-3-6">3-1-3-6. Les personnes morales : création par application de rôle</a></li>
          <li><a class="summaryIndent3" href="#L3-1-3-7">3-1-3-7. Héritage ou application de rôle ?</a></li>
        </ul></li>
      </ul></li>
      <li><a class="summaryIndent1" href="#L3-2">3-2. Des classes pour gérer les clients</a><ul class="nav-sommaire-ul Indentation3-2">
        
        
        
        
        <li><a class="summaryIndent2" href="#L3-2-1">3-2-1. Une classe parente et des classes filles</a></li>
        <li><a class="summaryIndent2" href="#L3-2-2">3-2-2. Un rôle Client et des classes appliquant ce rôle</a></li>
      </ul></li>
      <li><a class="summaryIndent1" href="#L3-3">3-3. Une classe compte bancaire</a><ul class="nav-sommaire-ul Indentation3-3">
        
        <li><a class="summaryIndent2" href="#L3-3-1">3-3-1. Compte bancaire de base</a></li>
        <li><a class="summaryIndent2" href="#L3-3-2">3-3-2. D'autres types de comptes bancaires</a></li>
        <li><a class="summaryIndent2" href="#L3-3-3">3-3-3. Commissions et frais bancaires</a><ul class="nav-sommaire-ul Indentation3-3-3">
          
          
          
          
          <li><a class="summaryIndent3" href="#L3-3-3-1">3-3-3-1. Frais bancaire codé en dur</a></li>
          <li><a class="summaryIndent3" href="#L3-3-3-2">3-3-3-2. Un rôle paramétré</a></li>
        </ul></li>
        <li><a class="summaryIndent2" href="#L3-3-4">3-3-4. Autres types de comptes bancaires : une solution possible</a></li>
      </ul></li>
    </ul></li>
    <li><a class="summaryIndent0" href="#L4">4. POO en Perl 6 : compléments techniques et notions avancées</a><ul class="nav-sommaire-ul Indentation4">
      
      
      <li><a class="summaryIndent1" href="#L4-1">4-1. Classes</a><ul class="nav-sommaire-ul Indentation4-1">
        
        <li><a class="summaryIndent2" href="#L4-1-1">4-1-1. Déclaration et définition d'une classe</a></li>
        <li><a class="summaryIndent2" href="#L4-1-2">4-1-2. Objets-types</a></li>
        <li><a class="summaryIndent2" href="#L4-1-3">4-1-3. Attributs</a></li>
        <li><a class="summaryIndent2" href="#L4-1-4">4-1-4. Méthodes</a></li>
        <li><a class="summaryIndent2" href="#L4-1-5">4-1-5. Objet self</a></li>
        <li><a class="summaryIndent2" href="#L4-1-6">4-1-6. Attributs et méthodes de classe</a><ul class="nav-sommaire-ul Indentation4-1-6">
          
          <li><a class="summaryIndent3" href="#L4-1-6-1">4-1-6-1. Attributs de classe</a></li>
          <li><a class="summaryIndent3" href="#L4-1-6-2">4-1-6-2. Méthodes de classe</a></li>
        </ul></li>
        <li><a class="summaryIndent2" href="#L4-1-7">4-1-7. Méthodes privées</a></li>
        <li><a class="summaryIndent2" href="#L4-1-8">4-1-8. Subméthodes</a></li>
        <li><a class="summaryIndent2" href="#L4-1-9">4-1-9. Héritage</a></li>
        <li><a class="summaryIndent2" href="#L4-1-10">4-1-10. Construction d'objet</a></li>
        <li><a class="summaryIndent2" href="#L4-1-11">4-1-11. Clonage d'objets</a></li>
      </ul></li>
      <li><a class="summaryIndent1" href="#L4-2">4-2. Les rôles</a><ul class="nav-sommaire-ul Indentation4-2">
        
        
        
        
        
        <li><a class="summaryIndent2" href="#L4-2-1">4-2-1. Application de rôles</a></li>
        <li><a class="summaryIndent2" href="#L4-2-2">4-2-2. Bouchons</a></li>
        <li><a class="summaryIndent2" href="#L4-2-3">4-2-3. Promotion automatiques des rôles (<span class="italique"><b>punning</b></span>)</a></li>
        <li><a class="summaryIndent2" href="#L4-2-4">4-2-4. Rôles paramétrés</a></li>
      </ul></li>
      <li><a class="summaryIndent1" href="#L4-3">4-3. Programmation métaobjet et introspection</a></li>
    </ul></li>
    <li><a class="summaryIndent0" href="#L5">5. Remerciements</a></li>
    <li><a class="summaryIndent0" href="#L6">6. Annexe : « antisèches » sur la POO en Perl 6</a><ul class="nav-sommaire-ul Indentation6">
      
      <li><a class="summaryIndent1" href="#L6-1">6-1. Petit glossaire de la POO en Perl 6</a></li>
      <li><a class="summaryIndent1" href="#L6-2">6-2. Index des opérateurs et mots-clefs de la POO</a></li>
    </ul></li>
  </ul></nav>


<div class="fixeMarge"><section itemprop="about" class="SectionSynopsis">
    <p>Ce document présente la programmation objet en Perl 6. Rien ne vous oblige à faire de la programmation orientée en Perl 6, mais le modèle objet est bien plus développé en Perl 6 qu'en Perl 5, il est même au centre des entrailles du langage. Il est donc important de comprendre son fonctionnement même si vous n'avez pas l'intention immédiate de programmer dans le paradigme objet. </p>
    <p>Si la programmation orientée objet vous intéresse, alors bienvenue dans un paradigme objet puissant, expressif et résolument moderne.</p>
    <p>Ce tutoriel présuppose que vous ayez une connaissance minimale de la syntaxe de Perl 6.</p>
  <p class="TextNbrVues">Article lu <span id="NbrVues">&nbsp;</span> fois.</p></section></div><div class="InfoAuthArtBook">
	<section class="SectionAuteurs">
	<header><h1 class="TitreHeader">Les trois auteurs</h1></header>
<p class="auteur" itemprop="name" itemscope itemtype="http://schema.org/Person"><a itemprop="url" class="auteur" href="http://www.developpez.net/forums/u510897/lolo78/"><span itemprop="author">Laurent Rosenfeld</span></a><a class="homepage" href="http://laurent-rosenfeld.developpez.com/"><img src="./images/kitbm-site-personnel.png" title="Site personnel" alt="Site personnel" style="vertical-align:middle;"/></a></p>
<p class="auteur" itemprop="name" itemscope itemtype="http://schema.org/Person"><a itemprop="url" class="auteur" href="https://www.developpez.net/forums/u683044/laurent_ott/"><span itemprop="author">Laurent Ott</span></a><a class="homepage" href="https://www.developpez.com/user/profil/683044/laurent_ott/"><img src="https://www.developpez.net/forums/images/ranks/pro.png" title="Profil Pro" alt="Profil Pro" style="vertical-align:middle;"/></a></p>
<p class="auteur" itemprop="name" itemscope itemtype="http://schema.org/Person"><a itemprop="url" class="auteur" href="https://www.developpez.net/forums/u35657/djibril/"><span itemprop="author">Djibril</span></a><a class="homepage" href="https://www.developpez.com/user/profil/35657/djibril/"><img src="https://www.developpez.net/forums/images/ranks/pro.png" title="Profil Pro" alt="Profil Pro" style="vertical-align:middle;"/></a><a class="homepage" href="https://djibril.developpez.com/"><img src="./images/kitbm-site-personnel.png" title="Site personnel" alt="Site personnel" style="vertical-align:middle;"/></a></p>
</section>
<section class="SectionInformationArticle">
<header><h1 class="TitreHeader">L'article</h1></header>

<p class="InfoArticle">Publi&eacute;&nbsp;le&nbsp;<span itemprop="datePublished">12 juin 2018 </span>- Mis&nbsp;&agrave;&nbsp;jour&nbsp;le&nbsp;<span itemprop="dateModified">29 septembre 2018 </span></p>
    
    
<p class="InfoArticle"><img alt="Public visé : confirmé" src="./images/public-vise-3.png"/></p>
  <p>
<span class="lientelechargementpdf"><a class="lientelechargement" href="http://laurent-rosenfeld.developpez.com/tutoriels/perl/perl6/objets/.pdf" title="Télécharger la version PDF de cet article.">Version PDF</a></span>
<span class="lientelechargementzip"><a class="lientelechargement" href="http://laurent-rosenfeld.developpez.com/tutoriels/perl/perl6/objets/.zip" title="Télécharger la version HTML de cet article.">Version hors-ligne</a></span></p>
<p><span class="lientelechargementebook"><a class="lientelechargement" href="http://laurent-rosenfeld.developpez.com/tutoriels/perl/perl6/objets/.epub" title="Télécharger la version ePub de l'article compatible avec la plupart des liseuses non Kindle (Amazon).">ePub</a></span>, <span class="lientelechargementebook"><a class="lientelechargement" href="http://laurent-rosenfeld.developpez.com/tutoriels/perl/perl6/objets/.azw" title="Télécharger la version Azw spécifique aux liseuses Kindle (Amazon).">Azw</a></span> et <span class="lientelechargementebook"><a class="lientelechargement" href="http://laurent-rosenfeld.developpez.com/tutoriels/perl/perl6/objets/.mobi" title="Télécharger la version Mobi de l'article compatible avec les liseuses Amazon.">Mobi</a></span></p>
</section></div><section itemprop="articleBody" class="articleBody">
    
		<h1 class="TitreSection0" id="L1">1. Utilisation d'objets et de méthodes en Perl 6<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h1><div class="BlocSection0">
      
      <p>Perl 6 a un modèle d'objet bien plus développé que celui de Perl 5 et cela constitue une différence majeure entre les deux versions du langage, même si l'utilisation en Perl 5 du module <span class="codeinline">Moose</span> (ou des modules dérivés plus ou moins simplifiés, <span class="codeinline">Moo</span>, <span class="codeinline">Mo</span>, <span class="codeinline">Mouse</span>, etc.), nettement inspiré du modèle objet de Perl 6, permet de se rapprocher en Perl 5 de ce qui existe en Perl 6.</p>
      <p>Perl 6 possède des mots-clefs pour créer des classes, des rôles, des attributs et des méthodes, ainsi que des méthodes et attributs privés encapsulés.</p>
      <p>Le langage Perl 6 lui-même est dans une large mesure fondé sur des types qui sont définis par des classes et des rôles. Par conséquent, une grande part des entités de données (variables, structures de données, descripteurs de fichiers, etc.) que l'on manipule en Perl 6 sont en fait, au moins implicitement, des objets (ou peuvent être utilisés comme tels) et il est à notre avis indispensable de comprendre le système d'objets interne de Perl 6 pour espérer maîtriser le langage.</p>
      <p>Il en résulte qu'une grande partie des opérations que l'on peut effectuer sur ces entités se font ou peuvent se faire à l'aide d'invocations de méthodes. Nous écrivons « se font ou peuvent se faire » parce que, Perl 6 dérivant de Perl 5, ces opérations peuvent bien souvent aussi se faire avec une syntaxe d'appel de fonction. Autrement dit, ces opérations admettent généralement deux syntaxes différentes, l'une orientée objet et l'autre fonctionnelle, et l'utilisateur peut choisir l'une ou l'autre syntaxe, suivant ses préférences, ses besoins, son humeur, les circonstances particulières, etc. Dans certains cas, la syntaxe fonctionnelle est plus expressive ; dans d'autres cas, c'est la syntaxe d'appel de méthode qui est la plus riche. De toute façon, les deux syntaxes peuvent très bien coexister.</p>
      <p>Même si vous n'envisagez pas à très court terme de développer vous-même une application  entière en programmation orientée objet et n'avez pas l'intention immédiate de développer des classes ou des rôles ni d'écrire des méthodes, et même si vous désirez vous en tenir à un style de programmation procédural classique, ou si vous aimez (comme moi) tirer parti de la puissance expressive du paradigme de la programmation fonctionnelle, il est utile, voire indispensable, de connaître et maîtriser la syntaxe objet (ou syntaxe de méthode). </p>
      <p>L'objectif de ce premier chapitre est de présenter des notions qui vous seront utiles même si vous n'écrivez pas de programmes orientés objet.</p>
      
		<h2 class="TitreSection1" id="L1-1">1-1. Invocation simple d'un objet<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <p>En Perl 6, le point (« <span class="codeinline">.</span> ») est l'opérateur (postfixé) permettant d'invoquer une méthode sur un objet. Il faut préciser ici que presque tout est objet ou du moins peut être considéré comme tel en Perl 6. Par exemple, même une simple constante numérique admet une syntaxe de méthode :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e278">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e278" onclick="selectionCode('contenuCoded0e278');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e278" class="contenuCode"><code class="perl_keyword3">say</code> <code class="perl_digit">42</code>;        <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">syntaxe</code><code class="perl_comment1"> </code><code class="perl_comment1">fonctionnelle,</code><code class="perl_comment1"> </code><code class="perl_comment1">imprime</code><code class="perl_comment1"> </code><code class="perl_comment1">42</code>
<code class="perl_digit">42</code>.<code class="perl_keyword3">say</code>;        <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">syntaxe</code><code class="perl_comment1"> </code><code class="perl_comment1">objet,</code><code class="perl_comment1"> </code><code class="perl_comment1">imprime</code><code class="perl_comment1"> </code><code class="perl_comment1">également</code><code class="perl_comment1"> </code><code class="perl_comment1">42</code></code></pre></div>
        <p>Dans la syntaxe de méthode, on écrit d'abord l'objet invoquant, suivi de l'opérateur point suivi de la méthode que l'on désire invoquer sur cet objet : <span class="codeinline">objet.méthode;</span>.</p>
        <p>Il est possible d'enchaîner deux ou plusieurs méthodes sur le même objet :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e342">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e342" onclick="selectionCode('contenuCoded0e342');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e342" class="contenuCode"><code class="perl_literal1">'</code><code class="perl_literal1">toto</code><code class="perl_literal1">'</code>.<code class="perl_keyword3">uc</code>.<code class="perl_keyword3">say</code>;   <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1">TOTO</code><code class="perl_comment1"> </code><code class="perl_comment1">(uc,</code><code class="perl_comment1"> </code><code class="perl_comment1">méthode</code><code class="perl_comment1"> </code><code class="perl_comment1">pour</code><code class="perl_comment1"> </code><code class="perl_comment1">mettre</code><code class="perl_comment1"> </code><code class="perl_comment1">en</code><code class="perl_comment1"> </code><code class="perl_comment1">capitales)</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">@list</code> <code class="perl_operator">=</code> <code class="perl_operator">&lt;</code>charlie romeo juliet alpha lima echo bravo zulu delta<code class="perl_operator">&gt;</code>;
<code class="perl_keyword2">@list</code>.<code class="perl_keyword3">sort</code>.<code class="perl_keyword3">uc</code>.<code class="perl_keyword3">say</code>;
    <code class="perl_comment1">#</code><code class="perl_comment1">imprime</code><code class="perl_comment1"> </code><code class="perl_comment1">:</code><code class="perl_comment1"> </code><code class="perl_comment1">ALPHA</code><code class="perl_comment1"> </code><code class="perl_comment1">BRAVO</code><code class="perl_comment1"> </code><code class="perl_comment1">CHARLIE</code><code class="perl_comment1"> </code><code class="perl_comment1">DELTA</code><code class="perl_comment1"> </code><code class="perl_comment1">ECHO</code><code class="perl_comment1"> </code><code class="perl_comment1">JULIET</code><code class="perl_comment1"> </code><code class="perl_comment1">LIMA</code><code class="perl_comment1"> </code><code class="perl_comment1">ROMEO</code><code class="perl_comment1"> </code><code class="perl_comment1">ZULU</code>
<code class="perl_keyword2">@list</code>.<code class="perl_keyword3">sort</code>.<code class="perl_keyword3">uc</code>.perl.<code class="perl_keyword3">say</code>;
    <code class="perl_comment1">#</code><code class="perl_comment1">imprime</code><code class="perl_comment1"> </code><code class="perl_comment1">:</code><code class="perl_comment1"> </code><code class="perl_comment1">"ALPHA</code><code class="perl_comment1"> </code><code class="perl_comment1">BRAVO</code><code class="perl_comment1"> </code><code class="perl_comment1">CHARLIE</code><code class="perl_comment1"> </code><code class="perl_comment1">DELTA</code><code class="perl_comment1"> </code><code class="perl_comment1">ECHO</code><code class="perl_comment1"> </code><code class="perl_comment1">JULIET</code><code class="perl_comment1"> </code><code class="perl_comment1">LIMA</code><code class="perl_comment1"> </code><code class="perl_comment1">ROMEO</code><code class="perl_comment1"> </code><code class="perl_comment1">ZULU"</code></code></pre></div>
        <p>La méthode <span class="codeinline"><code class="perl_keyword3">say</code></span> s'applique dans le premier exemple au résultat de la méthode <span class="codeinline"><code class="perl_keyword3">uc</code></span> appliquée à la chaîne de caractères <span class="codeinline">'toto'</span>.</p>
        <p>On remarque que la syntaxe de méthode est ici particulièrement concise et expressive.</p>
        <p>Il faut parfois prendre quelques précautions avec la syntaxe de méthode pour éviter des problèmes de précédence (<span class="italique">voir un tableau des priorités dans</span> <a class="lienArticle simple" href="http://laurent-rosenfeld.developpez.com/tutoriels/perl/perl6/les-nouveautes/#L4-3">Précédence des opérateurs</a>). Ainsi, comme l'opérateur de méthode est prioritaire sur la plupart des autres opérateurs et, notamment, sur l'opérateur de multiplication <span class="codeinline">*</span>, on a :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e551">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e551" onclick="selectionCode('contenuCoded0e551');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e551" class="contenuCode"><code class="perl_keyword3">say</code> <code class="perl_digit">4</code> <code class="perl_operator">*</code> <code class="perl_digit">1</code>.<code class="perl_keyword3">atan2</code>;     <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">3.14159265358979,</code><code class="perl_comment1"> </code><code class="perl_comment1">valeur</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">pi,</code><code class="perl_comment1"> </code><code class="perl_comment1">correct</code>
<code class="perl_digit">4</code> <code class="perl_operator">*</code> <code class="perl_digit">1</code>.<code class="perl_keyword3">atan2</code>.<code class="perl_keyword3">say</code>;     <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">0.785398163397448,</code><code class="perl_comment1"> </code><code class="perl_comment1">pi/4,</code><code class="perl_comment1"> </code><code class="perl_comment1">sans</code><code class="perl_comment1"> </code><code class="perl_comment1">doute</code><code class="perl_comment1"> </code><code class="perl_comment1">incorrect</code>
(<code class="perl_digit">4</code> <code class="perl_operator">*</code> <code class="perl_digit">1</code>.<code class="perl_keyword3">atan2</code>).<code class="perl_keyword3">say</code>    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">3.14159265358979,</code><code class="perl_comment1"> </code><code class="perl_comment1">pi,</code><code class="perl_comment1"> </code><code class="perl_comment1">valeur</code><code class="perl_comment1"> </code><code class="perl_comment1">attendue</code></code></pre></div>
        <p>Si une méthode n'a pas d'objet invoquant explicite, elle s'applique à l'objet représenté par la variable par défaut <span class="codeinline"><code class="perl_keyword2">$_</code></span> :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e669">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e669" onclick="selectionCode('contenuCoded0e669');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e669" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=given"><span>given</span></a> <code class="perl_operator">&lt;</code>un deux<code class="perl_operator">&gt;</code> <code class="perl_operator">{</code> 
    .<code class="perl_keyword3">uc</code>.<code class="perl_keyword3">say</code>     <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">équivalent</code><code class="perl_comment1"> </code><code class="perl_comment1">à</code><code class="perl_comment1"> </code><code class="perl_comment1">:</code><code class="perl_comment1"> </code><code class="perl_comment1">$_.uc.say</code>
<code class="perl_operator">}</code>
<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">UN</code><code class="perl_comment1"> </code><code class="perl_comment1">DEUX</code></code></pre></div>
      </div>
      
		<h2 class="TitreSection1" id="L1-2">1-2. Passage de paramètres<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <p>Si une méthode a besoin d'un paramètre en plus de l'objet invoquant, on peut passer l'argument entre parenthèses :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e734">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e734" onclick="selectionCode('contenuCoded0e734');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e734" class="contenuCode"><code class="perl_keyword3">say</code> <code class="perl_operator">&lt;</code>Maître Corbeau sur un arbre perché<code class="perl_operator">&gt;</code>.<code class="perl_keyword3">join</code>(<code class="perl_literal1">"</code><code class="perl_literal1">-</code><code class="perl_literal1">"</code>);
                             <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">Maître-Corbeau-sur-un-arbre-perché</code></code></pre></div>
        <p>Comme toujours en Perl 6, la parenthèse ouvrante signalant la liste d'arguments doit être accolée (sans espace) au nom de la méthode.</p>
        <p>S'il faut passer plusieurs arguments à une méthode, il suffit de les séparer par une virgule :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e771">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e771" onclick="selectionCode('contenuCoded0e771');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e771" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">@mots</code> <code class="perl_operator">=</code> <code class="perl_operator">&lt;</code>Maître Corbeau<code class="perl_operator">&gt;</code>; <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">[Maître</code><code class="perl_comment1"> </code><code class="perl_comment1">Corbeau]</code>
<code class="perl_keyword2">@mots</code>.<code class="perl_keyword3">push</code>(<code class="perl_literal1">"</code><code class="perl_literal1">sur</code><code class="perl_literal1">"</code>, <code class="perl_literal1">"</code><code class="perl_literal1">un</code><code class="perl_literal1">"</code>, <code class="perl_literal1">"</code><code class="perl_literal1">arbre</code><code class="perl_literal1">"</code>, <code class="perl_literal1">"</code><code class="perl_literal1">perché</code><code class="perl_literal1">"</code>); 
                             <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">[Maître</code><code class="perl_comment1"> </code><code class="perl_comment1">Corbeau</code><code class="perl_comment1"> </code><code class="perl_comment1">sur</code><code class="perl_comment1"> </code><code class="perl_comment1">un</code><code class="perl_comment1"> </code><code class="perl_comment1">arbre</code><code class="perl_comment1"> </code><code class="perl_comment1">perché]</code></code></pre></div>
        <p>Une autre syntaxe d'invocation de méthode consiste à séparer le nom de la méthode de la liste d'arguments par un caractère deux-points :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e870">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e870" onclick="selectionCode('contenuCoded0e870');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e870" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">@mots</code> <code class="perl_operator">=</code> <code class="perl_operator">&lt;</code>Maître Corbeau<code class="perl_operator">&gt;</code>; <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">[Maître</code><code class="perl_comment1"> </code><code class="perl_comment1">Corbeau]</code>
<code class="perl_keyword2">@mots</code>.push: <code class="perl_literal1">"</code><code class="perl_literal1">sur</code><code class="perl_literal1">"</code>, <code class="perl_literal1">"</code><code class="perl_literal1">un</code><code class="perl_literal1">"</code>, <code class="perl_literal1">"</code><code class="perl_literal1">arbre</code><code class="perl_literal1">"</code>, <code class="perl_literal1">"</code><code class="perl_literal1">perché</code><code class="perl_literal1">"</code>; 
                             <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">[Maître</code><code class="perl_comment1"> </code><code class="perl_comment1">Corbeau</code><code class="perl_comment1"> </code><code class="perl_comment1">sur</code><code class="perl_comment1"> </code><code class="perl_comment1">un</code><code class="perl_comment1"> </code><code class="perl_comment1">arbre</code><code class="perl_comment1"> </code><code class="perl_comment1">perché]</code></code></pre></div>
        <p>Dans la mesure où il faut mettre un « : » après la méthode pour lui passer des arguments sans parenthèses, une invocation de méthode non suivie d'un « : » ou de parenthèses est sans ambiguïté une méthode sans liste d'arguments :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e966">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e966" onclick="selectionCode('contenuCoded0e966');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e966" class="contenuCode"><code class="perl_keyword3">say</code> <code class="perl_digit">4</code>.<code class="perl_keyword3">log</code>    ;   <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">1.38629436111989</code><code class="perl_comment1"> </code><code class="perl_comment1">(logarithme</code><code class="perl_comment1"> </code><code class="perl_comment1">naturel</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">4)</code>
<code class="perl_keyword3">say</code> <code class="perl_digit">4</code>.log:   ;   <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">idem</code>
<code class="perl_keyword3">say</code> <code class="perl_digit">4</code>.log: <code class="perl_operator">+</code><code class="perl_digit">2</code>;   <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">2</code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1">(logarithme</code><code class="perl_comment1"> </code><code class="perl_comment1">en</code><code class="perl_comment1"> </code><code class="perl_comment1">base</code><code class="perl_comment1"> </code><code class="perl_comment1">2</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">4)</code>
<code class="perl_keyword3">say</code> <code class="perl_digit">4</code>.<code class="perl_keyword3">log</code>  <code class="perl_operator">+</code><code class="perl_digit">2</code>;   <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">3.38629436111989</code><code class="perl_comment1"> </code><code class="perl_comment1">(logarithme</code><code class="perl_comment1"> </code><code class="perl_comment1">naturel</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">4,</code><code class="perl_comment1"> </code><code class="perl_comment1">plus</code><code class="perl_comment1"> </code><code class="perl_comment1">2)</code></code></pre></div>
        <p>Les méthodes internes de Perl 6 utilisent généralement de simples paramètres positionnels. Cependant, comme les fonctions (<span class="italique">subroutines</span>), les méthodes peuvent aussi utiliser des paramètres nommés si la signature de la méthode a été déclarée de cette façon (voir par exemple la méthode <span class="codeinline">new</span> utilisée pour construire un objet <span class="codeinline">PointduPlan</span> au § <a href="#L2-1-1" class=" lienArticle simple">2.1.1</a>).</p>
        <p>Beaucoup d'opérations qui n'ont pas l'air d'appels de méthodes (par exemple une reconnaissance intelligente ou l'interpolation d'un objet dans une chaîne) se traduisent en fait par des appels de méthodes sous le capot.</p>
      </div>
    </div>
    
		<h1 class="TitreSection0" id="L2">2. Introduction à la programmation orientée objet (POO)<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h1><div class="BlocSection0">
      
      <p>Ce chapitre est une présentation simplifiée et progressive de la programmation objet en Perl, en évitant de trop entrer dans les détails. </p>
      
		<h2 class="TitreSection1" id="L2-1">2-1. Tour d'horizon de la POO en Perl 6<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <p>En informatique, un objet peut désigner de façon très générale un emplacement mémoire ou une entité ayant une valeur et souvent référencé par un identifiant. Cet objet peut par exemple être une variable, une structure de données, une table ou une fonction. Ce n'est pas dans ce sens général que nous l'emploierons ici.</p>
        <p>Lorsque l'on parle de <span class="italique">programmation orientée objet</span>, la notion d'objet se précise : un objet est une entité qui possède généralement une identité (son nom, par exemple), des propriétés (son comportement, matérialisé par des fonctions particulières habituellement nommées <span class="italique">méthodes</span>, relativement immuable et commun aux objets de même type) et des variables appelées, selon les langages, <span class="italique">attributs</span>, <span class="italique">champs</span> ou <span class="italique">membres</span> (son état, éventuellement modifiable, et généralement propre à chaque objet). En Perl 6, on parlera d'attributs.</p>
        <p>De plus, la <span class="italique">programmation orientée objet</span> ajoute généralement au moins deux nouvelles propriétés : </p>
        <ul class="ListeDVP">
          <li>le <span class="italique">polymorphism</span>e, c'est-à-dire la possibilité pour une fonction ou une méthode de faire des choses différentes selon l'objet auquel elle s'applique, et </li>
          <li>l'<span class="italique">héritage</span>, c'est-à-dire la possibilité de définir des classes d'objets dérivant d'autres classes d'objets de telle sorte que la classe fille hérite des propriétés de la classe mère, mais en définisse ou redéfinisse certaines le cas échéant. </li>
        </ul>
        <p>Une <span class="italique">classe</span> est une définition des caractéristiques d'un ou de plusieurs objets. Chaque objet créé à partir de cette classe est une <span class="italique">instance</span> de la classe en question. Le modèle de programmation objet fondé sur des classes est le plus communément utilisé en POO, mais d'autres modèles objet existent, par exemple un modèle basé sur des prototypes : un prototype est une description d'un objet qui sera utilisé comme modèle pour créer d'autres objets par clonage. Le modèle de Perl 6 est surtout basé sur les classes (et sur les rôles, on y reviendra), mais il peut aussi au besoin utiliser les prototypes et le clonage.</p>
        
		<h3 class="TitreSection2" id="L2-1-1">2-1-1. Une classe PointDuPlan<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Dans le modèle de programmation objet fondé sur des classes (le modèle OO de base de Perl 6), un objet est plus particulièrement l'instance d'une classe, dans laquelle l'objet peut être une combinaison de propriétés : variables, fonctions ou méthodes et structures de données. La classe définit la partie de ces propriétés commune à tous les objets de la classe (méthodes, contraintes), alors que l'objet contient celles de ces propriétés (identifiant, attributs, etc.) qui sont propres à l'objet et définissent son état.</p>
          <p>Dans ce modèle de programmation, il convient donc en principe de définir d'abord une classe à laquelle appartient l'objet. La classe définit les propriétés et le comportement de l'objet. C'est seulement ensuite que l'on pourra définir des objets instanciant ladite classe et possédant leurs caractéristiques propres.</p>
          <p>Une classe définit généralement surtout des attributs (qui décriront l'état de l'objet) et des méthodes (le comportement de l'objet), qui sont des fonctions associées à une classe et s'appliquant aux objets appartenant à cette classe.</p>
          <p>Sans trop nous préoccuper des détails de syntaxe pour l'instant, nous pourrions définir une classe <span class="codeinline">PointDuPlan</span> :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e1233">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e1233" onclick="selectionCode('contenuCoded0e1233');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e1233" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> PointDuPlan <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>abscisse;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>ordonnée;
    
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> coordonnées <code class="perl_operator">{</code>        <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">accesseur</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> (<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>.abscisse, <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>.ordonnée)
    <code class="perl_operator">}</code>
    
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> distanceAuCentre <code class="perl_operator">{</code>
        (<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>.abscisse <code class="perl_operator">*</code><code class="perl_operator">*</code> <code class="perl_digit">2</code> <code class="perl_operator">+</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>.ordonnée <code class="perl_operator">*</code><code class="perl_operator">*</code> <code class="perl_digit">2</code>) <code class="perl_operator">*</code><code class="perl_operator">*</code> <code class="perl_digit">0</code>.<code class="perl_digit">5</code>
    <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> coordonnéesPolaires <code class="perl_operator">{</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$rayon</code> <code class="perl_operator">=</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>.distanceAuCentre;
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$thêta</code> <code class="perl_operator">=</code> <code class="perl_keyword3">atan2</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>.ordonnée, <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>.abscisse; <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">(azimut)</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> <code class="perl_keyword2">$rayon</code>, <code class="perl_keyword2">$thêta</code>;
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code></code></pre></div>
          <p>Le mot-clef <span class="codeinline">class</span> permet de déclarer une classe ; dans l'exemple ci-dessus, la classe est définie dans le bloc de code qui suit la déclaration. Cette définition de la classe dit qu'un objet de type <span class="codeinline">PointDuPlan</span> possédera deux attributs (par défaut en lecture seule), son abscisse et son ordonnée. La classe <span class="codeinline">PointDuPlan</span> fournit en outre trois méthodes : <span class="codeinline">coordonnées</span> (simple accesseur aux coordonnées cartésiennes du point), <span class="codeinline">distanceAuCentre</span>, et <span class="codeinline">coordonnéesPolaires</span>. </p>
          <p>Dans la définition d'une méthode, <span class="codeinline">self</span> est une référence à l'objet invoquant la méthode (comme <span class="italique">this</span> ou <span class="italique">me</span> dans d'autres langages) ; il est également possible d'utiliser <span class="codeinline">$</span>, si bien que <span class="codeinline">$.abscisse</span> et <span class="codeinline">self.abscisse</span> sont à peu près équivalents et renvoient l'abscisse de l'objet invoquant la méthode. </p>
          <p>Ici, on aurait pu aussi écrire <span class="codeinline">self!abscisse</span> au lieu de <span class="codeinline">self.abscisse</span> (avec un point d'exclamation au lieu d'un simple point) pour accéder à l'abscisse de l'objet invoquant. Ces deux syntaxes ne veulent cependant pas dire tout à fait la même chose : la première, avec l'opérateur « <span class="codeinline">.</span> », est un véritable appel de méthode, alors que la seconde, avec l'opérateur « <span class="codeinline">!</span> », est un accès direct à la propriété de l'objet ; cette seconde syntaxe n'est donc disponible qu'à l'intérieur même de la classe définissant l'objet (et sera éventuellement un peu plus rapide), alors que la première peut être appelée depuis l'extérieur de la classe. Nous reviendrons sur cette distinction.</p>
          <p>À partir de cette classe, il est possible d'instancier un objet comme suit :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e1440">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e1440" onclick="selectionCode('contenuCoded0e1440');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e1440" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$point</code> <code class="perl_operator">=</code> PointDuPlan.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    abscisse <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">3</code>,
    ordonnée <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">4</code>,
    );

<code class="perl_keyword3">say</code> <code class="perl_keyword2">$point</code>.<a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=what&amp;amp;mode=all"><span>WHAT</span></a>;
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Coordonnées</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code>, <code class="perl_keyword2">$point</code>.coordonnées;
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Distance</code><code class="perl_literal1"> </code><code class="perl_literal1">au</code><code class="perl_literal1"> </code><code class="perl_literal1">point</code><code class="perl_literal1"> </code><code class="perl_literal1">origine</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code>, <code class="perl_keyword2">$point</code>.distanceAuCentre.round(<code class="perl_digit">0</code>.<code class="perl_digit">01</code>);
<code class="perl_keyword3">printf</code> <code class="perl_literal1">"</code><code class="perl_literal3">%</code><code class="perl_literal3">s</code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">rayon</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal3">%</code><code class="perl_literal1">.</code><code class="perl_literal1">4f</code><code class="perl_literal1">,</code><code class="perl_literal1"> </code><code class="perl_literal1">thêta</code><code class="perl_literal1"> </code><code class="perl_literal1">(</code><code class="perl_literal1">rad</code><code class="perl_literal1">)</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal3">%</code><code class="perl_literal1">.</code><code class="perl_literal1">4f</code><code class="perl_literal3">\n</code><code class="perl_literal1">"</code>, 
    <code class="perl_literal1">"</code><code class="perl_literal1">Coordonnées</code><code class="perl_literal1"> </code><code class="perl_literal1">polaires</code><code class="perl_literal1">"</code>, <code class="perl_keyword2">$point</code>.coordonnéesPolaires;

<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Imprime</code><code class="perl_comment1"> </code><code class="perl_comment1">:</code>
<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">(Point2D)</code>
<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Coordonnées</code><code class="perl_comment1"> </code><code class="perl_comment1">:</code><code class="perl_comment1"> </code><code class="perl_comment1">(3</code><code class="perl_comment1"> </code><code class="perl_comment1">4)</code>
<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Distance</code><code class="perl_comment1"> </code><code class="perl_comment1">au</code><code class="perl_comment1"> </code><code class="perl_comment1">point</code><code class="perl_comment1"> </code><code class="perl_comment1">origine</code><code class="perl_comment1"> </code><code class="perl_comment1">:</code><code class="perl_comment1"> </code><code class="perl_comment1">5</code>
<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Coordonnées</code><code class="perl_comment1"> </code><code class="perl_comment1">polaires:</code><code class="perl_comment1"> </code><code class="perl_comment1">rayon</code><code class="perl_comment1"> </code><code class="perl_comment1">=</code><code class="perl_comment1"> </code><code class="perl_comment1">5.0000,</code><code class="perl_comment1"> </code><code class="perl_comment1">thêta</code><code class="perl_comment1"> </code><code class="perl_comment1">(rad)</code><code class="perl_comment1"> </code><code class="perl_comment1">=</code><code class="perl_comment1"> </code><code class="perl_comment1">0.9273</code></code></pre></div>
          <p>L'objet <span class="codeinline">$point</span> est instancié (c'est-à-dire créé) par l'invocation de méthode <span class="codeinline">$PointDuPlan.new</span>, en lui passant les paramètres nommés <span class="italique">abscisse</span> et <span class="italique">ordonnée </span>afin d'initialiser les attributs correspondants de l'objet. Cette méthode n'est pas définie explicitement dans notre classe : il n'y a pas besoin de le faire parce que Perl 6 fournit le constructeur <span class="codeinline">.new</span> par défaut (on verra plus loin par quel mécanisme). Mais rien n'oblige à utiliser ce constructeur, il est possible de créer son propre constructeur ; nous verrons plus loin que cela conduit à gérer des concepts de plus bas niveau ; tenons-nous-en pour l'instant au constructeur par défaut.</p>
        </div>
      </div>
      
		<h2 class="TitreSection1" id="L2-2">2-2. Héritage<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        
		<h3 class="TitreSection2" id="L2-2-1">2-2-1. La classe PointMobile<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Les attributs <span class="codeinline">$.abscisse</span> et <span class="codeinline">$.ordonnée</span> de la classe <span class="codeinline">$PointDuPlan</span> sont par défaut en lecture seule (non mutables). Après tout, quand on définit un point du plan, il est souvent fixe et il n'y a généralement plus de raison de modifier ses coordonnées ensuite. </p>
          <p>Supposons cependant que notre application traite de cinématique ou soit à la base d'un jeu vidéo : dans ce cas, on désire sans doute que certains points ou ensembles de points puissent se déplacer. Nous allons avoir besoin d'une nouvelle classe autorisant la modification des coordonnées : <span class="codeinline">PointMobile</span>.</p>
          <p>Faut-il redéfinir toutes les méthodes pour une nouvelle classe ? Non, c'est inutile : nous pouvons définir une nouvelle classe <span class="italique">héritant</span> des propriétés de notre classe de base et y modifier ce qui ne nous convient plus ou ajouter nos besoins supplémentaires :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e1763">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e1763" onclick="selectionCode('contenuCoded0e1763');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e1763" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> PointMobile <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> PointDuPlan <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>abscisse <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>ordonnée <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> déplace (Numeric <code class="perl_keyword2">$x</code>, Numeric <code class="perl_keyword2">$y</code>) <code class="perl_operator">{</code>
        <code class="perl_keyword2">$.</code>abscisse <code class="perl_operator">+</code><code class="perl_operator">=</code> <code class="perl_keyword2">$x</code>;
        <code class="perl_keyword2">$.</code>ordonnée <code class="perl_operator">+</code><code class="perl_operator">=</code> <code class="perl_keyword2">$y</code>;
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code></code></pre></div>
          <p>La nouvelle classe <span class="codeinline">PointMobile</span> hérite de la classe <span class="codeinline">PointDuPlan</span> grâce à l'opérateur <span class="codeinline">is</span> (par l'instruction : <span class="codeinline">PointMobile is PointDuPlan</span>), c'est-à-dire qu'elle hérite de toutes ses propriétés d'origine, sauf celles qui sont explicitement modifiées ou redéfinies dans la nouvelle classe. On dit que <span class="codeinline">PointMobile</span> est une <span class="italique">classe fille</span> ou <span class="italique">classe enfant</span> (ou sous-classe) de <span class="codeinline">PointDuPlan</span>, qui est donc la <span class="italique">classe mère </span>ou<span class="italique"> classe parente </span>(parfois également appelée superclasse ou surclasse). </p>
          <p>Ici, les attributs <span class="codeinline">$.abscisse</span> et <span class="codeinline">$.ordonnée</span> sont redéfinis comme étant <span class="italique">en lecture et en écriture</span> (utilisation du <span class="italique">trait</span> <span class="codeinline">is rw</span>), c'est-à-dire qu'ils sont maintenant modifiables. De plus, une nouvelle méthode <span class="codeinline">déplace</span> est définie pour mouvoir le point invoquant en ajoutant les valeurs reçues en paramètres aux coordonnées du point. Les autres méthodes de la classe mère sont inchangées et pourront être invoquées comme précédemment. Ainsi, nous pouvons créer un nouveau point de type <span class="codeinline">PointMobile</span>, afficher ses caractéristiques, puis le déplacer et afficher ses nouvelles caractéristiques :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e1894">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e1894" onclick="selectionCode('contenuCoded0e1894');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e1894" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$point</code> <code class="perl_operator">=</code> PointMobile.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    abscisse <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">3</code>,
    ordonnée <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">4</code>,
    );

<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Coordonnées</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code>, <code class="perl_keyword2">$point</code>.coordonnées;
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Distance</code><code class="perl_literal1"> </code><code class="perl_literal1">au</code><code class="perl_literal1"> </code><code class="perl_literal1">point</code><code class="perl_literal1"> </code><code class="perl_literal1">origine</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code>, <code class="perl_keyword2">$point</code>.distanceAuCentre.round(<code class="perl_digit">0</code>.<code class="perl_digit">01</code>);
<code class="perl_keyword3">printf</code> <code class="perl_literal1">"</code><code class="perl_literal3">%</code><code class="perl_literal3">s</code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">rayon</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal3">%</code><code class="perl_literal1">.</code><code class="perl_literal1">4f</code><code class="perl_literal1">,</code><code class="perl_literal1"> </code><code class="perl_literal1">thêta</code><code class="perl_literal1"> </code><code class="perl_literal1">(</code><code class="perl_literal1">rad</code><code class="perl_literal1">)</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal3">%</code><code class="perl_literal1">.</code><code class="perl_literal1">4f</code><code class="perl_literal3">\n</code><code class="perl_literal1">"</code>, 
    <code class="perl_literal1">"</code><code class="perl_literal1">Coordonnées</code><code class="perl_literal1"> </code><code class="perl_literal1">polaires</code><code class="perl_literal1">"</code>, <code class="perl_keyword2">$point</code>.coordonnéesPolaires;

<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">-</code><code class="perl_literal1">-</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">Déplacement</code><code class="perl_literal1"> </code><code class="perl_literal1">du</code><code class="perl_literal1"> </code><code class="perl_literal1">point</code><code class="perl_literal1">.</code><code class="perl_literal1">"</code>;
<code class="perl_keyword2">$point</code>.déplace(<code class="perl_digit">4</code>, <code class="perl_digit">5</code>);
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Nouvelles</code><code class="perl_literal1"> </code><code class="perl_literal1">coordonnées</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code>, <code class="perl_keyword2">$point</code>.coordonnées;
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Distance</code><code class="perl_literal1"> </code><code class="perl_literal1">au</code><code class="perl_literal1"> </code><code class="perl_literal1">point</code><code class="perl_literal1"> </code><code class="perl_literal1">origine</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code>, <code class="perl_keyword2">$point</code>.distanceAuCentre.round(<code class="perl_digit">0</code>.<code class="perl_digit">01</code>);
<code class="perl_keyword3">printf</code> <code class="perl_literal1">"</code><code class="perl_literal3">%</code><code class="perl_literal3">s</code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">rayon</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal3">%</code><code class="perl_literal1">.</code><code class="perl_literal1">4f</code><code class="perl_literal1">,</code><code class="perl_literal1"> </code><code class="perl_literal1">thêta</code><code class="perl_literal1"> </code><code class="perl_literal1">(</code><code class="perl_literal1">rad</code><code class="perl_literal1">)</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal3">%</code><code class="perl_literal1">.</code><code class="perl_literal1">4f</code><code class="perl_literal3">\n</code><code class="perl_literal1">"</code>, 
    <code class="perl_literal1">"</code><code class="perl_literal1">Coordonnées</code><code class="perl_literal1"> </code><code class="perl_literal1">polaires</code><code class="perl_literal1">"</code>, <code class="perl_keyword2">$point</code>.coordonnéesPolaires;</code></pre></div>
          <p>Ce qui imprime :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e2224">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e2224" onclick="selectionCode('contenuCoded0e2224');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e2224" class="contenuCode">Coordonnées : (3 4)
Distance au point origine : 5
Coordonnées polaires: rayon = 5.0000, thêta (rad) = 0.9273
--&gt; Déplacement du point.
Nouvelles coordonnées : (7 9)
Distance au point origine : 11.4
Coordonnées polaires: rayon = 11.4018, thêta (rad) = 0.9098</code></pre></div>
          <p>Ici, quand le code utilisateur appelle les méthodes <span class="codeinline">coordonnées</span>, <span class="codeinline">distanceAuCentre</span> et <span class="codeinline">coordonnéesPolaires</span>, celles-ci n'existent pas dans la classe <span class="codeinline">pointMobile</span>. Mais comme cette classe hérite de <span class="codeinline">PointDuPlan</span>, le programme recherche des méthodes ayant le même nom dans la classe mère et les invoque s'il les trouve. S'il ne les trouve toujours pas dans la classe mère, il pourra être amené à remonter à la classe mère de la classe mère, et ainsi de suite dans la hiérarchie d'héritage le cas échéant.</p>
          <p>Dans l'exemple ci-dessus, les deux attributs de la classe mère sont redéfinis dans la classe fille. Si l'on suppose pour un instant que, pour les besoins de notre application, seule l'ordonnée est susceptible de varier, alors la classe fille n'aurait besoin de redéfinir que l'ordonnée :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e2248">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e2248" onclick="selectionCode('contenuCoded0e2248');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e2248" class="contenuCode">class PointMobile is PointDuPlan {
    has $.ordonnée is rw;
    
    method déplace (Numeric $y) {
        $.ordonnée += $y;
    }
}</code></pre></div>
          <p>Dans ce cas, la syntaxe pour créer le nouveau point doit indiquer que l'un des attributs est défini dans la classe mère (<span class="codeinline">PointDuPlan</span>) et l'autre dans la classe fille (<span class="codeinline">PointMobile</span>) :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e2260">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e2260" onclick="selectionCode('contenuCoded0e2260');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e2260" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$point</code> <code class="perl_operator">=</code> PointMobile.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    PointDuPlan <code class="perl_operator">{</code> abscisse <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">3</code><code class="perl_operator">}</code>,
    ordonnée <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">4</code>,
);</code></pre></div>
          <p>Rien de bien compliqué à la vérité, mais si cette syntaxe paraît obscure ou peu pratique, il y a  toujours la possibilité de définir son propre constructeur sur mesure.</p>
        </div>
        
		<h3 class="TitreSection2" id="L2-2-2">2-2-2. La classe Pixel<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>La classe <span class="codeinline">PointDuPlan</span> est très générale et peut servir à faire de la géométrie, du dessin vectoriel, de l'animation ou toutes autres sortes de choses. On peut par exemple vouloir l'utiliser pour afficher des données à l'écran et définir à cette fin une nouvelle classe fille <span class="codeinline">Pixel</span> qui ajoute de nouvelles propriétés (couleur, peut-être transparence, etc.) à un point du plan. Selon les normes les plus communément employées, une couleur sera définie par trois nombres entiers (en fait trois octets, des entiers compris entre 0 et 255 en notation décimale) représentant les composantes rouge, verte et bleue (RVB) du pixel :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e2313">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e2313" onclick="selectionCode('contenuCoded0e2313');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e2313" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Pixel <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> PointDuPlan <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">%</code>.couleur <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;

    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> change_couleur(<code class="perl_keyword2">%teinte</code>) <code class="perl_operator">{</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>.couleur <code class="perl_operator">=</code> <code class="perl_keyword2">%teinte</code>
    <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> change_couleur2(<a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=int&amp;amp;mode=all"><span>Int</span></a> <code class="perl_keyword2">$red</code>, <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=int&amp;amp;mode=all"><span>Int</span></a> <code class="perl_keyword2">$green</code>, <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=int&amp;amp;mode=all"><span>Int</span></a> <code class="perl_keyword2">$blue</code>) <code class="perl_operator">{</code>
        <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">la</code><code class="perl_comment1"> </code><code class="perl_comment1">signature</code><code class="perl_comment1"> </code><code class="perl_comment1">utilise</code><code class="perl_comment1"> </code><code class="perl_comment1">des</code><code class="perl_comment1"> </code><code class="perl_comment1">arguments</code><code class="perl_comment1"> </code><code class="perl_comment1">positionnels</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>.couleur <code class="perl_operator">=</code> (rouge <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$red</code>, vert <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$green</code>, bleu <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$blue</code>)
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code></code></pre></div>
          <p>Nous avons écrit ici deux méthodes de changement des couleurs uniquement pour illustrer deux syntaxes différentes.  La seconde utilise des arguments positionnels, ce qui oblige l'utilisateur à se souvenir de l'ordre (RVB) dans lequel les arguments doivent être passés ; cela peut être source de confusion et devrait probablement être évité dès que le nombre de paramètres dépasse un certain seuil (que nous laisserons à l'appréciation du lecteur). D'un autre côté, la syntaxe de la seconde méthode présente l'avantage de vérifier que les arguments reçus sont bien des entiers. </p>
          <p>Ceci n'est qu'un exemple simplifié pour un tutoriel ; dans la réalité, on pourrait sans doute vouloir, pour garantir la robustesse du logiciel, définir un type <span class="codeinline">Octet</span> (ou un sous-ensemble du type <span class="codeinline">Int</span>), un entier compris entre 0 et 255, et s'assurer que les trois composantes RVB sont conformes à ce type (et générer une exception si ce n'est pas le cas) :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e2455">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e2455" onclick="selectionCode('contenuCoded0e2455');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e2455" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=subset"><span>subset</span></a> Octet <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=of"><span>of</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=int&amp;amp;mode=all"><span>Int</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=where"><span>where</span></a> <code class="perl_operator">{</code><code class="perl_keyword2">$_</code> <code class="perl_operator">&gt;</code> <code class="perl_digit">0</code> <code class="perl_operator">and</code> <code class="perl_keyword2">$_</code> <code class="perl_operator">&lt;=</code> <code class="perl_digit">255</code><code class="perl_operator">}</code>;</code></pre></div>
          <p>Utiliser la nouvelle classe Pixel ne pose pas de difficulté :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e2497">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e2497" onclick="selectionCode('contenuCoded0e2497');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e2497" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$pix</code> <code class="perl_operator">=</code> Pixel.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    :abscisse(<code class="perl_digit">3</code>),
    :ordonnée(<code class="perl_digit">4</code>),
    couleur <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_operator">{</code>rouge <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">34</code>, vert <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">233</code>, bleu <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">145</code><code class="perl_operator">}</code>, 
    );

<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Le</code><code class="perl_literal1"> </code><code class="perl_literal1">pixel</code><code class="perl_literal1"> </code><code class="perl_literal1">d</code><code class="perl_literal1">'</code><code class="perl_literal1">origine</code><code class="perl_literal1"> </code><code class="perl_literal1">a</code><code class="perl_literal1"> </code><code class="perl_literal1">les</code><code class="perl_literal1"> </code><code class="perl_literal1">couleurs</code><code class="perl_literal1"> </code><code class="perl_literal1">suivantes</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code>, <code class="perl_keyword2">$pix</code>.couleur.perl;

<code class="perl_keyword2">$pix</code>.change_couleur(<code class="perl_operator">{</code>:rouge(<code class="perl_digit">195</code>), :vert(<code class="perl_digit">110</code>), :bleu(<code class="perl_digit">70</code>),<code class="perl_operator">}</code>);
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Le</code><code class="perl_literal1"> </code><code class="perl_literal1">pixel</code><code class="perl_literal1"> </code><code class="perl_literal1">modifié</code><code class="perl_literal1"> </code><code class="perl_literal1">a</code><code class="perl_literal1"> </code><code class="perl_literal1">les</code><code class="perl_literal1"> </code><code class="perl_literal1">couleurs</code><code class="perl_literal1"> </code><code class="perl_literal1">suivantes</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal3">{</code><code class="perl_literal3">$pix.couleur.perl</code><code class="perl_literal3">}</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code>;
<code class="perl_keyword3">printf</code> <code class="perl_literal1">"</code><code class="perl_literal1">Nouvelles</code><code class="perl_literal1"> </code><code class="perl_literal1">caractéristiques</code><code class="perl_literal1"> </code><code class="perl_literal1">du</code><code class="perl_literal1"> </code><code class="perl_literal1">pixel</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal3">\n</code><code class="perl_literal3">\t</code><code class="perl_literal1">Abscisse</code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal3">%</code><code class="perl_literal3">d</code><code class="perl_literal3">\n</code><code class="perl_literal3">\t</code><code class="perl_literal1">Ordonnée</code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal3">%</code><code class="perl_literal3">d</code><code class="perl_literal3">\n</code><code class="perl_literal3">\t</code><code class="perl_literal1">Couleur</code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">R</code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal3">%</code><code class="perl_literal3">d</code><code class="perl_literal1">,</code><code class="perl_literal1"> </code><code class="perl_literal1">V</code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal3">%</code><code class="perl_literal3">d</code><code class="perl_literal1">,</code><code class="perl_literal1"> </code><code class="perl_literal1">B</code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal3">%</code><code class="perl_literal3">d</code><code class="perl_literal3">\n</code><code class="perl_literal1">"</code>,
       <code class="perl_keyword2">$pix</code>.abscisse, <code class="perl_keyword2">$pix</code>.ordonnée, <code class="perl_keyword2">$pix</code>.couleur<code class="perl_keyword2">&lt;rouge&gt;</code>, <code class="perl_keyword2">$pix</code>.couleur<code class="perl_operator">{</code><code class="perl_literal1">"</code><code class="perl_literal1">vert</code><code class="perl_literal1">"</code><code class="perl_operator">}</code>, <code class="perl_keyword2">$pix</code>.couleur<code class="perl_operator">{</code><code class="perl_literal1">"</code><code class="perl_literal1">bleu</code><code class="perl_literal1">"</code><code class="perl_operator">}</code>;;

<code class="perl_keyword2">$pix</code>.change_couleur2(<code class="perl_digit">90</code>, <code class="perl_digit">180</code>, <code class="perl_digit">30</code>);  <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">args</code><code class="perl_comment1"> </code><code class="perl_comment1">positionnels</code><code class="perl_comment1"> </code><code class="perl_comment1">moins</code><code class="perl_comment1"> </code><code class="perl_comment1">clairs</code>
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Nouvelles</code><code class="perl_literal1"> </code><code class="perl_literal1">couleurs</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1"> </code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">R</code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal3">{</code><code class="perl_literal3">$pix.couleur&lt;rouge&gt;</code><code class="perl_literal3">}</code><code class="perl_literal1">,</code><code class="perl_literal1"> </code><code class="perl_literal1">V</code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal3">{</code><code class="perl_literal3">$pix.couleur&lt;vert&gt;</code><code class="perl_literal3">}</code><code class="perl_literal1">,</code><code class="perl_literal1"> </code><code class="perl_literal1">B</code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal3">{</code><code class="perl_literal3">$pix.couleur&lt;bleu&gt;</code><code class="perl_literal3">}</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code>;</code></pre></div>
          <p>La notation <span class="codeinline">:abscisse(3)</span> employée ici est simplement une autre façon de passer un argument nommé à la fonction <span class="codeinline">new</span> et est équivalente à <span class="codeinline">abscisse =&gt; 3</span> utilisée précédemment.</p>
          <p>Ce programme affiche :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e2933">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e2933" onclick="selectionCode('contenuCoded0e2933');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e2933" class="contenuCode">Le pixel d'origine a les couleurs suivantes : {:bleu(145), :rouge(34), :vert(233)}
Le pixel modifié a les couleurs suivantes : {:bleu(70), :rouge(195), :vert(110)}
Nouvelles caractéristiques du pixel :
        Abcisse: 3
        Ordonnée: 4
        Couleur: R: 195, V: 110, B: 70
Nouvelles couleurs :
    R: 90, V: 180, B: 30</code></pre></div>
        </div>
        
		<h3 class="TitreSection2" id="L2-2-3">2-2-3. Héritage multiple : séduisant mais périlleux<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>En programmation objet, l'utilisation du mécanisme d'héritage permet traditionnellement la <span class="italique">réutilisation</span> du code, c'est même sans doute la façon le plus courante d'envisager la réutilisation du code en POO, au point que l'héritage est probablement la caractéristique la plus emblématique de la POO.</p>
          <p>Une classe peut avoir plusieurs classes parentes et, donc, hériter de plusieurs autres classes. On se retrouve alors dans une situation d'héritage multiple (voir aussi § <a href="#L4-1-9" class=" lienArticle simple">4.1.9</a>). Nous pourrions par exemple vouloir construire une nouvelle classe <span class="codeinline">PixelMobile</span>, héritant à la fois de <span class="codeinline">PointMobile</span> et de <span class="codeinline">Pixel</span>. C'est techniquement tout à fait faisable en Perl 6, et même théoriquement assez simple à faire :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e2963">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e2963" onclick="selectionCode('contenuCoded0e2963');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e2963" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> PixelMobile <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> PointMobile <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Pixel <code class="perl_operator">{</code>
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code>
<code class="perl_operator">}</code></code></pre></div>
          <p>mais ce genre de démarche pose assez vite de réelles difficultés de mise en &#339;uvre : s'il y a conflit (par exemple collision de nommage entre deux méthodes) entre les deux classes mères, laquelle l'emporte ? On peut également rencontrer des problèmes d'héritage à répétition si les deux classes mères héritent de la même classe « grand-mère » (ou « aïeule ») : quelle copie de la classe « grand-mère » ou ancêtre commune doit-on conserver ? Il existe des mécanismes pour gérer ce genre de situation (par exemple en C++), mais on peut vite arriver à de gros problèmes de conception et à des bogues particulièrement difficiles à résoudre.</p>
          <p>L'héritage multiple était à l'origine un concept intellectuellement fort séduisant, mais on s'est aperçu à l'usage qu'il peut vite devenir complexe à maîtriser, car il crée de multiples dépendances souvent implicites et difficiles à démêler. C'est pourquoi de nombreux langages orientés objet relativement récents, comme Java (sorti en 1995, tout de même), ont préféré renoncer purement et simplement au paradigme de l'héritage multiple. </p>
          <p>Perl 6 supporte le mécanisme d'héritage multiple si vous y tenez, et vous pouvez donc y aller à c&#339;ur joie si vous aimez prendre le risque de vous tirer une balle dans le pied. À notre humble avis, ce mécanisme fonctionne plutôt assez bien dans des cas simples, bien compris et bien conçus, et il n'y a donc pas forcément lieu de l'excommunier aveuglément dans ce genre de situations bien claires, mais il devient assez vite indéchiffrable quand l'arborescence des héritages s'étoffe ou se complique notablement. </p>
          <p>L'auteur de ces lignes a eu l'occasion de travailler assez intensément sur le noyau d'un système d'exploitation presque entièrement écrit en C++ (l'autre langage utilisé étant de l'assembleur) avec utilisation abondante d'héritage multiple et peut témoigner du fait que l'on se retrouve parfois avec du code « <span class="italique">write-only</span> » (en écriture seule), c'est-à-dire du code que l'on maîtrise (ou croit maîtriser) au moment où on l'écrit, mais assez incompréhensible quand on le relit ou le maintient quelques semaines ou mois plus tard. Nous verrons plus loin que Perl 6 fournit un autre mécanisme fondamental de réutilisation du code, les <span class="italique">rôles</span>, considéré comme plus expressif et plus fiable quand les choses deviennent complexes. Les rôles permettent d'éviter l'héritage multiple et éliminent ainsi une bonne partie de ses pièges.</p>
          <p>La <span class="italique">composition</span> et la <span class="italique">délégation</span> sont d'autres moyens classiques de structuration et de réutilisation de code.</p>
        </div>
      </div>
      
		<h2 class="TitreSection1" id="L2-3">2-3. Composition d'objets<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <p>La composition (ou agrégation) est l'utilisation d'objets dans d'autres objets : pour fixer les idées, on peut considérer (de façon très simplificatrice) que la classe <span class="codeinline">voiture</span> est l'agrégation de l'instance d'une classe <span class="codeinline">moteur</span>, de l'instance d'une classe <span class="codeinline">châssis</span> et de quatre instances d'une classe <span class="codeinline">roue</span>.</p>
        <p>De même, la classe <span class="codeinline">PointDuPlan</span> peut servir de brique de construction pour créer des entités ou figures géométriques plus complexes telles que des segments de droite, des vecteurs, des triangles, etc. On peut par exemple créer une classe <span class="codeinline">Bipoint</span> contenant deux objets de type <span class="codeinline">PointDuPLan</span>, le point d'origine et le point d'arrivée, et définissant donc des segments orientés :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e3047">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e3047" onclick="selectionCode('contenuCoded0e3047');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e3047" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Bipoint <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> PointDuPlan <code class="perl_keyword2">$.</code>origine;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> PointDuPlan <code class="perl_keyword2">$.</code>arrivée;
    
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> norme <code class="perl_operator">{</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> ((<code class="perl_keyword2">$!</code>arrivée.abscisse <code class="perl_operator">-</code> <code class="perl_keyword2">$!</code>origine.abscisse) <code class="perl_operator">*</code><code class="perl_operator">*</code> <code class="perl_digit">2</code> <code class="perl_operator">+</code> 
            (<code class="perl_keyword2">$!</code>arrivée.ordonnée <code class="perl_operator">-</code> <code class="perl_keyword2">$!</code>origine.ordonnée) <code class="perl_operator">*</code><code class="perl_operator">*</code><code class="perl_digit">2</code>) <code class="perl_operator">*</code><code class="perl_operator">*</code> <code class="perl_digit">0</code>.<code class="perl_digit">5</code>;
    <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> pente <code class="perl_operator">{</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> (<code class="perl_keyword2">$!</code>arrivée.ordonnée <code class="perl_operator">-</code> <code class="perl_keyword2">$!</code>origine.ordonnée) <code class="perl_operator">/</code> 
                  (<code class="perl_keyword2">$!</code>arrivée.abscisse <code class="perl_operator">-</code> <code class="perl_keyword2">$!</code>origine.abscisse);
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code></code></pre></div>
        <p>Cette classe possède deux attributs de type <span class="codeinline">PointDuPlan</span> et offre deux méthodes : <span class="codeinline">norme</span>, qui renvoie la distance entre les deux points (longueur du segment), et <span class="codeinline">pente</span>, qui renvoie le coefficient directeur de la droite porteuse du segment.</p>
        <p>Dans la méthode <span class="codeinline">norme</span>, l'expression <span class="codeinline">$!arrivée.abscisse</span> permet de commencer à mieux préciser la différence entre les opérateurs « <span class="codeinline">.</span> » et « <span class="codeinline">!</span> ». Le point d'exclamation est utilisable pour accéder à la propriété <span class="codeinline">arrivée</span> du bipoint, car ce code est à l'intérieur de la classe définissant cet attribut, mais le simple point est indispensable pour accéder à l'<span class="codeinline">abscisse</span> de ce point, car il faut une invocation de méthode pour accéder à une propriété définie ici dans une autre classe (la classe mère <span class="codeinline">PointDuPlan</span>). Ici, nous aurions pu aussi écrire <span class="codeinline">$.arrivée.abscisse</span>, mais pas <span class="codeinline">$!arrivée!abscisse</span>, ni <span class="codeinline">$.arrivée!abscisse</span>.</p>
        <p>L'instanciation d'un objet de type <span class="codeinline">Bipoint</span> ne pose pas de difficulté particulière, il suffit de créer les deux points (objets de type <span class="codeinline">PointDuPlan</span>) le définissant et de les passer en paramètre au constructeur :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e3215">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e3215" onclick="selectionCode('contenuCoded0e3215');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e3215" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$debut</code> <code class="perl_operator">=</code> PointDuPlan.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    abscisse <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">2</code>,
    ordonnée <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">1</code>,
);
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$fin</code> <code class="perl_operator">=</code> PointDuPlan.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    abscisse <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">3</code>,
    ordonnée <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">4</code>,
);

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$segment</code> <code class="perl_operator">=</code> Bipoint.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    origine <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$debut</code>,
    arrivée <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$fin</code>
);
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Norme</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal3">{</code><code class="perl_literal3">$segment.norme.round(0.001)</code><code class="perl_literal3">}</code><code class="perl_literal1">"</code>;  <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">Norme</code><code class="perl_comment1"> </code><code class="perl_comment1">=</code><code class="perl_comment1"> </code><code class="perl_comment1">3.162</code>
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Pente</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal3">{</code><code class="perl_literal3">$segment.pente.round(0.001)</code><code class="perl_literal3">}</code><code class="perl_literal1">"</code>;  <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">Pente</code><code class="perl_comment1"> </code><code class="perl_comment1">=</code><code class="perl_comment1"> </code><code class="perl_comment1">3</code></code></pre></div>
        <p>À noter que nous utilisons dans les deux dernières lignes de code ci-dessus la possibilité fort pratique en Perl 6 d'interpoler et donc d'exécuter un bloc de code (entre accolades) à l'intérieur d'une chaîne de caractères délimitée par des guillemets doubles. Ici,  <span class="codeinline">norme</span> et <span class="codeinline">round</span> ne sont pas des attributs du <span class="codeinline">$segment</span>, mais bien des invocations de méthodes qui s'exécutent lors de l'affichage de la chaîne de caractères.</p>
        <p>Il n'est cependant pas vraiment nécessaire de prédéfinir les deux points comme ci-dessus. On peut créer deux points anonymes à la volée dans l'appel du constructeur de l'objet de type <span class="codeinline">Bipoint</span> :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e3400">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e3400" onclick="selectionCode('contenuCoded0e3400');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e3400" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$segment</code> <code class="perl_operator">=</code> Bipoint.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    origine <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> PointDuPlan.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(abscisse <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">2</code>, ordonnée <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">1</code>),
    arrivée <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> PointDuPlan.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(abscisse <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">3</code>, ordonnée <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">4</code>),
);
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Norme</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal3">{</code><code class="perl_literal3">$segment.norme.round(0.001)</code><code class="perl_literal3">}</code><code class="perl_literal1">"</code>;  <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">Norme</code><code class="perl_comment1"> </code><code class="perl_comment1">=</code><code class="perl_comment1"> </code><code class="perl_comment1">3.162</code>
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Pente</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal3">{</code><code class="perl_literal3">$segment.pente.round(0.001)</code><code class="perl_literal3">}</code><code class="perl_literal1">"</code>;  <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">Pente</code><code class="perl_comment1"> </code><code class="perl_comment1">=</code><code class="perl_comment1"> </code><code class="perl_comment1">3</code></code></pre></div>
        <p>Les deux points n'ont plus de nom individuel permettant d'y accéder directement, mais il est toujours possible au besoin de récupérer leurs caractéristiques respectives en invoquant les méthodes <span class="codeinline">origine</span> et <span class="codeinline">arrivée</span> sur le bipoint <span class="codeinline">$segment</span> :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e3555">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e3555" onclick="selectionCode('contenuCoded0e3555');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e3555" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$abscisse_origine</code> <code class="perl_operator">=</code> <code class="perl_keyword2">$segment</code>.origine.abscisse;</code></pre></div>
      </div>
      
		<h2 class="TitreSection1" id="L2-4">2-4. Composition versus héritage<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <p>Nous pouvons définir une classe <span class="codeinline">Personne</span> utilisant une instance de la classe <span class="codeinline">Adresse</span> (ainsi qu'une <span class="codeinline">date-de-naissance</span> instanciant la classe interne <span class="codeinline">Date</span>) :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e3590">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e3590" onclick="selectionCode('contenuCoded0e3590');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e3590" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Adresse <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=int&amp;amp;mode=all"><span>Int</span></a> <code class="perl_keyword2">$.</code>numéro;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>voie;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>commune;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>code<code class="perl_operator">-</code>postal;
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> formate<code class="perl_operator">-</code>adresse <code class="perl_operator">{</code>
        <code class="perl_literal1">"</code><code class="perl_literal3">\t</code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">numéro</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">voie</code><code class="perl_literal3">\n</code><code class="perl_literal1">"</code> <code class="perl_operator">~</code> 
        <code class="perl_literal1">"</code><code class="perl_literal3">\t</code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">code</code><code class="perl_literal1">-</code><code class="perl_literal1">postal</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">commune</code><code class="perl_literal1">"</code>;
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Personne <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>nom;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>prénom;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>sexe <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=where"><span>where</span></a> <code class="perl_operator">{</code><code class="perl_keyword2">$_</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=eq"><span>eq</span></a> <code class="perl_literal1">"</code><code class="perl_literal1">M</code><code class="perl_literal1">"</code><code class="perl_operator">|</code><code class="perl_literal1">"</code><code class="perl_literal1">F</code><code class="perl_literal1">"</code><code class="perl_operator">}</code>; <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">ne</code><code class="perl_comment1"> </code><code class="perl_comment1">peut</code><code class="perl_comment1"> </code><code class="perl_comment1">être</code><code class="perl_comment1"> </code><code class="perl_comment1">que</code><code class="perl_comment1"> </code><code class="perl_comment1">M</code><code class="perl_comment1"> </code><code class="perl_comment1">ou</code><code class="perl_comment1"> </code><code class="perl_comment1">F</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Date <code class="perl_keyword2">$.</code>date<code class="perl_operator">-</code>de<code class="perl_operator">-</code>naissance;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>lieu<code class="perl_operator">-</code>de<code class="perl_operator">-</code>naissance;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Adresse <code class="perl_keyword2">$.</code>adresse <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>numéro<code class="perl_operator">-</code>sécu;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>telephone<code class="perl_operator">-</code>personnel <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> show<code class="perl_operator">-</code>person <code class="perl_operator">{</code>dd <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a><code class="perl_operator">}</code>;  <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">(méthode</code><code class="perl_comment1"> </code><code class="perl_comment1">temporaire</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">débogage)</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> âge <code class="perl_operator">{</code> 
        <code class="perl_keyword3">sprintf</code> <code class="perl_literal1">"</code><code class="perl_literal3">%</code><code class="perl_literal3">d</code><code class="perl_literal1">"</code>, (Date.today <code class="perl_operator">-</code> <code class="perl_keyword2">$.</code>date<code class="perl_operator">-</code>de<code class="perl_operator">-</code>naissance)<code class="perl_operator">/</code><code class="perl_digit">365</code>
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code></code></pre></div>
        <p>On voit que l'attribut <span class="codeinline">$.adresse</span> est un objet instanciant la classe <span class="codeinline">Addresse</span> définie précédemment.</p>
        <p>Un exemple classique de composition d'objet est l'objet de type <span class="codeinline">Employé</span>, qui contient des informations de nature professionnelle (job, position hiérarchique, date d'arrivée dans l'entreprise, salaire, etc.), mais rassemble aussi les données personnelles sur l'employé (état-civil, etc.) dans un « sous-objet » de type <span class="codeinline">Personne</span>. Puisque nous venons de définir une classe <span class="codeinline">Personne</span>, nous pouvons immédiatement composer un objet de type <span class="codeinline">Personne</span> dans notre nouvelle classe <span class="codeinline">Employé</span> :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e3978">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e3978" onclick="selectionCode('contenuCoded0e3978');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e3978" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Employé <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Personne <code class="perl_keyword2">$.</code>données<code class="perl_operator">-</code>personnelles;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Numeric <code class="perl_keyword2">$.</code>matricule;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>intitulé<code class="perl_operator">-</code>poste <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Numeric <code class="perl_keyword2">$.</code>salaire <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code><code class="perl_comment1"> </code><code class="perl_comment1"> </code>
<code class="perl_operator">}</code></code></pre></div>
        <p>Nous pouvons maintenant instancier un employé :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e4047">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e4047" onclick="selectionCode('contenuCoded0e4047');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e4047" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$salarié</code> <code class="perl_operator">=</code> Employé.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    données<code class="perl_operator">-</code>personnelles <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> Personne.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
        nom <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Chiponelli</code><code class="perl_literal1">"</code>,
        prénom <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Jean</code><code class="perl_literal1">"</code>,
        sexe <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">M</code><code class="perl_literal1">"</code>,
        date<code class="perl_operator">-</code>de<code class="perl_operator">-</code>naissance <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> Date.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(<code class="perl_digit">1992</code>, <code class="perl_digit">10</code>, <code class="perl_digit">24</code>),
        lieu<code class="perl_operator">-</code>de<code class="perl_operator">-</code>naissance <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Strasbourg</code><code class="perl_literal1">"</code>,
        adresse <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> Adresse.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>( 
           numéro <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">42</code>, voie <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">boulevard</code><code class="perl_literal1"> </code><code class="perl_literal1">Carnot</code><code class="perl_literal1">"</code>,
           commune <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Nice</code><code class="perl_literal1">"</code>, code<code class="perl_operator">-</code>postal <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">06000</code><code class="perl_literal1">"</code>
        ),
        numéro<code class="perl_operator">-</code>sécu <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">1</code><code class="perl_literal1">-</code><code class="perl_literal1">92</code><code class="perl_literal1">-</code><code class="perl_literal1">10</code><code class="perl_literal1">-</code><code class="perl_literal1">67</code><code class="perl_literal1">.</code><code class="perl_literal1">.</code><code class="perl_literal1">.</code><code class="perl_literal1">"</code>,  
        telephone<code class="perl_operator">-</code>personnel <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">0712345678</code><code class="perl_literal1">"</code> 
    ),
    matricule <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">12345</code>,
    intitulé<code class="perl_operator">-</code>poste <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Agent</code><code class="perl_literal1"> </code><code class="perl_literal1">d</code><code class="perl_literal1">'</code><code class="perl_literal1">entretien</code><code class="perl_literal1">"</code>,
    salaire <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">1234</code>.<code class="perl_digit">5</code>
);</code></pre></div>
        <p>Notons que, comme nous avons appris à le faire dans la section précédente, nous créons ici les « sous-objets » anonymes de types <span class="codeinline">Personne</span>, <span class="codeinline">Adresse</span> et <span class="codeinline">Date</span> directement à la volée, sans créer d'objets temporaires intermédiaires.</p>
        <p>Nous pouvons utiliser l'objet <span class="codeinline">$salarié</span> comme suit :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e4316">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e4316" onclick="selectionCode('contenuCoded0e4316');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e4316" class="contenuCode"><code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Matricule</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">l</code><code class="perl_literal1">'</code><code class="perl_literal1">employé</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal3">{</code><code class="perl_literal3">$salarié.matricule</code><code class="perl_literal3">}</code><code class="perl_literal1">"</code>;
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Âge</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal3">{</code><code class="perl_literal3">$salarié.données-personnelles.nom,</code><code class="perl_literal3"> </code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal3">$salarié</code><code class="perl_literal1">.</code><code class="perl_literal1">données</code><code class="perl_literal1">-</code><code class="perl_literal1">personnelles</code><code class="perl_literal1">.</code><code class="perl_literal1">prénom</code><code class="perl_literal1">}</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code>, 
    <code class="perl_keyword2">$salarié</code>.données<code class="perl_operator">-</code>personnelles.âge;
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Adresse</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal3">\n</code><code class="perl_literal1">"</code> <code class="perl_operator">~</code> <code class="perl_keyword2">$salarié</code>.données<code class="perl_operator">-</code>personnelles.adresse.formate<code class="perl_operator">-</code>adresse;
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Données</code><code class="perl_literal1"> </code><code class="perl_literal1">personnelles</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code>;
<code class="perl_keyword2">$salarié</code>.données<code class="perl_operator">-</code>personnelles.telephone<code class="perl_operator">-</code>personnel <code class="perl_operator">=</code> <code class="perl_literal1">"</code><code class="perl_literal1">069876543</code><code class="perl_literal1">"</code>;
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Nouveau</code><code class="perl_literal1"> </code><code class="perl_literal1">numéro</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">téléphone</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code>, 
    <code class="perl_keyword2">$salarié</code>.données<code class="perl_operator">-</code>personnelles.telephone<code class="perl_operator">-</code>personnel;
<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Affichage</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">l'ensemble</code><code class="perl_comment1"> </code><code class="perl_comment1">des</code><code class="perl_comment1"> </code><code class="perl_comment1">données-personnelles:</code>
<code class="perl_keyword2">$salarié</code>.données<code class="perl_operator">-</code>personnelles.show<code class="perl_operator">-</code>person;</code></pre></div>
        <p>Ce qui affiche :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e4552">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e4552" onclick="selectionCode('contenuCoded0e4552');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e4552" class="contenuCode">Matricule de l'employé : 12345
Âge de Jean Chiponelli : 24
Adresse :
        42 boulevard Carnot
        06000 Nice
Données personnelles :
Nouveau numéro de téléphone : 069876543
Personne.new(nom =&gt; "Chiponelli", prénom =&gt; "Jean", sexe =&gt; "M", date-de-naissance =&gt; Date.new(1992,10,24), lieu-de-naissance =&gt; "Strasbourg", adresse =&gt; Adresse.new(numéro =&gt; 42, voie =&gt; "boulevard Carnot", commune =&gt; "Nice", code-postal =&gt; "06000"), numéro-sécu =&gt; "1-92-10-67...", telephone-personnel =&gt; "069876543")</code></pre></div>
        <p>L'un des intérêts de cet exemple est qu'il est aussi très facile à mettre en &#339;uvre avec une classe <span class="codeinline">Employé</span> héritant d'une classe <span class="codeinline">Personne</span> (car un employé est forcément une personne), ce qui permet de comparer les deux modélisations, composition et héritage :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e4564">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e4564" onclick="selectionCode('contenuCoded0e4564');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e4564" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Employe<code class="perl_operator">-</code>herit <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Personne <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Numeric <code class="perl_keyword2">$.</code>matricule;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>intitulé<code class="perl_operator">-</code>poste <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Numeric <code class="perl_keyword2">$.</code>salaire <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code>
<code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$salarié2</code> <code class="perl_operator">=</code> Employe<code class="perl_operator">-</code>herit.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    nom <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Benali</code><code class="perl_literal1">"</code>,
    prénom <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Samira</code><code class="perl_literal1">"</code>,
    sexe <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">F</code><code class="perl_literal1">"</code>,
    date<code class="perl_operator">-</code>de<code class="perl_operator">-</code>naissance <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> Date.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(<code class="perl_digit">1990</code>, <code class="perl_digit">11</code>, <code class="perl_digit">17</code>),
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code><code class="perl_comment1"> </code><code class="perl_comment1">autres</code><code class="perl_comment1"> </code><code class="perl_comment1">données</code><code class="perl_comment1"> </code><code class="perl_comment1">relatives</code><code class="perl_comment1"> </code><code class="perl_comment1">à</code><code class="perl_comment1"> </code><code class="perl_comment1">la</code><code class="perl_comment1"> </code><code class="perl_comment1">personne</code><code class="perl_comment1"> </code><code class="perl_comment1">abrégées</code>
    matricule <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">54321</code>,
    intitulé<code class="perl_operator">-</code>poste <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Comptable</code><code class="perl_literal1">"</code>,
    salaire <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">1765</code>.<code class="perl_digit">6</code>
);</code></pre></div>
        <p>La syntaxe d'utilisation de la modélisation avec héritage sera un peu plus simple puisque les données relatives à la <span class="codeinline">Personne</span> seront directement accessibles dans la classe <span class="codeinline">Employe-herit</span> sans devoir passer par l'indirection du sous-objet <span class="codeinline">données-personnelles</span>. Par exemple, pour afficher l'âge de <span class="codeinline">$salarié2</span> :<a class="signetNoteBasPage" id="signetNoteBasPage1" href="#noteBasPage1">(1)</a></p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e4784">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e4784" onclick="selectionCode('contenuCoded0e4784');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e4784" class="contenuCode"><code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Âge</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal3">{</code><code class="perl_literal3">$salarié2.prénom,</code><code class="perl_literal3"> </code><code class="perl_literal3">$salarié2.nom</code><code class="perl_literal3">}</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code>, 
    <code class="perl_keyword2">$salarié2</code>.âge;                <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">Âge</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">Samira</code><code class="perl_comment1"> </code><code class="perl_comment1">Benali</code><code class="perl_comment1"> </code><code class="perl_comment1">:</code><code class="perl_comment1"> </code><code class="perl_comment1">26</code></code></pre></div>
        <p>Cet exemple est cependant un peu artificiel, car il ne met pas en &#339;uvre la création d'objets de nature fondamentalement différente (une employée reste une personne). En particulier, nous avons antérieurement composé un objet <span class="codeinline">Adresse</span> dans l'objet <span class="codeinline">Personne</span>, cela ne pourrait pas se faire avec l'héritage, qui ne peut traiter de façon naturelle (et intelligible) que des entités essentiellement de même nature.</p>
        <p>La composition, en revanche, est plus souple et permet de créer des objets d'une nature réellement nouvelle.</p>
        <p>Un certain nombre de théoriciens des langages et de la POO estiment que l'utilisation de la composition d'objets est supérieure à l'héritage comme méthode de réutilisation de code, car elle offre plus de clarté et permet de mieux encapsuler les « sous-objets ». C'est, semble-t-il, pour ce genre de raison que certains langages orientés objet récents (comme Go) n'offrent aucune forme d'héritage.</p>
        <p>Perl 6 vous autorise à faire les deux choses, c'est à vous de choisir la modélisation la plus adaptée à vos besoins.</p>
      </div>
      
		<h2 class="TitreSection1" id="L2-5">2-5. Rôles et composition<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <p>En général, le monde n'est pas hiérarchique, et il est donc souvent difficile de tout faire entrer dans une arborescence hiérarchique d'héritages ou même de compositions de classes. C'est l'une des raisons pour laquelle Perl 6 instaure des rôles<a class="signetNoteBasPage" id="signetNoteBasPage2" href="#noteBasPage2">(2)</a>. Un rôle regroupe des comportements qui peuvent être partagés par différentes classes. Un rôle est techniquement assez semblable à une classe, mais la grande différence est qu'il n'est en principe pas prévu d'instancier des objets directement à partir de rôles. </p>
        
		<h3 class="TitreSection2" id="L2-5-1">2-5-1. Une classe Mammifère et un rôle Animal-de-compagnie<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Considérons un chien. Un chien est un mammifère et hérite de certaines caractéristiques des mammifères, comme la présence de mamelles destinées à l'allaitement des petits, qui sont propres aux mammifères, et la colonne vertébrale, que les mammifères héritent des vertébrés (de même que les poissons, les oiseaux, les reptiles, etc.). Jusqu'ici, la hiérarchie des classes paraît simple et naturelle.</p>
          <p>Mais les chiens peuvent avoir des caractéristiques ou comportements très variés : chien de compagnie, chien berger, chien de chasse, chien de traîneau, chien guide d'aveugle, chien policier dressé à flairer des stupéfiants ou des explosifs, chien d'avalanche, chien errant ou même peut-être chien <a class="lienArticle https" href="https://fr.wikipedia.org/wiki/Marronnage_%28animaux%29">marron ou féral</a> (animal domestique retourné à la vie sauvage ou descendant d'individus retournés à la vie sauvage). Ce sont des comportements additionnels qui peuvent être ajoutés au chien. Un mammifère comme le chat domestique peut aussi être un animal de compagnie ou être <span class="italique">féral</span> (on parle alors de <span class="italique">chat haret</span>, qui est un individu de l'espèce <span class="italique">chat domestique</span> se trouvant à l'état sauvage, à distinguer des <span class="italique">chats sauvages</span>, qui désignent habituellement des espèces différentes du chat domestique) ; de même, un <span class="italique">mustang</span> est un cheval nord-américain revenu à l'état sauvage ou descendant de spécimens revenus à l'état sauvage ; mais un mustang peut aussi être capturé, dressé et ramené à l'état domestique. Ce retour à l'état sauvage et inversement à l'état domestique ne concerne pas que les mammifères : les pigeons de nos villes proviennent souvent des anciennes populations de pigeons voyageurs autrefois bien plus utilisés que de nos jours. Cela peut même concerner des invertébrés (comme les essaims d'abeilles mellifères). On voit facilement que la modélisation hiérarchique des chaînes d'héritage ne fonctionne pas bien pour décrire ce genre de comportements.</p>
          <p>On pourra définir des classes <span class="codeinline">Chien</span>, <span class="codeinline">Chat</span>, <span class="codeinline">Cheval</span>, etc., héritant de la classe <span class="codeinline">Mammifère</span> (héritant elle-même de la classe <span class="codeinline">Vertébré</span>), et des rôles pour les chiens bergers ou ceux retournés à l'état sauvage, puis, éventuellement, définir des sous-classes de <span class="codeinline">Chien</span>, <span class="codeinline">Chat</span> ou <span class="codeinline">Cheval</span> à l'aide de ces rôles :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e4937">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e4937" onclick="selectionCode('contenuCoded0e4937');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e4937" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Mammifère <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Vertébré  <code class="perl_operator">{</code> ... <code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Oiseau    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Vertébré  <code class="perl_operator">{</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> vole   <code class="perl_operator">{</code>...<code class="perl_operator">}</code> <code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Chien     <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Mammifère <code class="perl_operator">{</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> aboie  <code class="perl_operator">{</code>...<code class="perl_operator">}</code> <code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Cheval    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Mammifère <code class="perl_operator">{</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> hennit <code class="perl_operator">{</code>...<code class="perl_operator">}</code> <code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Chat      <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Mammifère <code class="perl_operator">{</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> miaule <code class="perl_operator">{</code>...<code class="perl_operator">}</code> <code class="perl_operator">}</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> Animal<code class="perl_operator">-</code>de<code class="perl_operator">-</code>compagnie <code class="perl_operator">{</code> ... <code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> Chien<code class="perl_operator">-</code>berger        <code class="perl_operator">{</code> ... <code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> Féral               <code class="perl_operator">{</code> ... <code class="perl_operator">}</code>    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">animal</code><code class="perl_comment1"> </code><code class="perl_comment1">retourné</code><code class="perl_comment1"> </code><code class="perl_comment1">à</code><code class="perl_comment1"> </code><code class="perl_comment1">l'état</code><code class="perl_comment1"> </code><code class="perl_comment1">sauvage</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> Guide               <code class="perl_operator">{</code> ... <code class="perl_operator">}</code>    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">guide</code><code class="perl_comment1"> </code><code class="perl_comment1">d'aveugle</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Chien<code class="perl_operator">-</code>guide        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Chien  <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Guide <code class="perl_operator">{</code> ... <code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Chien<code class="perl_operator">-</code>de<code class="perl_operator">-</code>compagnie <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Chien  <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Animal<code class="perl_operator">-</code>de<code class="perl_operator">-</code>compagnie <code class="perl_operator">{</code> ... <code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Chien<code class="perl_operator">-</code>errant       <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Chien  <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Féral <code class="perl_operator">{</code> ... <code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Chat<code class="perl_operator">-</code>de<code class="perl_operator">-</code>compagnie  <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Chat   <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Animal<code class="perl_operator">-</code>de<code class="perl_operator">-</code>compagnie <code class="perl_operator">{</code> ... <code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Mustang            <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Cheval <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Féral <code class="perl_operator">{</code> ... <code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Chat<code class="perl_operator">-</code>haret         <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Chat   <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Féral <code class="perl_operator">{</code> ... <code class="perl_operator">}</code> 
                                    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">distinct</code><code class="perl_comment1"> </code><code class="perl_comment1">du</code><code class="perl_comment1"> </code><code class="perl_comment1">chat</code><code class="perl_comment1"> </code><code class="perl_comment1">sauvage</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Canari             <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Oiseau <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Animal<code class="perl_operator">-</code>de<code class="perl_operator">-</code>compagnie <code class="perl_operator">{</code> ... <code class="perl_operator">}</code></code></pre></div>
          <p>Un rôle est ajouté à une classe ou à un objet à l'aide du mot-clef <span class="codeinline">does</span> (par opposition au mot <span class="codeinline">is</span> utilisé pour l'héritage). Ces mots-clefs distincts reflètent la signification différente de ces caractéristiques : la composition de rôle donne à une classe <span class="italique">le comportement</span> associé au rôle, mais cela ne signifie pas que l'objet attributaire de ce rôle soit <span class="italique">la même chose</span> que ce rôle.</p>
          <p>Si les rôles <span class="codeinline">Animal-de-compagnie</span> et <span class="codeinline">Féral</span> avaient été définis comme des classes, alors les classes <span class="codeinline">Chien-de-compagnie</span> et <span class="codeinline">Chien-Errant</span> auraient chacune hérité en direct de deux classes en parallèle, avec les risques déjà mentionnés associés à l'héritage multiple. La composition d'un rôle à une classe permet d'éviter de construire un arbre d'héritage multiple qui est en fait peu justifié et peut vite devenir touffu et difficile à maintenir. L'utilisation judicieuse des classes et des rôles permet de mettre en place une modélisation plus simple, plus naturelle et plus conforme aux rapports réels entre les différents types d'entités ou de comportements à modéliser, et dès lors certainement plus facile à comprendre et à maintenir.</p>
          <p>En outre, la composition de rôles multiples ayant les mêmes noms de méthodes génère immédiatement des conflits au lieu de se résoudre silencieusement à l'une d'entre elles, comme c'est le cas avec l'héritage multiple. Dans ce cas, les conflits sont identifiés dès la compilation (et non à l'exécution), ce qui a le mérite d'empêcher dès le départ qu'un bogue sournois passe inaperçu.</p>
        </div>
        
		<h3 class="TitreSection2" id="L2-5-2">2-5-2. Composition de rôle et réutilisation de code<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Tandis que les classes ont pour principal objectif la définition et la conformité des types, les rôles sont en Perl 6 surtout un moyen de réutiliser du code.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e5318">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e5318" onclick="selectionCode('contenuCoded0e5318');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e5318" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> Dessinable <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>couleur <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> dessiner <code class="perl_operator">{</code> ... <code class="perl_operator">}</code>
<code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Forme <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> aire <code class="perl_operator">{</code> ... <code class="perl_operator">}</code>
<code class="perl_operator">}</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Rectangle <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Forme <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Dessinable <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>largeur;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>hauteur;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> aire <code class="perl_operator">{</code>
        <code class="perl_keyword2">$!</code>largeur <code class="perl_operator">*</code> <code class="perl_keyword2">$!</code>hauteur;
   <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> dessiner() <code class="perl_operator">{</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=for"><span>for</span></a> <code class="perl_digit">1</code>..<code class="perl_keyword2">$.</code>hauteur <code class="perl_operator">{</code>
            <code class="perl_keyword3">say</code> <code class="perl_literal1">'</code><code class="perl_literal1">x</code><code class="perl_literal1">'</code> <code class="perl_operator">x</code> <code class="perl_keyword2">$.</code>largeur;
        <code class="perl_operator">}</code>
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code>

Rectangle.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(largeur <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">8</code>, hauteur <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">3</code>).dessiner;</code></pre></div>
          <p>Ce qui affiche le rectangle ASCII :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e5475">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e5475" onclick="selectionCode('contenuCoded0e5475');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e5475" class="contenuCode"><code class="perl_operator">~</code> perl6 test_rectangle.pl
xxxxxxxx
xxxxxxxx
xxxxxxxx</code></pre></div>
        </div>
        
		<h3 class="TitreSection2" id="L2-5-3">2-5-3. Rôles, classes, objets et types<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Un rôle peut ajouter un comportement à une classe entière ou à un seul objet d'une classe : </p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e5489">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e5489" onclick="selectionCode('contenuCoded0e5489');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e5489" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Chien<code class="perl_operator">-</code>guide <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Chien <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Guide <code class="perl_operator">{</code> 
    ... 
<code class="perl_operator">}</code> <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Composition</code><code class="perl_comment1"> </code><code class="perl_comment1">d'un</code><code class="perl_comment1"> </code><code class="perl_comment1">rôle</code><code class="perl_comment1"> </code><code class="perl_comment1">dans</code><code class="perl_comment1"> </code><code class="perl_comment1">une</code><code class="perl_comment1"> </code><code class="perl_comment1">classe</code>


<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$chien</code> <code class="perl_operator">=</code> Chien.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>;
<code class="perl_keyword2">$chien</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Guide;   <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Composition</code><code class="perl_comment1"> </code><code class="perl_comment1">d'un</code><code class="perl_comment1"> </code><code class="perl_comment1">rôle</code><code class="perl_comment1"> </code><code class="perl_comment1">dans</code><code class="perl_comment1"> </code><code class="perl_comment1">un</code><code class="perl_comment1"> </code><code class="perl_comment1">objet</code><code class="perl_comment1"> </code><code class="perl_comment1">individuel</code></code></pre></div>
          <p>Bien que les rôles soient distincts des classes, tous deux sont ou définissent des types. Un rôle peut donc apparaître dans une déclaration de variable là où l'on mettrait habituellement une classe. Par exemple, un rôle <span class="codeinline">Aveugle</span> pour un <span class="codeinline">Humain</span> pourrait comprendre un attribut de type <span class="codeinline">Guide</span> ; cet attribut pourrait contenir un chien guide, un cheval guide, un guide humain ou même un robot guide :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e5596">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e5596" onclick="selectionCode('contenuCoded0e5596');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e5596" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Humain <code class="perl_operator">{</code>
     <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Chien <code class="perl_keyword2">$chien</code>;      <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Peut</code><code class="perl_comment1"> </code><code class="perl_comment1">contenir</code><code class="perl_comment1"> </code><code class="perl_comment1">un</code><code class="perl_comment1"> </code><code class="perl_comment1">type</code><code class="perl_comment1"> </code><code class="perl_comment1">quelconque</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code>
     ...                    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">chien,</code><code class="perl_comment1"> </code><code class="perl_comment1">ayant</code><code class="perl_comment1"> </code><code class="perl_comment1">un</code><code class="perl_comment1"> </code><code class="perl_comment1">rôle</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">guide</code><code class="perl_comment1"> </code><code class="perl_comment1">ou</code><code class="perl_comment1"> </code><code class="perl_comment1">non</code>
<code class="perl_operator">}</code>
 <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> Aveugle <code class="perl_operator">{</code>
     <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Guide <code class="perl_keyword2">$guide</code>;      <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Peut</code><code class="perl_comment1"> </code><code class="perl_comment1">contenir</code><code class="perl_comment1"> </code><code class="perl_comment1">tout</code><code class="perl_comment1"> </code><code class="perl_comment1">objet</code><code class="perl_comment1"> </code><code class="perl_comment1">ayant</code><code class="perl_comment1"> </code><code class="perl_comment1">le</code><code class="perl_comment1"> </code><code class="perl_comment1">rôle</code><code class="perl_comment1"> </code>
     ...                    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">guide,</code><code class="perl_comment1"> </code><code class="perl_comment1">qu'il</code><code class="perl_comment1"> </code><code class="perl_comment1">s'agisse</code><code class="perl_comment1"> </code><code class="perl_comment1">d'un</code><code class="perl_comment1"> </code><code class="perl_comment1">chien</code>
                            <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">ou</code><code class="perl_comment1"> </code><code class="perl_comment1">d'autre</code><code class="perl_comment1"> </code><code class="perl_comment1">chose</code>
<code class="perl_operator">}</code></code></pre></div>
          <p>Un certain nombre des types internes de Perl sont définis par des rôles et non des classes, comme <span class="codeinline">IO</span>, <span class="codeinline">Iterable</span>, <span class="codeinline">Iterator</span>, <span class="codeinline">Numeric</span>, <span class="codeinline">Rational</span>, <span class="codeinline">Real</span>, etc. À titre d'exemple, le schéma suivant des relations de types des types <span class="codeinline">Rat</span> et <span class="codeinline">Rational</span> représente en noir les types définis par des classes et en bleu les types définis par des rôles :</p>
          <div class="div-figure"><figure class="figure-center"><a data-rel="lightbox[article]" href="./images/type_relations.jpg"><img class="ImgCliquable figure-img-caption" src="./images/type_relations.jpg" alt="Image non disponible" width="285" height="325"/></a><figcaption class="figure-img-caption TextAlign-center">Relations de types des types Rat et Rational</figcaption></figure></div>
        </div>
      </div>
      
		<h2 class="TitreSection1" id="L2-6">2-6. Délégation de méthode<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <p>La délégation est une autre façon d'associer un objet à un autre fragment de code. Le mécanisme de la délégation a été relativement bien étudié d'un point de vue théorique et mis en &#339;uvre dans des langages de recherche spécialisés, mais les grands langages généralistes implémentant la délégation sont relativement rares. </p>
        <p>Plutôt que de définir des méthodes dans une classe, il s'agit d'invoquer des méthodes d'un autre objet, comme s'il s'agissait de méthodes de la classe courante. En Perl 6, la délégation peut se faire au niveau d'une classe ou d'un rôle. Un objet délégué est tout simplement un attribut défini dans la classe ou dans le rôle à l'aide du mot-clef <span class="codeinline">handle</span>, qui spécifie quelles méthodes de l'objet délégué doivent servir de méthodes de la classe courante.  </p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e5809">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e5809" onclick="selectionCode('contenuCoded0e5809');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e5809" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> ClasseBase <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> azincourt() <code class="perl_operator">{</code> <code class="perl_digit">1415</code> <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> marignan()  <code class="perl_operator">{</code> <code class="perl_digit">1515</code> <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> waterloo()  <code class="perl_operator">{</code> <code class="perl_digit">1815</code> <code class="perl_operator">}</code>
<code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Utilise <code class="perl_operator">{</code> 
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code><a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=base&amp;amp;mode=all"><span>base</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a> handles <code class="perl_operator">&lt;</code>marignan waterloo<code class="perl_operator">&gt;</code>
<code class="perl_operator">}</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$a</code> <code class="perl_operator">=</code> Utilise.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>;
<code class="perl_keyword2">$a</code>.<a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=base&amp;amp;mode=all"><span>base</span></a> <code class="perl_operator">=</code> ClasseBase.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(); <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Mise</code><code class="perl_comment1"> </code><code class="perl_comment1">en</code><code class="perl_comment1"> </code><code class="perl_comment1">place</code><code class="perl_comment1"> </code><code class="perl_comment1">d'un</code><code class="perl_comment1"> </code><code class="perl_comment1">objet</code><code class="perl_comment1"> </code><code class="perl_comment1">handler;</code>
<code class="perl_keyword3">say</code> <code class="perl_keyword2">$a</code>.marignan;
<code class="perl_keyword3">say</code> <code class="perl_keyword2">$a</code>.waterloo;
<code class="perl_keyword3">say</code> <code class="perl_keyword2">$a</code>.azincourt;</code></pre></div>
        <p>Ce qui imprime :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e5957">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e5957" onclick="selectionCode('contenuCoded0e5957');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e5957" class="contenuCode"><code class="perl_digit">1515</code>
<code class="perl_digit">1815</code>
Method <code class="perl_literal1">'</code><code class="perl_literal1">azincourt</code><code class="perl_literal1">'</code> <code class="perl_operator">not</code> found <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=for"><span>for</span></a> invocant <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=of"><span>of</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> <code class="perl_literal1">'</code><code class="perl_literal1">Utilise</code><code class="perl_literal1">'</code>
  in block <code class="perl_keyword2">&lt;unit&gt;</code> at delegation2.pl:14</code></pre></div>
        <p>L'objet de type <span class="codeinline">Utilise</span> parvient à appeler les méthodes <span class="codeinline">marignan</span> et <span class="codeinline">waterloo</span>, car elles ont été en quelque sorte « importées » dans <span class="codeinline">Utilise</span> grâce à la délégation. La méthode <span class="codeinline">azincourt</span> ne peut être appelée, car elle n'a pas fait l'objet d'une délégation.</p>
        <p>Cela marche aussi avec un passage de paramètre :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e6015">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e6015" onclick="selectionCode('contenuCoded0e6015');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e6015" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> ClasseBase2 <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> avec<code class="perl_operator">-</code>paramètres(<code class="perl_keyword2">$x</code>) <code class="perl_operator">{</code> <code class="perl_keyword2">$x</code> xx <code class="perl_digit">3</code> <code class="perl_operator">}</code>
<code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Utilise2 <code class="perl_operator">{</code> 
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>base2 handles <code class="perl_literal1">'</code><code class="perl_literal1">avec</code><code class="perl_literal1">-</code><code class="perl_literal1">paramètres</code><code class="perl_literal1">'</code>
<code class="perl_operator">}</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$a</code> <code class="perl_operator">=</code> Utilise2.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>( base2 <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> ClasseBase2.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>() );
<code class="perl_keyword3">say</code> <code class="perl_keyword2">$a</code>.avec<code class="perl_operator">-</code>paramètres(<code class="perl_literal1">'</code><code class="perl_literal1">xyz</code><code class="perl_literal1">'</code>);        <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">(xyz</code><code class="perl_comment1"> </code><code class="perl_comment1">xyz</code><code class="perl_comment1"> </code><code class="perl_comment1">xyz)</code></code></pre></div>
        <p>À noter que l'auteur de ces lignes a quelques réserves sur la syntaxe employée ici : elle fonctionne sans problème, mais elle ne coule pas vraiment de source&#8230; À l'heure où nous écrivons, il n'y a aucune documentation officielle sur la délégation en Perl 6 en dehors des vieilles spécifications théoriques ne présentant aucune syntaxe définitive. Nous avons réussi à faire fonctionner ces exemples de délégation à l'aide du code de la grammaire et des suites de tests de Perl 6, mais il se peut qu'il y ait des moyens plus simples de la mettre en &#339;uvre nous ayant échappé.</p>
      </div>
      
		<h2 class="TitreSection1" id="L2-7">2-7. Polymorphisme<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <p>Le polymorphisme permet de fournir une interface commune ou proche à des types différents. D'une certaine façon, l'exemple d'héritage abordé précédemment (§ <a href="#L2-2" class=" lienArticle simple">2.2</a>) offre une forme de polymorphisme : les méthodes <span class="codeinline">coordonnées</span>, <span class="codeinline">distanceAuCentre</span> et <span class="codeinline">coordonnéesPolaires</span>,  sont polymorphes puisqu'elles peuvent s'appliquer aussi bien au type <span class="codeinline">PointDuPlan</span> qu'au type <span class="codeinline">PointMobile</span>. C'est toutefois une forme presque triviale de polymorphisme. Il est en effet généralement admis que l'on ne parle vraiment de polymorphisme que si les méthodes ou fonctions concernées font quelque chose de différent au moins au niveau de l'implémentation, même si l'interface est commune.</p>
        <p>Les <a class="lienArticle simple" href="http://laurent-rosenfeld.developpez.com/tutoriels/perl/perl6/les-bases/#L5-2-4">fonctions multiples</a> de Perl 6 offrent une forme de polymorphisme en dehors d'un contexte de programmation objet. Elles peuvent faire des choses radicalement différentes selon le nombre ou la nature de leurs arguments. Dans le cadre de la POO, c'est évidemment la classe de l'objet invoquant la méthode qui déterminera généralement, sans doute au moment de l'exécution, la méthode réellement invoquée. </p>
        <p>Nous pourrions par exemple vouloir créer une nouvelle classe pour des points dans l'espace 3D. Même si les méthodes seront nécessairement différentes, il paraît a priori intéressant d'offrir à l'utilisateur une interface identique ou presque à celle des points du plan :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e6166">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e6166" onclick="selectionCode('contenuCoded0e6166');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e6166" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Point3D <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>abscisse;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>ordonnée;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>hauteur;
    
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> coordonnées () <code class="perl_operator">{</code>        <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">accesseur</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> (<code class="perl_keyword2">$.</code>abscisse, <code class="perl_keyword2">$.</code>ordonnée, <code class="perl_keyword2">$.</code>hauteur)
    <code class="perl_operator">}</code>
    
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> distanceAuCentre () <code class="perl_operator">{</code>
        (<code class="perl_keyword2">$.</code>abscisse <code class="perl_operator">*</code><code class="perl_operator">*</code> <code class="perl_digit">2</code> <code class="perl_operator">+</code> <code class="perl_keyword2">$.</code>ordonnée <code class="perl_operator">*</code><code class="perl_operator">*</code> <code class="perl_digit">2</code> <code class="perl_operator">+</code> <code class="perl_keyword2">$.</code>hauteur <code class="perl_operator">*</code><code class="perl_operator">*</code> <code class="perl_digit">2</code>) <code class="perl_operator">*</code><code class="perl_operator">*</code> <code class="perl_digit">0</code>.<code class="perl_digit">5</code>
    <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> coordonnéesPolaires () <code class="perl_operator">{</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>.coordonnéesSphériques;
    <code class="perl_operator">}</code>
    
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> coordonnéesSphériques <code class="perl_operator">{</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$rhô</code> <code class="perl_operator">=</code> <code class="perl_keyword2">$.</code>distanceAuCentre;
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$longitude</code> <code class="perl_operator">=</code> <code class="perl_keyword3">atan2</code> <code class="perl_keyword2">$.</code>ordonnée, <code class="perl_keyword2">$.</code>abscisse;  <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">thêta</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$latitude</code> <code class="perl_operator">=</code> acos <code class="perl_keyword2">$.</code>hauteur <code class="perl_operator">/</code> <code class="perl_keyword2">$rhô</code>;          <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">delta</code><code class="perl_comment1"> </code><code class="perl_comment1">(ou</code><code class="perl_comment1"> </code><code class="perl_comment1">phi)</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> <code class="perl_keyword2">$rhô</code>, <code class="perl_keyword2">$longitude</code>, <code class="perl_keyword2">$latitude</code>;
    <code class="perl_operator">}</code>
    
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> coordonnéesCylindriques <code class="perl_operator">{</code>
        <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code>
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code></code></pre></div>
        <p>Les méthodes de cette nouvelle classe sont toutes différentes de celles de <span class="codeinline">PointDuPlan</span>, mais les méthodes ayant une sémantique analogue portent le même nom, ce qui permet à l'utilisateur d'employer l'une ou l'autre classe sans perdre ses repères. </p>
        <p>La méthode <span class="codeinline">distanceAuCentre</span> a exactement la même interface. La méthode <span class="codeinline">coordonnées</span> renvoie une liste de trois valeurs, au lieu de deux, mais à part cela, l'interface est la même ; à remarquer que l'on pourrait modifier cette méthode dans <span class="codeinline">PointDuPlan</span> pour qu'elle renvoie toujours une troisième valeur nulle, afin d'avoir exactement la même interface, ce serait un choix d'implémentation possible assez cohérent (un point du plan peut être considéré comme un point de l'espace 3D ayant une hauteur nulle), mais respecter exactement la même interface n'est en aucun cas une obligation, mais seulement un choix éventuel de conception susceptible de rendre l'utilisation plus intuitive auprès de l'utilisateur. La notion de coordonnées polaires n'a pas vraiment de sens bien défini dans les trois dimensions de l'espace, mais nous avons choisi ici (au risque de faire sourciller quelque peu les mathématiciens) de garder la méthode <span class="codeinline">coordonnéesPolaires</span> pour respecter l'interface globale, même si elle ne fait rien d'autre qu'appeler la méthode <span class="codeinline">coordonnéesSphériques</span> et renvoyer ses valeurs de retour. </p>
        <div class="imgtext-info">
          <p>À noter que les mathématiciens, les physiciens, les géographes, les navigateurs et les astronomes, pour ne citer qu'eux, définissent usuellement les coordonnées sphériques de façon légèrement différente les uns des autres (bien que le principe de base soit le même). Les différences portent sur les conventions divergentes sur l'origine, l'intervalle et le sens de rotation des coordonnées sphériques, ainsi que sur le nom des grandeurs employées, leurs symboles usuels ou les unités employées. La définition employée ici correspond aux conventions utilisées en géographie et dans certaines branches des mathématiques. Mais peu nous importent ici ces conventions divergentes, notre classe ne prétend aucunement à l'exactitude ou la conformité selon les uns ou les autres, mais sert uniquement à illustrer la notion de polymorphisme.</p>
        </div>
      </div>
      
		<h2 class="TitreSection1" id="L2-8">2-8. Encapsulation<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        
		<h3 class="TitreSection2" id="L2-8-1">2-8-1. Qu'est-ce que l'encapsulation ?<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>En POO, l'encapsulation est l'idée de protéger du monde extérieur les données contenues dans un objet et de n'offrir à l'utilisateur d'une classe que des méthodes d'accès à ces objets. Ces méthodes sont parfois appelées des accesseurs (ou <span class="italique">getters</span>) et mutateurs (ou <span class="italique">setters</span>). Cela permet notamment d'assurer que les propriétés de l'objet seront validées par les méthodes de l'objet et ne seront plus de la seule responsabilité de l'utilisateur extérieur. Ce dernier ne pourra pas modifier directement l'information et risquer de mettre en péril les axiomes et les propriétés comportementales de l'objet.</p>
          <p>L'encapsulation est une forme forte d'abstraction des données et d'abstraction procédurale. Certains langages objet comme Eiffel vont même plus loin : plutôt que de parler d'invocation de méthodes, ils préfèrent envisager une sémantique de passage de messages : l'utilisateur envoie un message à l'objet et l'objet exécute l'action demandée dans le message (et il renvoie éventuellement un message de retour). L'utilisateur d'un objet ne connaît que l'interface de définition des messages (nom de l'action à invoquer et paramètres en entrée et en sortie). Dans la pratique, la différence entre l'envoi d'un message et l'invocation d'une méthode est généralement très ténue et tient surtout d'une différence de vocabulaire : la sémantique réelle de fonctionnement est ou du moins peut être en définitive pratiquement la même. </p>
          <p>L'objet est ainsi vu de l'extérieur comme une boîte noire ayant certaines propriétés et ayant un comportement spécifié. La manière dont ces propriétés ont été implémentées est alors en principe cachée aux utilisateurs de la classe. Elle est cachée non pas dans le sens qu'il ne peut pas la connaître (au moins dans le monde de l'<span class="italique">open source</span>, il a accès à cette connaissance), mais dans le sens qu'il ne peut pas tirer parti de cette connaissance pour passer outre l'interface qui lui est fournie. On peut changer cette implémentation de la classe sans changer le comportement extérieur de l'objet. Cela permet donc de séparer la spécification du comportement d'un objet, de l'implémentation pratique de ces spécifications.</p>
          <p>Les principes de l'encapsulation sont appliqués de façons très diverses selon les langages. Certains, comme Eiffel ou Smalltalk, autorisent généralement l'accès en lecture depuis le programme appelant, mais ne permettent un accès en écriture que depuis la classe de l'objet. D'autres, comme C++, Java ou Ruby, ne font pas réellement de distinction selon que l'accès se fait en lecture ou en écriture, mais plutôt selon le niveau de visibilité spécifié pour l'attribut : public ou privé (et éventuellement un niveau intermédiaire, protégé, c'est-à-dire accessible aux classes dérivées ou éventuellement « amies »). </p>
          <p>De plus, certains langages sont très stricts et interdisent complètement l'accès aux données privées, alors que d'autres (comme Perl 5 dans sa version POO d'origine) sont plus libéraux et se contentent de déconseiller l'accès direct aux données privées en comptant sur le « savoir-vivre » de l'utilisateur, mais laissent néanmoins la possibilité technique d'enfreindre le caractère privé des données ; c'est souvent une mauvaise idée (ouvrir le boîtier de l'appareil peut invalider la garantie), mais cela peut s'avérer très utile dans certains cas particuliers (il n'est peut-être pas souhaitable qu'une camisole de force vous empêche de travailler). À noter que, même si ce n'est pas sa philosophie dominante, Perl 5 offre tout de même des moyens d'assurer une encapsulation stricte si on le désire, mais ce n'est pas le sujet.</p>
          <p>L'encapsulation ne concerne pas seulement les attributs d'un objet, il est également éventuellement possible, selon les langages, de définir des méthodes privées (qui ne peuvent être appelées que depuis la classe de l'objet) et des méthodes publiques accessibles depuis l'extérieur.</p>
        </div>
        
		<h3 class="TitreSection2" id="L2-8-2">2-8-2. L'encapsulation en Perl 6<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Perl 6 vous laisse entièrement libre de choisir le modèle d'encapsulation que vous désirez appliquer à vos objets (et leurs attributs et méthodes).</p>
          <p>Par défaut, tous les attributs d'un objet Perl 6 sont privés. Si vous déclarez une classe comme suit :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e6483">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e6483" onclick="selectionCode('contenuCoded0e6483');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e6483" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Point2D <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$!</code><code class="perl_operator">x</code>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$!</code>y;
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">&#8230;</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> valeur_x <code class="perl_operator">{</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> <code class="perl_keyword2">$!</code><code class="perl_operator">x</code> <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> valeur_y <code class="perl_operator">{</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> <code class="perl_keyword2">$!</code>y <code class="perl_operator">}</code>
<code class="perl_operator">}</code></code></pre></div>
          <p>les coordonnées <span class="codeinline">$!x</span> et <span class="codeinline">$!y</span> sont entièrement privées et ne sont accessibles que depuis l'intérieur de la classe. C'est pourquoi nous avons ajouté dans l'exemple de la classe des accesseurs (méthodes permettant de lire le contenu des coordonnées). Ces attributs sont de plus non modifiables (lecture seule).</p>
          <p>Mais, comme nous l'avons vu précédemment, si vous déclarez cette classe comme suit :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e6558">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e6558" onclick="selectionCode('contenuCoded0e6558');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e6558" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Point2D <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code><code class="perl_operator">x</code>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>y;
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code>
<code class="perl_operator">}</code></code></pre></div>
          <p>les coordonnées restent en principe privées, mais Perl 6 génère automatiquement des méthodes nommées <span class="codeinline">$nom-objet.x</span> et <span class="codeinline">$nom-objet.y</span> permettant en fait d'y accéder depuis l'extérieur de la classe (le programme appelant ou une autre classe) comme si elles étaient publiques.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e6598">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e6598" onclick="selectionCode('contenuCoded0e6598');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e6598" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Point2D <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code><code class="perl_operator">x</code>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>y;
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code>
<code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$point</code> <code class="perl_operator">=</code> Point2D.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(<code class="perl_operator">x</code> <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">2</code>, y <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">3</code>);
<code class="perl_keyword3">say</code> <code class="perl_keyword2">$point</code>.<code class="perl_operator">x</code>;       <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">2</code></code></pre></div>
          <p>L'accès en lecture seule ou en lecture et écriture est géré séparément par le <span class="italique">trait</span> <span class="codeinline">is rw</span> (voir § <a href="#L2-2" class=" lienArticle simple">2.2</a>). En cas de besoin, il est toujours possible de mettre un attribut en lecture et écriture tout en le gardant privé, et d'ajouter explicitement des méthodes permettant un accès dans le mode voulu. En bref, Perl 6 propose un mode d'accès par défaut, mais vous laisse décider finement de ce que vous désirez autoriser.</p>
          <p>Notons au passage que certains spécialistes de la programmation orientée objet considèrent que les accesseurs (même en simple lecture) sont une mauvaise chose et contreviennent aux principes de l'encapsulation. C'est vrai si l'accesseur est considéré comme une possibilité d'accès aux attributs internes d'un objet, ça l'est moins si l'on considère qu'il n'est qu'une méthode parmi d'autres ayant pour but que de renvoyer une propriété de l'objet, laquelle peut être aussi bien la valeur d'un attribut défini dans la structure de l'objet, qu'une valeur calculée à partir de plusieurs des caractéristiques internes de l'objet. Après tout, même si la classe <span class="codeinline">Point2D</span> décrite ci-dessus change d'implémentation et définit désormais en interne les points par des coordonnées polaires, rien n'empêche pour autant à cette classe de continuer à fournir dans son interface une méthode <span class="codeinline">.x</span> calculant l'abscisse du point à partir des coordonnées polaires. Bref, l'objection des puristes de la programmation orientée objet ne nous convainc qu'à moitié. Surtout, Perl 6 vous offre la possibilité d'accéder aux propriétés de l'objet si vous le désirez, ou de vous interdire de la faire si vous préférez. C'est vous qui décidez.</p>
        </div>
        
		<h3 class="TitreSection2" id="L2-8-3">2-8-3. Construction d'objets aux attributs privés<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Construire des objets avec des attributs privés pose cependant une petite difficulté. Considérons l'exemple de programme suivant :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e6710">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e6710" onclick="selectionCode('contenuCoded0e6710');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e6710" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Point3D <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code><code class="perl_operator">x</code>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>y;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$!</code>z;
    
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> get <code class="perl_operator">{</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> (<code class="perl_keyword2">$!</code><code class="perl_operator">x</code>, <code class="perl_keyword2">$!</code>y, <code class="perl_keyword2">$!</code>z);
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code>;

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$a</code> <code class="perl_operator">=</code> Point3D.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(<code class="perl_operator">x</code> <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">23</code>, y <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">42</code>, z <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">2</code>);
<code class="perl_keyword3">say</code> <code class="perl_keyword2">$_</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=for"><span>for</span></a> <code class="perl_keyword2">$a</code>.get;</code></pre></div>
          <p>Pour les besoins de cette démonstration, les coordonnées <span class="codeinline">$.x</span> et <span class="codeinline">$.y</span> sont déclarées « publiques », mais la hauteur <span class="codeinline">$!z</span> est privée. À l'exécution, ce programme affiche le résultat suivant :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e6827">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e6827" onclick="selectionCode('contenuCoded0e6827');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e6827" class="contenuCode">23
42
(Any)</code></pre></div>
          <p>Que se passe-t-il ? Il apparaîtrait que la méthode <span class="codeinline">get</span> ne parvient pas à lire la hauteur, puisque celle-ci reste indéfinie. Pourtant cette méthode est bien définie à l'intérieur de la classe, elle devrait y accéder sans problème. En fait, ce n'est pas la méthode <span class="codeinline">get</span> qui est fautive, c'est la hauteur <span class="codeinline">$!z</span> qui n'est pas définie dans l'objet <span class="codeinline">$a</span>, parce qu'elle n'est pas initialisée lors de la construction de l'objet.</p>
          <p>Le fautif est le constructeur implicite <span class="codeinline">new</span>, qui n'initialise que les attributs « publics ». Ici, la solution la plus simple consiste à ajouter une <span class="italique">subméthode</span> (<span class="italique">cf.</span> § <a href="#L4-1-8" class=" lienArticle simple">4.1.8</a>) <span class="codeinline">BUILD</span> :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e6863">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e6863" onclick="selectionCode('contenuCoded0e6863');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e6863" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Point3D <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code><code class="perl_operator">x</code>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>y;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$!</code>z;
    
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">syntaxe</code><code class="perl_comment1"> </code><code class="perl_comment1">permettant</code><code class="perl_comment1"> </code><code class="perl_comment1">d'initialiser</code><code class="perl_comment1"> </code><code class="perl_comment1">les</code><code class="perl_comment1"> </code><code class="perl_comment1">variables</code><code class="perl_comment1"> </code><code class="perl_comment1">privées</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=submethod"><span>submethod</span></a> BUILD(:<code class="perl_keyword2">$!</code><code class="perl_operator">x</code>, :<code class="perl_keyword2">$!</code>y, :<code class="perl_keyword2">$!</code>z) <code class="perl_operator">{</code>
        <code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Initialisation</code><code class="perl_literal1">!</code><code class="perl_literal1">"</code>;
    <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> get <code class="perl_operator">{</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> (<code class="perl_keyword2">$!</code><code class="perl_operator">x</code>, <code class="perl_keyword2">$!</code>y, <code class="perl_keyword2">$!</code>z);
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code>;

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$a</code> <code class="perl_operator">=</code> Point3D.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(<code class="perl_operator">x</code> <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">23</code>, y <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">42</code>, z <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">2</code>);
<code class="perl_keyword3">say</code> <code class="perl_keyword2">$_</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=for"><span>for</span></a> <code class="perl_keyword2">$a</code>.get;</code></pre></div>
          <p>Cette fois, cela fonctionne comme désiré et affiche bien les trois attributs :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7030">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7030" onclick="selectionCode('contenuCoded0e7030');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7030" class="contenuCode">Initialisation!
23
42
2</code></pre></div>
          <p>Cela fonctionne parce que le constructeur par défaut <span class="codeinline">new</span> appelle la subméthode <span class="codeinline">BUILD</span>, elle-même définie par défaut. En redéfinissant cette subméthode dans notre classe, on oblige en quelque sorte <span class="codeinline">new</span> à prendre en compte l'attribut privé qui était sinon délaissé. Nous reviendrons plus loin sur le processus de construction d'un objet et la réalisation de constructeurs sur mesure.</p>
        </div>
        
		<h3 class="TitreSection2" id="L2-8-4">2-8-4. Méthodes privées<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Les méthodes sont le mode d'accès normal aux objets, que ce soit en lecture ou en écriture. Elles constituent souvent ce que l'on appelle l'<span class="italique">interface</span> d'une classe, c'est-à-dire la partie de la classe rendue publique et mise à la disposition des programmeurs désireux de l'utiliser. Il est donc logique et naturel que les méthodes d'une classe soient par défaut publiques, c'est-à-dire qu'elles soient accessibles depuis l'extérieur (que ce soit dans un programme utilisateur ou dans une autre classe). </p>
          <p>Mais une classe peut aussi contenir de nombreuses méthodes faisant partie de la « cuisine interne » de la classe et qui ne sont pas destinées à être utilisées depuis l'extérieur. C'est le cas par exemple des méthodes qui dépendent de l'implémentation interne de la classe, mais n'ont pas à figurer dans l'interface offerte aux utilisateurs.</p>
          <p>En Perl 6, une méthode privée est déclarée avec le préfixe point d'exclamation (« ! ») :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7063">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7063" onclick="selectionCode('contenuCoded0e7063');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7063" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> <code class="perl_operator">!</code>action<code class="perl_operator">-</code>privée(<code class="perl_keyword2">$x</code>, <code class="perl_keyword2">$y</code>) <code class="perl_operator">{</code>
    ...
<code class="perl_operator">}</code></code></pre></div>
          <p>Les méthodes privées sont réellement internes à une classe et ne sont en particulier pas héritées dans les classes filles.</p>
          <p>Tom Christiansen, l'un des principaux créateurs de Perl aux côtés de Larry Wall, a écrit qu'« un objet n'est rien de plus qu'une manière de cacher des comportements complexes derrière un petit ensemble clair et simple à utiliser ». Si tel est le cas, alors l'encapsulation est un élément absolument essentiel de la POO, et les méthodes privées sont un élément essentiel de cette encapsulation.</p>
        </div>
      </div>
      
		<h2 class="TitreSection1" id="L2-9">2-9. La programmation orientée objet : une fable<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <p>La plupart des manuels ou tutoriels qui enseignent la POO se concentrent sur les mécanismes techniques de la POO (comme nous l'avons fait jusqu'à présent), et c'est bien sûr très important, mais négligent souvent la question tout aussi importante du « pourquoi », des raisons d'utiliser la POO. Nous avons essayé jusqu'à présent d'échapper à ce travers et d'expliquer le « pourquoi » à diverses occasions, mais ce chapitre essaie de le faire plus explicitement, indépendamment de toute technique, sous la forme d'une parabole.</p>
        
		<h3 class="TitreSection2" id="L2-9-1">2-9-1. La fable de l'éleveur de brebis<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Il était une fois un éleveur qui avait un troupeau de moutons. Sa journée de travail ressemblait typiquement à ceci :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7109">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7109" onclick="selectionCode('contenuCoded0e7109');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7109" class="contenuCode"><code class="perl_keyword2">$éleveur</code>.emmène_troupeau(<code class="perl_keyword2">$prairie</code>);
<code class="perl_keyword2">$éleveur</code>.surveille_troupeau();
<code class="perl_keyword2">$éleveur</code>.ramène_troupeau(<code class="perl_keyword2">$bergerie</code>);</code></pre></div>
          <p>Au bout d'un certain temps, grâce à son travail et à ses bonnes ventes de laine et de lait de brebis, il a étendu ses activités agricoles, et sa journée de travail s'est transformée :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7129">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7129" onclick="selectionCode('contenuCoded0e7129');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7129" class="contenuCode"><code class="perl_keyword2">$éleveur</code>.emmène_troupeau(<code class="perl_keyword2">$prairie</code>);
<code class="perl_keyword2">$éleveur</code>.surveille_troupeau();
<code class="perl_keyword2">$éleveur</code>.ramène_troupeau(<code class="perl_keyword2">$bergerie</code>);
<code class="perl_keyword2">$éleveur</code>.autre_travail_important();</code></pre></div>
          <p>Mais cet autre travail important s'avérant plutôt rentable (la demande de bon fromage de brebis bio ne cessant d'augmenter), il voulait y consacrer plus de temps. Il décida donc d'embaucher un jeune garçon comme pâtre pour s'occuper du troupeau. Désormais, la journée de travail était la suivante :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7152">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7152" onclick="selectionCode('contenuCoded0e7152');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7152" class="contenuCode"><code class="perl_keyword2">$pâtre</code>.emmène_troupeau(<code class="perl_keyword2">$prairie</code>);
<code class="perl_keyword2">$pâtre</code>.surveille_troupeau();
<code class="perl_keyword2">$pâtre</code>.ramène_troupeau(<code class="perl_keyword2">$bergerie</code>);
<code class="perl_keyword2">$éleveur</code>.autre_travail_important();</code></pre></div>
          <p>Ceci laissait au fermier plus de temps pour l'activité <span class="codeinline">autre_travail_important()</span>. Malheureusement, le jeune pâtre n'était pas bien sérieux et avait une fâcheuse tendance à crier au loup. Aussi l'éleveur décida-t-il de remplacer le pâtre par un chien berger :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7178">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7178" onclick="selectionCode('contenuCoded0e7178');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7178" class="contenuCode"><code class="perl_keyword2">$chien-berger</code>.emmène_troupeau(<code class="perl_keyword2">$prairie</code>);
<code class="perl_keyword2">$chien-berger</code>.surveille_troupeau();
<code class="perl_keyword2">$chien-berger</code>.ramène_troupeau(<code class="perl_keyword2">$bergerie</code>);
<code class="perl_keyword2">$éleveur</code>.autre_travail_important();</code></pre></div>
          <p>Le chien berger était plus fiable que le jeune pâtre et coûtait moins cher à l'éleveur, ce n'était donc que bénéfice pour celui-ci.</p>
        </div>
        
		<h3 class="TitreSection2" id="L2-9-2">2-9-2. La morale de la fable<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          
		<h4 class="TitreSection3" id="L2-9-2-1">2-9-2-1. Délégation<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>Pour gérer la complexité, déléguez à une entité appropriée, par exemple, l'éleveur délègue une partie de son travail au jeune pâtre.</p>
          </div>
          
		<h4 class="TitreSection3" id="L2-9-2-2">2-9-2-2. Encapsulation<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>Dites à vos objets ce qu'ils doivent faire, et non comment ils doivent le faire en détail. Par exemple :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7224">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7224" onclick="selectionCode('contenuCoded0e7224');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7224" class="contenuCode"><code class="perl_keyword2">$chien-berger</code>.surveille_troupeau();</code></pre></div>
            <p>Plutôt que :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7232">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7232" onclick="selectionCode('contenuCoded0e7232');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7232" class="contenuCode"><code class="perl_keyword2">$chien-berger</code>.cerveau.tâche.surveille_troupeau;</code></pre></div>
            <p>Plus le fonctionnement interne de l'objet est accessible à l'utilisateur extérieur, plus il est difficile de le modifier.</p>
          </div>
          
		<h4 class="TitreSection3" id="L2-9-2-3">2-9-2-3. Polymorphisme<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>Le chien berger et le pâtre comprennent tous deux les mêmes instructions, comme  <span class="codeinline">surveille_troupeau()</span>, même s'ils ne procèdent pas exactement de la même manière pour le faire. Il en résulte qu'il a été facile de remplacer le pâtre par le chien.</p>
            <p>
              <span class="italique">Cette « fable » est inspirée du message </span>
              <a class="lienArticle simple" href="http://www.perlmonks.org/?node_id=1146129">OOP: A Bird's Eye View</a>
              <span class="italique"> posté sur le forum </span>
              <a class="lienArticle simple" href="http://www.perlmonks.org/?">PerlMonks</a>
              <span class="italique"> par </span>
              <a class="lienArticle simple" href="http://www.perlmonks.org/?node_id=298378">Arunbear</a>
              <span class="italique">, qui m'a aimablement autorisé à la reprendre.</span>
            </p>
          </div>
        </div>
      </div>
    </div>
    
		<h1 class="TitreSection0" id="L3">3. Étude de cas : un programme orienté objet plus complet<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h1><div class="BlocSection0">
      
      <p>Dans ce chapitre, nous ne présenterons pas (ou peu) de notions nouvelles, mais allons plutôt mettre en pratique celles que nous avons acquises précédemment à l'aide d'un exemple plus complet et assez réaliste (mais restant tout de même assez théorique). Ce sera l'occasion de vous suggérer quelques exercices que nous vous incitons à faire.</p>
      <p>Nous allons construire une application de gestion de comptes bancaires. Les entités que nous allons devoir manipuler sont :</p>
      <ul class="ListeDVP">
        <li>différents types de comptes bancaires ;</li>
        <li>les clients titulaires de ces comptes (personnes physiques ou morales) ;</li>
        <li>les personnes, entreprises ou autres entités correspondant à ces clients ;</li>
        <li>les adresses de résidence de ces clients.</li>
      </ul>
      <p>Dans l'analyse très succincte ci-dessus, nous sommes partis des entités de haut niveau vers celles de base.</p>
      <p>Bien que l'on puisse éventuellement s'y prendre autrement, nous allons maintenant procéder dans le sens inverse pour la définition détaillée de ces entités : nous allons d'abord définir nos classes et objets de base, puis utiliser des objets de bases pour définir nos entités de niveau plus élevé.</p>
      
		<h2 class="TitreSection1" id="L3-1">3-1. Les types et classes de base<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        
		<h3 class="TitreSection2" id="L3-1-1">3-1-1. Création d'un sous-type<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Un numéro de téléphone, de compte bancaire ou de client est classiquement représenté par une chaîne de caractères ne contenant que des chiffres et éventuellement des espaces de séparation pour faciliter la lecture.</p>
          <p>Pour permettre une validation automatique de ce type de chaîne de caractères, nous allons commencer par définir un sous-type, sous la forme d'un sous-ensemble du type chaîne de caractères :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7328">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7328" onclick="selectionCode('contenuCoded0e7328');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7328" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=subset"><span>subset</span></a> NumString <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=of"><span>of</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=where"><span>where</span></a> <code class="perl_markup">/</code><code class="perl_markup">^</code><code class="perl_markup">&lt;</code><code class="perl_markup">[</code><code class="perl_literal3">\d</code><code class="perl_literal3">\s</code><code class="perl_markup">]</code><code class="perl_markup">&gt;</code><code class="perl_markup">+</code><code class="perl_markup">$</code><code class="perl_markup">/</code>;</code></pre></div>
          <p>Lorsque nous utiliserons le type <span class="codeinline">NumString</span>, Perl vérifiera pour nous que l'attribut considéré est bien une chaîne de caractères qui ne contient que des chiffres et des espaces :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7371">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7371" onclick="selectionCode('contenuCoded0e7371');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7371" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> NumString <code class="perl_keyword2">$valide</code> <code class="perl_operator">=</code> <code class="perl_literal1">"</code><code class="perl_literal1">7865</code><code class="perl_literal1"> </code><code class="perl_literal1">998</code><code class="perl_literal1"> </code><code class="perl_literal1">432</code><code class="perl_literal1">"</code>;  <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">OK</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> NumString <code class="perl_keyword2">$invalide</code> <code class="perl_operator">=</code> <code class="perl_literal1">"</code><code class="perl_literal1">65b</code><code class="perl_literal1">"</code>;         <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">KO</code></code></pre></div>
          <p>La première initialisation est conforme au sous-type que nous avons défini et se passe bien. La seconde ne fonctionne pas parce la chaîne "65b" contient la lettre « b » et n'est donc pas conforme à la définition du sous-type. Perl nous avertit de cette erreur :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7429">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7429" onclick="selectionCode('contenuCoded0e7429');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7429" class="contenuCode">Type check failed in assignment to <code class="perl_keyword2">$invalide</code>; expected NumString <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=but"><span>but</span></a> got <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> (<code class="perl_literal1">"</code><code class="perl_literal1">65b</code><code class="perl_literal1">"</code>)
  in block <code class="perl_keyword2">&lt;unit&gt;</code> at compte_bancaire.pl6 line <code class="perl_digit">6</code></code></pre></div>
          <p><span class="italique">À titre d'exercice</span>, essayez d'utiliser le sous-type <span class="codeinline">NumString</span>, avec d'autres chaînes de caractères ou avec des types qui ne soient pas des chaînes. Par exemple, si vous essayez avec un nombre entier (donc de type <span class="codeinline">Int</span>), vous devriez avoir l'erreur suivante :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7464">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7464" onclick="selectionCode('contenuCoded0e7464');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7464" class="contenuCode">Type check failed in assignment to $invalide2; expected NumString but got Int (42)
  in block &lt;unit&gt; at compte_bancaire.pl6 line 7</code></pre></div>
        </div>
        
		<h3 class="TitreSection2" id="L3-1-2">3-1-2. La classe Adresse<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Nous avons déjà vu une classe <span class="codeinline">Adresse</span> à la section <a href="#L2-4" class=" lienArticle simple">2.4</a> de ce tutoriel. Celle que nous allons définir ici ne sera pas très différente, mais juste un peu enrichie.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7482">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7482" onclick="selectionCode('contenuCoded0e7482');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7482" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Adresse <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>numéro <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=where"><span>where</span></a> <code class="perl_markup">/</code><code class="perl_markup">^</code><code class="perl_literal3">\d</code><code class="perl_markup">+</code><code class="perl_markup"> </code><code class="perl_literal3">\s</code><code class="perl_markup">*</code><code class="perl_markup"> </code><code class="perl_markup">[</code><code class="perl_markup">bis</code><code class="perl_markup">|</code><code class="perl_markup">ter</code><code class="perl_markup">]</code><code class="perl_markup">?</code><code class="perl_markup">$</code><code class="perl_markup">/</code>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>voie;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>commune;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> NumString <code class="perl_keyword2">$.</code>code<code class="perl_operator">-</code>postal ;

    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> sérialise <code class="perl_operator">{</code>
        <code class="perl_literal1">"</code><code class="perl_literal3">\t</code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">numéro</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">voie</code><code class="perl_literal3">\n</code><code class="perl_literal1">"</code> <code class="perl_operator">~</code> 
        <code class="perl_literal1">"</code><code class="perl_literal3">\t</code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">code</code><code class="perl_literal1">-</code><code class="perl_literal1">postal</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">commune</code><code class="perl_literal1">"</code>;
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code></code></pre></div>
          <p>Nous vérifions que l'attribut <span class="codeinline">numéro</span> ne contient que des chiffres, éventuellement suivis d'espace(s) et éventuellement suivis des chaînes « bis » ou « ter », et que l'attribut code-postal est conforme au sous-type <span class="codeinline">NumString</span> défini précédemment. </p>
          <p>Les attributs d'un objet <span class="codeinline">Adresse</span> ne sont pas mutables, car il est peu probable de devoir changer les détails d'une adresse : si une personne déménage, c'est l'ensemble de l'adresse que l'on remplacera.</p>
          <p>La méthode <span class="codeinline">sérialise</span> renvoie l'adresse sous une forme imprimable (chaîne de caractères formatée). Nous reviendrons un peu plus loin sur la question de l'affichage de nos objets.</p>
          
		<h4 class="TitreSection3" id="L3-1-2-1">3-1-2-1. Créer une adresse<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>Créons une adresse pour vérifier le bon fonctionnement :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7653">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7653" onclick="selectionCode('contenuCoded0e7653');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7653" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$adresse1</code> <code class="perl_operator">=</code> Adresse.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>( numéro <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">24</code><code class="perl_literal1"> </code><code class="perl_literal1">bis</code><code class="perl_literal1">"</code>,
                            voie <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">rue</code><code class="perl_literal1"> </code><code class="perl_literal1">des</code><code class="perl_literal1"> </code><code class="perl_literal1">Fours</code><code class="perl_literal1"> </code><code class="perl_literal1">à</code><code class="perl_literal1"> </code><code class="perl_literal1">pain</code><code class="perl_literal1">"</code>,
                            code<code class="perl_operator">-</code>postal <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">69007</code><code class="perl_literal1">"</code>,
                            commune <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Lyon</code><code class="perl_literal1">"</code>
                          );
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Adresse</code><code class="perl_literal1"> </code><code class="perl_literal1">1</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal3">\n</code><code class="perl_literal1">"</code>, <code class="perl_keyword2">$adresse1</code>.sérialise;</code></pre></div>
            <p>Ceci fonctionne et affiche :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7764">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7764" onclick="selectionCode('contenuCoded0e7764');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7764" class="contenuCode">Adresse 1 :
        24 bis rue des Fours à pain
        69007 Lyon</code></pre></div>
            <p><span class="italique">À titre d'exercice</span>, essayez avec d'autres attributs, y compris des attributs invalides (par exemple l'entier <span class="codeinline">24</span> pour le <span class="codeinline">numéro</span>, ou la chaîne « <span class="codeinline">6900c</span> » pour le <span class="codeinline">code-postal</span>.</p>
          </div>
          
		<h4 class="TitreSection3" id="L3-1-2-2">3-1-2-2. Cloner une adresse<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>Nous pouvons créer une seconde adresse ressemblant en partie à une adresse déjà créée en <span class="italique">clonant</span> (voir section <a href="#L4-1-11" class=" lienArticle simple">4.1.11</a>) cette dernière. Au moment de la construction de la nouvelle adresse par clonage, il est possible de passer en argument les détails de l'adresse qui changent, même si ces attributs ne sont par ailleurs pas mutables :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7799">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7799" onclick="selectionCode('contenuCoded0e7799');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7799" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$adresse2</code> <code class="perl_operator">=</code> <code class="perl_keyword2">$adresse1</code>.clone(numéro <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">42</code><code class="perl_literal1">"</code>, voie <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">rue</code><code class="perl_literal1"> </code><code class="perl_literal1">Pasteur</code><code class="perl_literal1">"</code>);
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Adresse</code><code class="perl_literal1"> </code><code class="perl_literal1">2</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal3">\n</code><code class="perl_literal1">"</code>, <code class="perl_keyword2">$adresse2</code>.sérialise;</code></pre></div>
            <p>Ce qui affiche :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7867">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7867" onclick="selectionCode('contenuCoded0e7867');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7867" class="contenuCode">Adresse 2 :
        42 rue Pasteur
        69007 Lyon</code></pre></div>
            <p>Naturellement, les nouveaux arguments passés à la méthode clone doivent respecter les contraintes de type régissant les attributs correspondants. <span class="italique">À titre d'exercice,</span> essayez de cloner une adresse en passant des arguments non valides pour les attributs correspondants.</p>
          </div>
          
		<h4 class="TitreSection3" id="L3-1-2-3">3-1-2-3. Créer un tableau d'adresses<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>Nous aurons peut-être besoin, notamment pour effectuer des tests, de plus d'adresses. Par ailleurs, nommer des adresses <span class="codeinline">$adresse1</span> et <span class="codeinline">$adresse2</span> convenait pour les exemples ci-dessus, mais n'est pas très satisfaisant. Il vaudrait mieux créer un tableau d'adresses. Nous allons supposer qu'une nouvelle rue vient d'être inaugurée à Marseille et allons créer un tableau d'une dizaine d'adresses pour cette rue :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7891">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7891" onclick="selectionCode('contenuCoded0e7891');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7891" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$nouvelle-rue</code> <code class="perl_operator">=</code> <code class="perl_literal1">"</code><code class="perl_literal1">rue</code><code class="perl_literal1"> </code><code class="perl_literal1">Jean</code><code class="perl_literal1"> </code><code class="perl_literal1">d</code><code class="perl_literal1">'</code><code class="perl_literal1">Ormesson</code><code class="perl_literal1">"</code>;
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$cp</code> <code class="perl_operator">=</code> <code class="perl_literal1">"</code><code class="perl_literal1">13003</code><code class="perl_literal1">"</code>;
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$ville</code> <code class="perl_operator">=</code> <code class="perl_literal1">"</code><code class="perl_literal1">Marseille</code><code class="perl_literal1">"</code>;
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">@nouv_adresses</code>;
<code class="perl_keyword2">@nouv_adresses</code>[<code class="perl_keyword2">$_</code>] <code class="perl_operator">=</code> Adresse.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>( numéro <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal3">$_</code><code class="perl_literal1">"</code>,
                                 voie <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$nouvelle-rue</code>,
                                 code<code class="perl_operator">-</code>postal <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$cp</code>,
                                 commune <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$ville</code>,
                               )
                               <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=for"><span>for</span></a> <code class="perl_digit">1</code>..<code class="perl_digit">10</code>;</code></pre></div>
            <p>Vérifions les quatre premières adresses nouvellement créées :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e8022">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e8022" onclick="selectionCode('contenuCoded0e8022');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e8022" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=for"><span>for</span></a> <code class="perl_digit">1</code>..<code class="perl_digit">4</code> <code class="perl_operator">-</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$num</code> <code class="perl_operator">{</code> 
    <code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Adresse</code><code class="perl_literal1"> </code><code class="perl_literal1">n</code><code class="perl_literal1">°</code><code class="perl_literal1"> </code><code class="perl_literal3">$num</code><code class="perl_literal3">\n</code><code class="perl_literal1">"</code>, <code class="perl_keyword2">@nouv_adresses</code>[<code class="perl_keyword2">$num</code>].sérialise;
<code class="perl_operator">}</code></code></pre></div>
            <p>L'affichage confirme le bon fonctionnement :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e8077">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e8077" onclick="selectionCode('contenuCoded0e8077');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e8077" class="contenuCode">Adresse n° 1
        1 rue Jean d'Ormesson
        13003 Marseille
Adresse n° 2
        2 rue Jean d'Ormesson
        13003 Marseille
Adresse n° 3
        3 rue Jean d'Ormesson
        13003 Marseille
Adresse n° 4
        4 rue Jean d'Ormesson
        13003 Marseille</code></pre></div>
          </div>
          
		<h4 class="TitreSection3" id="L3-1-2-4">3-1-2-4. Automatiser les tests<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>Cette section n'a pas à voir directement avec la POO, mais les tests que nous avons faits ci-dessus et ceux que nous vous avons suggéré de faire sont un peu laborieux. </p>
            <p>Le module <span class="codeinline">Test</span> livré avec Perl 6 permet d'automatiser les tests. </p>
            <p>Par exemple, pour tester la multiplication de deux nombres, nous pourrions écrire :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e8098">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e8098" onclick="selectionCode('contenuCoded0e8098');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e8098" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=use"><span>use</span></a> Test;
plan <code class="perl_digit">1</code>;
ok <code class="perl_digit">2</code> <code class="perl_operator">*</code> <code class="perl_digit">2</code> <code class="perl_operator">=</code><code class="perl_operator">=</code> <code class="perl_digit">4</code>, <code class="perl_literal1">"</code><code class="perl_literal1">teste</code><code class="perl_literal1"> </code><code class="perl_literal1">la</code><code class="perl_literal1"> </code><code class="perl_literal1">multiplication</code><code class="perl_literal1"> </code><code class="perl_literal1">2</code><code class="perl_literal1"> </code><code class="perl_literal1">par</code><code class="perl_literal1"> </code><code class="perl_literal1">2</code><code class="perl_literal1">"</code>;</code></pre></div>
            <p>Le code ci-dessus charge le module <span class="codeinline">Test</span> et l'instruction <span class="codeinline">plan 1;</span> annonce que l'on va effectuer un seul test ; ensuite, la fonction <span class="codeinline">ok</span> vérifie que l'expression <span class="codeinline">2 * 2 == 4</span> renvoie une valeur vraie (<span class="codeinline">True</span>). Le dernier paramètre texte (facultatif) passé à la fonction est un simple descriptif qui se retrouvera dans le résultat et facilitera son interprétation.</p>
            <p>Si tout va bien, cela affichera :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e8171">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e8171" onclick="selectionCode('contenuCoded0e8171');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e8171" class="contenuCode">ok 1 - teste la multiplication 2 par 2</code></pre></div>
            <p>Le test numéro 1 fonctionne comme prévu. Si on avait comparé le produit <span class="codeinline">2 * 2</span> à la valeur 5, on aurait obtenu un message d'erreur :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e8180">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e8180" onclick="selectionCode('contenuCoded0e8180');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e8180" class="contenuCode">Failed test 'teste la multiplication 2 par 2'</code></pre></div>
            <p>La fonction <span class="codeinline">ok</span> est sans doute la plus utilisée dans ce genre de tests automatiques, mais il existe aussi une fonction <span class="codeinline">nok</span> qui renvoie un succès si l'expression testée renvoie une valeur fausse, ainsi que d'autres fonctions permettant de comparer deux chaînes de caractères (<span class="codeinline">is</span>), une comparaison numérique approximative (<span class="codeinline">is-approx</span>), une regex (<span class="codeinline">like</span>, <span class="codeinline">unlike</span>), et ainsi de suite. L'objectif du présent tutoriel n'est pas de vous enseigner tous les détails d'utilisation du module <span class="codeinline">Test</span>, le lecteur intéressé est prié de consulter la documentation officielle (<a class="lienArticle https" href="https://docs.perl6.org/language/testing">https://docs.perl6.org/language/testing</a>).</p>
            <p>Dans la batterie de tests ci-dessous, nous testons la construction d'objet de type <span class="codeinline">Adresse</span> pour différents numéros dans la voie :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e8216">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e8216" onclick="selectionCode('contenuCoded0e8216');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e8216" class="contenuCode">
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=use"><span>use</span></a> Test;
plan <code class="perl_digit">9</code>;
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$nouvelle-rue</code> <code class="perl_operator">=</code> <code class="perl_literal1">"</code><code class="perl_literal1">rue</code><code class="perl_literal1"> </code><code class="perl_literal1">Jean</code><code class="perl_literal1"> </code><code class="perl_literal1">d</code><code class="perl_literal1">'</code><code class="perl_literal1">Ormesson</code><code class="perl_literal1">"</code>;
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$cp</code> <code class="perl_operator">=</code> <code class="perl_literal1">"</code><code class="perl_literal1">13003</code><code class="perl_literal1">"</code>;
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$ville</code> <code class="perl_operator">=</code> <code class="perl_literal1">"</code><code class="perl_literal1">Marseille</code><code class="perl_literal1">"</code>;
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">%nouv_adresses</code>;
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=for"><span>for</span></a> <code class="perl_digit">1</code>, <code class="perl_digit">3</code>, <code class="perl_digit">20</code>, <code class="perl_literal1">"</code><code class="perl_literal1">12</code><code class="perl_literal1"> </code><code class="perl_literal1">bis</code><code class="perl_literal1">"</code> <code class="perl_operator">-</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$num</code> <code class="perl_operator">{</code>
    <code class="perl_keyword2">%nouv_adresses</code><code class="perl_operator">{</code><code class="perl_keyword2">$num</code><code class="perl_operator">}</code> <code class="perl_operator">=</code> Adresse.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>( 
        numéro <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal3">$num</code><code class="perl_literal1">"</code>,
        voie <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$nouvelle-rue</code>,
        code<code class="perl_operator">-</code>postal <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$cp</code>,
        commune <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$ville</code>,
    );
    isa<code class="perl_operator">-</code>ok  <code class="perl_keyword2">%nouv_adresses</code><code class="perl_operator">{</code><code class="perl_keyword2">$num</code><code class="perl_operator">}</code>, Adresse,  
        <code class="perl_literal1">"</code><code class="perl_literal1">Test</code><code class="perl_literal1"> </code><code class="perl_literal1">construction</code><code class="perl_literal1"> </code><code class="perl_literal1">adresse</code><code class="perl_literal1"> </code><code class="perl_literal1">pour</code><code class="perl_literal1"> </code><code class="perl_literal3">$num</code><code class="perl_literal1">"</code>;
    ok <code class="perl_keyword2">%nouv_adresses</code><code class="perl_operator">{</code><code class="perl_keyword2">$num</code><code class="perl_operator">}</code>.numéro <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=eq"><span>eq</span></a> <code class="perl_keyword2">$num</code>, 
        <code class="perl_literal1">"</code><code class="perl_literal1">Test</code><code class="perl_literal1"> </code><code class="perl_literal1">sur</code><code class="perl_literal1"> </code><code class="perl_literal1">le</code><code class="perl_literal1"> </code><code class="perl_literal1">numero</code><code class="perl_literal1"> </code><code class="perl_literal1">pour</code><code class="perl_literal1"> </code><code class="perl_literal1">adresse</code><code class="perl_literal1"> </code><code class="perl_literal3">$num</code><code class="perl_literal1">"</code>;
<code class="perl_operator">}</code> 
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=eval"><span>eval</span></a><code class="perl_operator">-</code>dies<code class="perl_operator">-</code>ok q[ <code class="perl_keyword2">%nouv_adresses</code><code class="perl_operator">{</code><code class="perl_literal1">"</code><code class="perl_literal1">string</code><code class="perl_literal1">"</code><code class="perl_operator">}</code> <code class="perl_operator">=</code> Adresse.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>( 
    numéro <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">string</code><code class="perl_literal1">"</code>,
    voie <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$nouvelle-rue</code>,
    code<code class="perl_operator">-</code>postal <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$cp</code>,
    commune <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$ville</code>,
);], <code class="perl_literal1">"</code><code class="perl_literal1">Test</code><code class="perl_literal1"> </code><code class="perl_literal1">exception</code><code class="perl_literal1"> </code><code class="perl_literal1">lors</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">la</code><code class="perl_literal1"> </code><code class="perl_literal1">construction</code><code class="perl_literal1">"</code>;</code></pre></div>
            <p>Nous avons d'abord une boucle qui teste, pour quatre numéros valides, que l'objet retourné est bien de type <span class="codeinline">Adresse</span> (fonction <span class="codeinline">isa-ok</span>) et que l'attribut <span class="codeinline">numéro</span> de l'objet créé est bien égal au paramètre passé lors de la construction (fonction <span class="codeinline">ok</span>, nous aurions pu utiliser <span class="codeinline">is</span>). Ce qui représente 8 tests. Le neuvième test (<span class="codeinline">eval-dies-ok</span>) vérifie que la construction de l'objet échoue (renvoie une exception) avec un numéro invalide. La fonction <span class="codeinline">eval-dies-ok</span> intercepte l'exception et permet aux tests de se poursuivre même si, normalement, l'échec de l'opération testée aurait fait planter le programme.</p>
            <p>Lançons le jeu de tests :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e8583">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e8583" onclick="selectionCode('contenuCoded0e8583');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e8583" class="contenuCode">1..9
ok 1 - Test construction adresse pour 1
ok 2 - Test sur le numero pour adresse 1
ok 3 - Test construction adresse pour 3
ok 4 - Test sur le numero pour adresse 3
ok 5 - Test construction adresse pour 20
ok 6 - Test sur le numero pour adresse 20
ok 7 - Test construction adresse pour 12 bis
ok 8 - Test sur le numero pour adresse 12 bis
ok 9 - Test exception lors de la construction</code></pre></div>
            <p>Ici, tous les tests ont réussi.</p>
            <p>En cours de développement, le nombre de tests risque de changer fréquemment et il peut devenir ennuyeux de mettre à jour le nombre de tests à chaque fois (après l'instruction <span class="codeinline">plan</span>). Dans ce cas, on peut omettre le plan au début des tests et le remplacer par le mot-clef <span class="codeinline">done-testing</span> à la fin du jeu de tests. Une fois ce jeu de test stabilisé, il sera préférable de revenir à un plan spécifiant le nombre de tests à réaliser, cela permet une meilleure vérification.</p>
            <p>Nous encourageons le lecteur à enrichir ce jeu de tests dès maintenant, et à continuer de le faire dans la suite de ce chapitre.</p>
          </div>
        </div>
        
		<h3 class="TitreSection2" id="L3-1-3">3-1-3. Les entités personnes physique et morale<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Nous voulons définir ici les personnes physiques (individus) et morales (entreprises, collectivités locales, établissements publics, etc.) qui peuvent être clients de la banque.</p>
          <p>Une personne physique sera définie dans la classe <span class="codeinline">Personne-privée</span>, assez semblable à celle que nous avons déjà employée précédemment (voir par exemple la classe <span class="codeinline">Personne</span> du § <a href="#L2-4" class=" lienArticle simple">2.4</a>). Nous pourrions vouloir la définir comme suit :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e8623">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e8623" onclick="selectionCode('contenuCoded0e8623');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e8623" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Personne<code class="perl_operator">-</code>privée <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>nom;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>prénom;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Adresse <code class="perl_keyword2">$.</code>adresse <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>telephone<code class="perl_operator">-</code>fixe <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code>
    methode déménage <code class="perl_operator">{</code>
        <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">changement</code><code class="perl_comment1"> </code><code class="perl_comment1">d'adresse</code>
    <code class="perl_operator">}</code>
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code></code></pre></div>
          <p>Ici, on observe un exemple de <span class="italique">composition</span> de classes : la classe <span class="codeinline">Personne-privée</span> utilise un objet de la classe <span class="codeinline">Adresse</span> dans sa définition.</p>
          
		<h4 class="TitreSection3" id="L3-1-3-1">3-1-3-1. Un rôle pour les détails communs aux différentes sortes de personnes<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>Toutefois, une personne morale aura aussi une adresse et un numéro de téléphone fixe, ainsi vraisemblablement que les méthodes permettant de les modifier. Voilà une excellente occasion d'utiliser un rôle pour définir les attributs et méthodes communs à ces différents types d'entités qui ont des ressemblances, mais n'ont pas de raison d'hériter les unes des autres, afin d'éviter de les redéfinir de multiples fois :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e8732">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e8732" onclick="selectionCode('contenuCoded0e8732');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e8732" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> Personne<code class="perl_operator">-</code>details <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Adresse <code class="perl_keyword2">$.</code>adresse <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> NumString <code class="perl_keyword2">$.</code>telephone<code class="perl_operator">-</code>fixe <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;

    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> déménage (Adresse <code class="perl_keyword2">$nouvelle-adresse</code>) <code class="perl_operator">{</code>
        <code class="perl_keyword2">$.</code>adresse <code class="perl_operator">=</code> <code class="perl_keyword2">$nouvelle-adresse</code>;
    <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> change<code class="perl_operator">-</code>telephone<code class="perl_operator">-</code>fixe (NumString <code class="perl_keyword2">$num-appel</code>) <code class="perl_operator">{</code>
        <code class="perl_keyword2">$.</code>telephone<code class="perl_operator">-</code>fixe <code class="perl_operator">=</code> <code class="perl_keyword2">$num-appel</code>
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code></code></pre></div>
          </div>
          
		<h4 class="TitreSection3" id="L3-1-3-2">3-1-3-2. Définition de la classe des personnes physiques<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>Grâce à ce rôle, nous pouvons maintenant définir notre classe <span class="codeinline">Personne-privée</span> de façon simplifiée :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e8835">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e8835" onclick="selectionCode('contenuCoded0e8835');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e8835" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Personne<code class="perl_operator">-</code>privée <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Personne<code class="perl_operator">-</code>details <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>nom;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>prénom;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>sexe <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=where"><span>where</span></a> <code class="perl_operator">{</code><code class="perl_keyword2">$_</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=eq"><span>eq</span></a> <code class="perl_literal1">"</code><code class="perl_literal1">M</code><code class="perl_literal1">"</code><code class="perl_operator">|</code><code class="perl_literal1">"</code><code class="perl_literal1">F</code><code class="perl_literal1">"</code><code class="perl_operator">}</code>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Date <code class="perl_keyword2">$.</code>date<code class="perl_operator">-</code>de<code class="perl_operator">-</code>naissance;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>lieu<code class="perl_operator">-</code>de<code class="perl_operator">-</code>naissance;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>telephone<code class="perl_operator">-</code>mobile <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;

    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> affiche<code class="perl_operator">-</code>personne <code class="perl_operator">{</code>dd <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a><code class="perl_operator">}</code>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> âge <code class="perl_operator">{</code><code class="perl_keyword3">sprintf</code> <code class="perl_literal1">"</code><code class="perl_literal3">%</code><code class="perl_literal3">d</code><code class="perl_literal1">"</code>, (Date.today<code class="perl_operator">-</code><code class="perl_keyword2">$.</code>date<code class="perl_operator">-</code>de<code class="perl_operator">-</code>naissance)<code class="perl_operator">/</code><code class="perl_digit">365</code>.<code class="perl_digit">25</code><code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> affiche<code class="perl_operator">-</code>personne<code class="perl_operator">-</code>adresse <code class="perl_operator">{</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$titre</code> <code class="perl_operator">=</code> <code class="perl_keyword2">$.</code>sexe <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=eq"><span>eq</span></a> <code class="perl_literal1">'</code><code class="perl_literal1">M</code><code class="perl_literal1">'</code> <code class="perl_operator">?</code><code class="perl_operator">?</code> <code class="perl_literal1">"</code><code class="perl_literal1">Monsieur</code><code class="perl_literal1">"</code> <code class="perl_operator">!</code><code class="perl_operator">!</code> <code class="perl_literal1">"</code><code class="perl_literal1">Madame</code><code class="perl_literal1">"</code>;
        <code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal3">\t</code><code class="perl_literal3">$titre</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">prénom</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">nom</code><code class="perl_literal1">"</code>;
        <code class="perl_keyword3">say</code> <code class="perl_keyword2">$.</code>adresse.affiche<code class="perl_operator">-</code>adresse;
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code></code></pre></div>
            <p>Le <span class="italique">trait</span> <span class="codeinline">does Personne-details</span> utilisé dans l'en-tête de la définition de la classe permet d'<span class="italique">appliquer</span> le rôle à notre classe <span class="codeinline">Personne-privée</span> et de gérer implicitement (sans les déclarer et définir dans la classe elle-même) les propriétés adresse et numéro de téléphone fixe et de les modifier au besoin. </p>
            <p>À noter également que, pour rester simple et concis, notre méthode <span class="codeinline">âge</span> est en fait un peu simpliste et n'est qu'approximativement correcte. <span class="italique">À titre d'exercice</span>, nous laissons au lecteur le soin de définir cette méthode plus rigoureusement en tenant compte notamment des années bissextiles, s'il le désire. De même, pour ne pas alourdir cette première version de l'exemple, la méthode <span class="codeinline">affiche-adresse</span> se contente d'appeler la routine <span class="codeinline">dd</span> (<span class="italique">data dump</span>), un outil de Rakudo destiné à afficher de façon à peu près lisible le contenu d'une structure (ici, l'objet courant) pour en faciliter le débogage. <span class="italique">À titre d'exercice</span>, le lecteur est encouragé à réécrire cette méthode pour un affichage plus convivial (voir une solution possible au § <a href="#L3-1-3-3" class=" lienArticle simple">3.1.3.3</a>).</p>
            <p>Nous pouvons maintenant créer une <span class="codeinline">Personne-privée</span> et tester quelques modifications sur cet objet :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e9149">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e9149" onclick="selectionCode('contenuCoded0e9149');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e9149" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$xavier</code> <code class="perl_operator">=</code> Personne<code class="perl_operator">-</code>privée.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    prénom <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Xavier</code><code class="perl_literal1">"</code>,
    nom <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Sirvenne</code><code class="perl_literal1">"</code>,
    sexe <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">M</code><code class="perl_literal1">"</code>,
    date<code class="perl_operator">-</code>de<code class="perl_operator">-</code>naissance <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> Date.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(<code class="perl_literal1">"</code><code class="perl_literal1">1998</code><code class="perl_literal1">-</code><code class="perl_literal1">02</code><code class="perl_literal1">-</code><code class="perl_literal1">08</code><code class="perl_literal1">"</code>),
    lieu<code class="perl_operator">-</code>de<code class="perl_operator">-</code>naissance <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Brest</code><code class="perl_literal1">"</code>,
    adresse <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$adresse1</code>,
    telephone<code class="perl_operator">-</code>fixe <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">04</code><code class="perl_literal1"> </code><code class="perl_literal1">01</code><code class="perl_literal1"> </code><code class="perl_literal1">02</code><code class="perl_literal1"> </code><code class="perl_literal1">03</code><code class="perl_literal1"> </code><code class="perl_literal1">04</code><code class="perl_literal1">"</code>,
    telephone<code class="perl_operator">-</code>mobile <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">06</code><code class="perl_literal1"> </code><code class="perl_literal1">05</code><code class="perl_literal1"> </code><code class="perl_literal1">04</code><code class="perl_literal1"> </code><code class="perl_literal1">03</code><code class="perl_literal1"> </code><code class="perl_literal1">02</code><code class="perl_literal1">"</code>,
);

<code class="perl_keyword2">$xavier</code>.affiche<code class="perl_operator">-</code>personne;
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Âge</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal3">{</code><code class="perl_literal3">$xavier.prénom</code><code class="perl_literal3">}</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal3">{</code><code class="perl_literal3">$xavier.âge</code><code class="perl_literal3">}</code><code class="perl_literal1"> </code><code class="perl_literal1">ans</code><code class="perl_literal1">"</code>;
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Adresse</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal3">{</code><code class="perl_literal3">$xavier.prénom,</code><code class="perl_literal3"> </code><code class="perl_literal3">$xavier.nom</code><code class="perl_literal3">}</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1">"</code>;
<code class="perl_keyword2">$xavier</code>.affiche<code class="perl_operator">-</code>personne<code class="perl_operator">-</code>adresse;
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Changement</code><code class="perl_literal1"> </code><code class="perl_literal1">d</code><code class="perl_literal1">'</code><code class="perl_literal1">adresse</code><code class="perl_literal1">"</code>;
<code class="perl_keyword2">$xavier</code>.déménage(<code class="perl_keyword2">$adresse2</code>);
<code class="perl_keyword2">$xavier</code>.affiche<code class="perl_operator">-</code>personne<code class="perl_operator">-</code>adresse;
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Changement</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">téléphone</code><code class="perl_literal1"> </code><code class="perl_literal1">fixe</code><code class="perl_literal1">"</code>;
<code class="perl_keyword2">$xavier</code>.change<code class="perl_operator">-</code>telephone<code class="perl_operator">-</code>fixe(<code class="perl_literal1">"</code><code class="perl_literal1">04</code><code class="perl_literal1"> </code><code class="perl_literal1">02</code><code class="perl_literal1"> </code><code class="perl_literal1">03</code><code class="perl_literal1"> </code><code class="perl_literal1">04</code><code class="perl_literal1"> </code><code class="perl_literal1">05</code><code class="perl_literal1">"</code>);
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Nouveau</code><code class="perl_literal1"> </code><code class="perl_literal1">numéro</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">téléphone</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal3">{</code><code class="perl_literal3">$xavier.prénom,</code><code class="perl_literal3"> </code><code class="perl_literal3">$xavier.nom</code><code class="perl_literal3">}</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code>, <code class="perl_keyword2">$xavier</code>.telephone<code class="perl_operator">-</code>fixe;</code></pre></div>
            <p>Ce qui affiche ceci :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e9542">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e9542" onclick="selectionCode('contenuCoded0e9542');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e9542" class="contenuCode">Personne-privée.new(nom =&gt; "Sirvenne", prénom =&gt; "Xavier", sexe =&gt; "M", date-de-naissance =&gt; Date.new(1998,2,8), lieu-de-naissance =&gt; "Brest", telephone-mobile =&gt; "06 05 04 03 02", adresse =&gt; Adresse.new(numéro =&gt; "24 bis", voie =&gt; "rue des Fours à pain", commune =&gt; "Lyon", code-postal =&gt; "69007"), telephone-fixe =&gt; "04 01 02 03 04")
âge de Xavier : 20 ans
Adresse de Xavier Sirvenne :
        Monsieur Xavier Sirvenne
        24 bis rue des Fours à pain
        69007 Lyon
Changement d'adresse
        Monsieur Xavier Sirvenne
        42 rue Pasteur
        69007 Lyon
Changement de téléphone fixe
Nouveau numéro de téléphone de Xavier Sirvenne : 04 02 03 04 05</code></pre></div>
          </div>
          
		<h4 class="TitreSection3" id="L3-1-3-3">3-1-3-3. Sérialiser un objet<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>Quand on utilise des structures de données composites ou complexes, il est presque toujours nécessaire d'être en mesure de visualiser et d'afficher son contenu (ne serait-ce que pour tester le bon fonctionnement). Nous avons utilisé plus haut la fonction <span class="codeinline">dd</span> de Rakudo pour afficher le contenu de notre objet <span class="codeinline">$xavier</span> de type <span class="codeinline">Personne</span>. Cela dépanne bien, mais il faut reconnaître que l'affichage n'est pas très satisfaisant, surtout quand l'objet devient un peu complexe (par exemple avec des sous-objets composés à l'intérieur de l'objet principal).</p>
            <p>Il est donc souhaitable de prévoir, pour chaque classe, un moyen d'afficher les objets lui appartenant. La première solution venant à l'esprit pourrait être de prévoir une méthode affichant à l'écran les différents attributs d'un objet, mais cela ne fonctionne pas très bien quand des attributs sont eux-mêmes des objets d'une autre classe. Il est donc préférable de prévoir une (ou plusieurs) méthode(s) permettant de transformer un objet en une chaîne de caractères plus ou moins formatée qu'il sera ensuite facile d'afficher à l'écran avec une instruction d'impression. C'est ce que nous avons fait dans la classe <span class="codeinline">Adresse</span> avec la méthode <span class="codeinline">sérialise</span> :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e9572">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e9572" onclick="selectionCode('contenuCoded0e9572');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e9572" class="contenuCode">    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> sérialise <code class="perl_operator">{</code>
        <code class="perl_literal1">"</code><code class="perl_literal3">\t</code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">numéro</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">voie</code><code class="perl_literal3">\n</code><code class="perl_literal1">"</code> <code class="perl_operator">~</code> 
        <code class="perl_literal1">"</code><code class="perl_literal3">\t</code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">code</code><code class="perl_literal1">-</code><code class="perl_literal1">postal</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">commune</code><code class="perl_literal1">"</code>;
    <code class="perl_operator">}</code></code></pre></div>
            <p>qui renvoie une chaîne de caractères formatée permettant de bien visualiser un objet de type adresse :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e9637">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e9637" onclick="selectionCode('contenuCoded0e9637');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e9637" class="contenuCode">        24 bis rue des Fours à pain
        69007 Lyon</code></pre></div>
            <p>Nous appelons <span class="italique">sérialisation</span> cette mise en forme imprimable d'un objet, faute d'un meilleur terme, bien que l'idée de sérialisation soit en principe plus complète (elle implique souvent de pouvoir recréer un objet à partir de la chaîne de caractères créée, ce que nous ne cherchons pas à faire ici).</p>
            <p>Astreignons-nous donc à créer une méthode permettant de sérialiser un objet de type <span class="codeinline">Personne</span> qui va nous servir à nouveau pour la suite. C'est curieusement un peu plus difficile qu'on ne pourrait le croire de prime abord (il faut notamment tenir compte du fait que certains attributs ne sont peut-être pas définis). </p>
            <p>Nous supprimons donc toutes les méthodes figurant dans notre définition précédente de la classe <span class="codeinline">Personne</span> et réécrivons cette classe comme suit :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e9658">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e9658" onclick="selectionCode('contenuCoded0e9658');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e9658" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Personne<code class="perl_operator">-</code>privée <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Personne<code class="perl_operator">-</code>details <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>nom;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>prénom;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>sexe <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=where"><span>where</span></a> <code class="perl_operator">{</code><code class="perl_keyword2">$_</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=eq"><span>eq</span></a> <code class="perl_literal1">"</code><code class="perl_literal1">M</code><code class="perl_literal1">"</code><code class="perl_operator">|</code><code class="perl_literal1">"</code><code class="perl_literal1">F</code><code class="perl_literal1">"</code><code class="perl_operator">}</code>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Date <code class="perl_keyword2">$.</code>date<code class="perl_operator">-</code>de<code class="perl_operator">-</code>naissance;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>lieu<code class="perl_operator">-</code>de<code class="perl_operator">-</code>naissance;
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">has</code><code class="perl_comment1"> </code><code class="perl_comment1">Adresse</code><code class="perl_comment1"> </code><code class="perl_comment1">$.adresse</code><code class="perl_comment1"> </code><code class="perl_comment1">is</code><code class="perl_comment1"> </code><code class="perl_comment1">rw;</code>
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">has</code><code class="perl_comment1"> </code><code class="perl_comment1">Str</code><code class="perl_comment1"> </code><code class="perl_comment1">$.telephone-fixe</code><code class="perl_comment1"> </code><code class="perl_comment1">is</code><code class="perl_comment1"> </code><code class="perl_comment1">rw;</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>telephone<code class="perl_operator">-</code>mobile <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;

    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> civilité <code class="perl_operator">{</code> 
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> <code class="perl_keyword2">$.</code>sexe <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=eq"><span>eq</span></a> <code class="perl_literal1">'</code><code class="perl_literal1">M</code><code class="perl_literal1">'</code> <code class="perl_operator">?</code><code class="perl_operator">?</code> <code class="perl_literal1">"</code><code class="perl_literal1">Monsieur</code><code class="perl_literal1">"</code> <code class="perl_operator">!</code><code class="perl_operator">!</code> <code class="perl_literal1">"</code><code class="perl_literal1">Madame</code><code class="perl_literal1">"</code>;
    <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> âge <code class="perl_operator">{</code> <code class="perl_keyword3">sprintf</code> <code class="perl_literal1">"</code><code class="perl_literal3">%</code><code class="perl_literal3">d</code><code class="perl_literal1">"</code>, (Date.today <code class="perl_operator">-</code> <code class="perl_keyword2">$.</code>date<code class="perl_operator">-</code>de<code class="perl_operator">-</code>naissance)<code class="perl_operator">/</code><code class="perl_digit">365</code> <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> sérialise<code class="perl_operator">-</code>personne<code class="perl_operator">-</code>adresse <code class="perl_operator">{</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$titre</code> <code class="perl_operator">=</code> <code class="perl_keyword2">$.</code>civilité;
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> <code class="perl_literal1">"</code><code class="perl_literal3">\t</code><code class="perl_literal3">$titre</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">prénom</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">nom</code><code class="perl_literal1"> </code><code class="perl_literal3">\n</code><code class="perl_literal1"> </code><code class="perl_literal3">{</code><code class="perl_literal3">$.adresse.sérialise-adresse</code><code class="perl_literal3">}</code><code class="perl_literal1">"</code>;
    <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> affiche<code class="perl_operator">-</code>personne<code class="perl_operator">-</code>adresse <code class="perl_operator">{</code>
        <code class="perl_keyword3">say</code> <code class="perl_keyword2">$.</code>sérialise<code class="perl_operator">-</code>personne<code class="perl_operator">-</code>adresse;
    <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> sérialise<code class="perl_operator">-</code>personne <code class="perl_operator">{</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$né</code> <code class="perl_operator">=</code> <code class="perl_keyword2">$.</code>sexe <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=eq"><span>eq</span></a> <code class="perl_literal1">'</code><code class="perl_literal1">M</code><code class="perl_literal1">'</code> <code class="perl_operator">?</code><code class="perl_operator">?</code> <code class="perl_literal1">"</code><code class="perl_literal1">Né</code><code class="perl_literal1">"</code> <code class="perl_operator">!</code><code class="perl_operator">!</code> <code class="perl_literal1">"</code><code class="perl_literal1">Née</code><code class="perl_literal1">"</code>;
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$naissance</code> <code class="perl_operator">=</code> (<code class="perl_keyword3">defined</code> <code class="perl_keyword2">$.</code>date<code class="perl_operator">-</code>de<code class="perl_operator">-</code>naissance <code class="perl_operator">&amp;</code><code class="perl_operator">&amp;</code> <code class="perl_keyword3">defined</code> <code class="perl_keyword2">$.</code>lieu<code class="perl_operator">-</code>de<code class="perl_operator">-</code>naissance) <code class="perl_operator">?</code><code class="perl_operator">?</code>
                            <code class="perl_literal1">"</code><code class="perl_literal3">$né</code><code class="perl_literal1"> </code><code class="perl_literal1">le</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">date</code><code class="perl_literal1">-</code><code class="perl_literal1">de</code><code class="perl_literal1">-</code><code class="perl_literal1">naissance</code><code class="perl_literal1"> </code><code class="perl_literal1">à</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">lieu</code><code class="perl_literal1">-</code><code class="perl_literal1">de</code><code class="perl_literal1">-</code><code class="perl_literal1">naissance</code><code class="perl_literal1"> </code><code class="perl_literal1">(</code><code class="perl_literal1">âge</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal3">{</code><code class="perl_literal3">$.âge</code><code class="perl_literal3">}</code><code class="perl_literal1"> </code><code class="perl_literal1">ans</code><code class="perl_literal1">)</code><code class="perl_literal3">\n</code><code class="perl_literal1">"</code> <code class="perl_operator">!</code><code class="perl_operator">!</code>
                            <code class="perl_literal1">"</code><code class="perl_literal1">état</code><code class="perl_literal1">-</code><code class="perl_literal1">civil</code><code class="perl_literal1"> </code><code class="perl_literal1">inconnu</code><code class="perl_literal1"> </code><code class="perl_literal1">ou</code><code class="perl_literal1"> </code><code class="perl_literal1">incomplet</code><code class="perl_literal3">\n</code><code class="perl_literal1">"</code>;
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$personne-str</code> <code class="perl_operator">=</code> <code class="perl_literal1">"</code><code class="perl_literal3">{</code><code class="perl_literal3">$.civilité</code><code class="perl_literal3">}</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">prénom</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">nom</code><code class="perl_literal3">\n</code><code class="perl_literal1">"</code> <code class="perl_operator">~</code>
                           <code class="perl_literal1">"</code><code class="perl_literal3">{</code><code class="perl_literal3">$naissance</code><code class="perl_literal3">}</code><code class="perl_literal1">Adresse</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal3">\n</code><code class="perl_literal1">"</code> <code class="perl_operator">~</code> 
                           <code class="perl_keyword2">$.</code>sérialise<code class="perl_operator">-</code>personne<code class="perl_operator">-</code>adresse; 
        <code class="perl_keyword2">$personne-str</code> <code class="perl_operator">~</code><code class="perl_operator">=</code> <code class="perl_literal1">"</code><code class="perl_literal3">\n</code><code class="perl_literal1">Téléphone</code><code class="perl_literal1"> </code><code class="perl_literal1">fixe</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">telephone</code><code class="perl_literal1">-</code><code class="perl_literal1">fixe</code><code class="perl_literal1">"</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=if"><span>if</span></a> <code class="perl_keyword3">defined</code> <code class="perl_keyword2">$!</code>telephone<code class="perl_operator">-</code>fixe;
        <code class="perl_keyword2">$personne-str</code> <code class="perl_operator">~</code><code class="perl_operator">=</code> <code class="perl_literal1">"</code><code class="perl_literal3">\n</code><code class="perl_literal1">Mobile</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">telephone</code><code class="perl_literal1">-</code><code class="perl_literal1">mobile</code><code class="perl_literal1">"</code>; <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">if</code><code class="perl_comment1"> </code><code class="perl_comment1">defined</code><code class="perl_comment1"> </code><code class="perl_comment1">$!telephone-mobile;</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> <code class="perl_keyword2">$personne-str</code>;
    <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> affiche<code class="perl_operator">-</code>personne <code class="perl_operator">{</code> <code class="perl_keyword3">say</code> <code class="perl_keyword2">$.</code>sérialise<code class="perl_operator">-</code>personne <code class="perl_operator">}</code>;
<code class="perl_operator">}</code></code></pre></div>
            <p>Nous avons gardé une méthode <span class="codeinline">affiche-personne</span>, mais celle-ci ne fait qu'afficher la chaîne de caractères imprimable produite par <span class="codeinline">sérialise-personne</span>, qui utilise elle-même le résultat produit par <span class="codeinline">sérialise-personne-adresse</span> (laquelle utilise à son tour <span class="codeinline">sérialise</span> de la classe <span class="codeinline">Adresse</span>). Un appel à <span class="codeinline">affiche-personne</span> produit maintenant ceci à l'écran :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e10425">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e10425" onclick="selectionCode('contenuCoded0e10425');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e10425" class="contenuCode">Monsieur Xavier Sirvenne
Né le 1998-02-08 à Brest (âge = 20 ans)
Adresse :
        Monsieur Xavier Sirvenne
        24 bis rue des Fours à pain
        69007 Lyon
Téléphone fixe : 04 01 02 03 04
Mobile : 06 05 04 03 02</code></pre></div>
            <p>À noter que ce code de la méthode <span class="codeinline">sérialise-personne</span> illustre une conséquence de la différence entre les syntaxes <span class="codeinline">$.</span> et <span class="codeinline">$!</span> pour accéder aux attributs d'un objet (voir § <a href="#L2-1-1" class=" lienArticle simple">2.1.1</a>). Dans une chaîne de caractères, nous pouvons utiliser directement l'attribut <span class="codeinline">$!date-de-naissance</span>, car il s'agit d'un accès direct à la valeur de l'attribut, qui sera bien interpolé comme s'il s'agissait d'une simple variable. Mais nous ne pourrions pas utiliser de cette façon <span class="codeinline">$.date-de-naissance</span>, car il s'agit en fait d'un appel de méthode ; pour permettre l'interpolation d'un appel de méthode, nous devons le mettre entre accolades, comme nous l'avons fait dans <span class="codeinline">"(âge = {$.âge} ans)\n"</span>.</p>
            <p>Fournir une méthode de sérialisation implique du travail supplémentaire lors de la définition de nos classes, mais cela nous permet de simplifier l'utilisation de la classe, tant pour nous lors de nos tests, que pour l'utilisateur de la classe. En définitive, c'est un gain de temps appréciable pour tout le monde.</p>
          </div>
          
		<h4 class="TitreSection3" id="L3-1-3-4">3-1-3-4. Surcharge de la méthode gist<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>La routine <span class="codeinline">say</span> de Perl 6 appelle en fait la méthode <span class="codeinline">gist</span> (le mot anglais <span class="italique">gist</span> signifie « aperçu »), une méthode de sérialisation générique fournie par <span class="codeinline">Mu</span>, la classe parente ultime de la hiérarchie des classes, avant de procéder à l'impression du contenu de l'objet. Toutes nos classes héritent donc implicitement de cette méthode <span class="codeinline">gist</span>.</p>
            <p>Par conséquent, si nous appelons <span class="codeinline">say</span> sur une adresse, cela va imprimer la chaîne de caractères générée par la méthode <span class="codeinline">gist</span> :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e10488">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e10488" onclick="selectionCode('contenuCoded0e10488');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e10488" class="contenuCode">Adresse.new(numéro =&gt; "24 bis", voie =&gt; "rue des Fours à pain", commune =&gt; "Lyon", code-postal =&gt; "69007")</code></pre></div>
            <p>Rien ne nous empêche, dans une de nos classes, de redéfinir la méthode <span class="codeinline">gist</span>, afin qu'un appel à la routine <span class="codeinline">say</span> utilise notre propre méthode <span class="codeinline">gist</span> surchargée pour les objets de notre classe. Redéfinissons par exemple la classe <span class="codeinline">Adresse</span> comme suit :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e10506">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e10506" onclick="selectionCode('contenuCoded0e10506');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e10506" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Adresse <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>numéro <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=where"><span>where</span></a> <code class="perl_markup">/</code><code class="perl_markup">^</code><code class="perl_literal3">\d</code><code class="perl_markup">+</code><code class="perl_markup"> </code><code class="perl_literal3">\s</code><code class="perl_markup">*</code><code class="perl_markup"> </code><code class="perl_markup">[</code><code class="perl_markup">bis</code><code class="perl_markup">|</code><code class="perl_markup">ter</code><code class="perl_markup">]</code><code class="perl_markup">?</code><code class="perl_markup">$</code><code class="perl_markup">/</code>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>voie;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>commune;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> NumString <code class="perl_keyword2">$.</code>code<code class="perl_operator">-</code>postal ;

    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> gist <code class="perl_operator">{</code>
        <code class="perl_literal1">"</code><code class="perl_literal3">\t</code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">numéro</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">voie</code><code class="perl_literal3">\n</code><code class="perl_literal1">"</code> <code class="perl_operator">~</code> 
        <code class="perl_literal1">"</code><code class="perl_literal3">\t</code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">code</code><code class="perl_literal1">-</code><code class="perl_literal1">postal</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">commune</code><code class="perl_literal1">"</code>;
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code></code></pre></div>
            <p>Maintenant que nous avons redéfini <span class="codeinline">gist</span>, si nous appelons <span class="codeinline">say</span> sur une adresse :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e10657">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e10657" onclick="selectionCode('contenuCoded0e10657');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e10657" class="contenuCode"><code class="perl_keyword3">say</code> <code class="perl_keyword2">$adresse1</code>;</code></pre></div>
            <p> nous obtenons l'affichage suivant :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e10668">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e10668" onclick="selectionCode('contenuCoded0e10668');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e10668" class="contenuCode">        24 bis rue des Fours à pain
        69007 Lyon</code></pre></div>
            <p>Par rapport à ce qui précède, cela nous dispense de devoir appeler la méthode <span class="codeinline">sérialise</span> (<span class="codeinline">say $adresse1.sérialise</span>) sur notre objet, puisque <span class="codeinline">say</span> va implicitement sérialiser l'objet avec notre version surchargée de <span class="codeinline">gist</span>. Dans ce cas précis, cela ressemble surtout à du sucre syntaxique, mais cela peut s'avérer fort utile dans une hiérarchie de classes un peu complexe : l'utilisateur de nos classes n'a plus besoin de se souvenir du nom que nous avons donné à nos méthodes de sérialisation.</p>
          </div>
          
		<h4 class="TitreSection3" id="L3-1-3-5">3-1-3-5. Les personnes morales : création par héritage<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>Les personnes morales sont des entités telles que des entreprises, des collectivités locales, des associations ou des établissements publics. Nous réutiliserons ici le rôle <span class="codeinline">Personne-details</span> créé précédemment. Ici, il paraît intéressant de créer une entité <span class="codeinline">Personne-morale</span> parente générique, puis de créer à partir de cette entité les différents types de personnes morales.</p>
            <p>Nous pouvons créer une classe <span class="codeinline">Personne-morale</span> générique :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e10707">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e10707" onclick="selectionCode('contenuCoded0e10707');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e10707" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Personne<code class="perl_operator">-</code>morale <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Personne<code class="perl_operator">-</code>details <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>nom <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Personne<code class="perl_operator">-</code>privée <code class="perl_keyword2">$.</code>contact <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Date <code class="perl_keyword2">$.</code>date<code class="perl_operator">-</code>de<code class="perl_operator">-</code>création;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Date <code class="perl_keyword2">$.</code>date<code class="perl_operator">-</code>de<code class="perl_operator">-</code>dissolution <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a> <code class="perl_operator">=</code> Date; <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">non</code><code class="perl_comment1"> </code><code class="perl_comment1">définie</code><code class="perl_comment1"> </code><code class="perl_comment1">à</code><code class="perl_comment1"> </code><code class="perl_comment1">la</code><code class="perl_comment1"> </code><code class="perl_comment1">création</code>
    
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> dissout (Date <code class="perl_keyword2">$date-de-fin</code>) <code class="perl_operator">{</code>
        <code class="perl_keyword2">$.</code>date<code class="perl_operator">-</code>de<code class="perl_operator">-</code>dissolution <code class="perl_operator">=</code> <code class="perl_keyword2">$date-de-fin</code>;
    <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> sérialise <code class="perl_operator">{</code>
        qq:to/END/<code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">Nom</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">{$!nom.gist}</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">Adresse</code><code class="perl_literal1"> </code><code class="perl_literal1">:\n</code><code class="perl_literal1"> </code><code class="perl_literal1">{$.adresse.sérialise}</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">Téléphone</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">$!telephone-fixe</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">Contact:</code><code class="perl_literal1"> </code><code class="perl_literal1">{$!contact.prénom,</code><code class="perl_literal1"> </code><code class="perl_literal1">$!contact.nom}</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">Date</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">création</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">$.date-de-création</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code>END
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code></code></pre></div>
            <p>En principe, cette classe n'est pas destinée à être instanciée directement, mais seulement à servir de classe de base générique dont hériteront nos différents types de personnes morales. Il est cependant utile de tester la construction d'un objet de cette classe aux seules fins de vérifier son bon fonctionnement :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e11016">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e11016" onclick="selectionCode('contenuCoded0e11016');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e11016" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$assoc</code> <code class="perl_operator">=</code> Personne<code class="perl_operator">-</code>morale.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    nom <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Club</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">photo</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">Trifouilly</code><code class="perl_literal1">-</code><code class="perl_literal1">les</code><code class="perl_literal1">-</code><code class="perl_literal1">Oies</code><code class="perl_literal1">"</code>,
    contact <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$xavier</code>,
    date<code class="perl_operator">-</code>de<code class="perl_operator">-</code>création <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> Date.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(<code class="perl_literal1">"</code><code class="perl_literal1">2015</code><code class="perl_literal1">-</code><code class="perl_literal1">11</code><code class="perl_literal1">-</code><code class="perl_literal1">15</code><code class="perl_literal1">"</code>),
    adresse <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$adresse2</code>,
    telephone<code class="perl_operator">-</code>fixe <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$xavier</code>.telephone<code class="perl_operator">-</code>fixe,
);
<code class="perl_keyword3">say</code> <code class="perl_keyword2">$assoc</code>.sérialise;</code></pre></div>
            <p>La construction de l'objet <span class="codeinline">$assoc</span> fonctionne correctement :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e11140">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e11140" onclick="selectionCode('contenuCoded0e11140');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e11140" class="contenuCode">Nom : Club de photo de Trifouilly-les-Oies
Adresse :
        42 rue Pasteur
        69007 Lyon
Téléphone : 04 02 03 04 05
Contact: Xavier Sirvenne
Date de création :  2015-11-15</code></pre></div>
            <p>Nous pouvons maintenant définir différents types de personnes morales par héritage :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e11146">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e11146" onclick="selectionCode('contenuCoded0e11146');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e11146" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Entreprise <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Personne<code class="perl_operator">-</code>morale <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=int&amp;amp;mode=all"><span>Int</span></a> <code class="perl_keyword2">$.</code>capital <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>; <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">le</code><code class="perl_comment1"> </code><code class="perl_comment1">capital</code><code class="perl_comment1"> </code><code class="perl_comment1">social</code><code class="perl_comment1"> </code><code class="perl_comment1">peut</code><code class="perl_comment1"> </code><code class="perl_comment1">changer</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> NumString <code class="perl_keyword2">$.</code>siret;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Personne<code class="perl_operator">-</code>privée <code class="perl_keyword2">$.</code>gérant <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>secteur<code class="perl_operator">-</code>d<code class="perl_literal1">'</code><code class="perl_literal1">activité</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">#</code><code class="perl_literal1"> </code><code class="perl_literal1">.</code><code class="perl_literal1">.</code><code class="perl_literal1">.</code><code class="perl_literal1"> </code><code class="perl_literal1"> </code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">method</code><code class="perl_literal1"> </code><code class="perl_literal1">modifie</code><code class="perl_literal1">-</code><code class="perl_literal1">capilal</code><code class="perl_literal1"> </code><code class="perl_literal1">(</code><code class="perl_literal1">Int</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">nouveau</code><code class="perl_literal1">-</code><code class="perl_literal1">capital</code><code class="perl_literal1">)</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">capital</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">nouveau</code><code class="perl_literal1">-</code><code class="perl_literal1">capital</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">}</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">method</code><code class="perl_literal1"> </code><code class="perl_literal1">nouveau</code><code class="perl_literal1">-</code><code class="perl_literal1">gérant</code><code class="perl_literal1"> </code><code class="perl_literal1">(</code><code class="perl_literal1">Personne</code><code class="perl_literal1">-</code><code class="perl_literal1">privée</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">nouv</code><code class="perl_literal1">-</code><code class="perl_literal1">gérant</code><code class="perl_literal1">)</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">gérant</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">nouv</code><code class="perl_literal1">-</code><code class="perl_literal1">gérant</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">}</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">#</code><code class="perl_literal1"> </code><code class="perl_literal1">.</code><code class="perl_literal1">.</code><code class="perl_literal1">.</code>
<code class="perl_literal1">}</code>

<code class="perl_literal1">class</code><code class="perl_literal1"> </code><code class="perl_literal1">Association</code><code class="perl_literal1"> </code><code class="perl_literal1">is</code><code class="perl_literal1"> </code><code class="perl_literal1">Personne</code><code class="perl_literal1">-</code><code class="perl_literal1">morale</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">has</code><code class="perl_literal1"> </code><code class="perl_literal1">Str</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">activité</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">has</code><code class="perl_literal1"> </code><code class="perl_literal1">Personne</code><code class="perl_literal1">-</code><code class="perl_literal1">privée</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">présidence</code><code class="perl_literal1"> </code><code class="perl_literal1">is</code><code class="perl_literal1"> </code><code class="perl_literal1">rw</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">#</code><code class="perl_literal1"> </code><code class="perl_literal1">.</code><code class="perl_literal1">.</code><code class="perl_literal1">.</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">method</code><code class="perl_literal1"> </code><code class="perl_literal1">nouvelle</code><code class="perl_literal1">-</code><code class="perl_literal1">présidence</code><code class="perl_literal1"> </code><code class="perl_literal1">(</code><code class="perl_literal1">Personne</code><code class="perl_literal1">-</code><code class="perl_literal1">privée</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">nouv</code><code class="perl_literal1">-</code><code class="perl_literal1">prés</code><code class="perl_literal1">)</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">présidence</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">nouv</code><code class="perl_literal1">-</code><code class="perl_literal1">prés</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">}</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">method</code><code class="perl_literal1"> </code><code class="perl_literal1">gist</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">my</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">assoc_str</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">sérialise</code><code class="perl_literal1">;</code><code class="perl_literal1"> </code><code class="perl_literal1">#</code><code class="perl_literal1"> </code><code class="perl_literal1">héritée</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">Personne</code><code class="perl_literal1">-</code><code class="perl_literal1">morale</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">assoc_str</code><code class="perl_literal1"> </code><code class="perl_literal1">~</code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Activité</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">activité</code><code class="perl_literal1">\</code><code class="perl_literal1">n</code><code class="perl_literal1">"</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">assoc_str</code><code class="perl_literal1"> </code><code class="perl_literal1">~</code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Présidence</code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">présidence</code><code class="perl_literal1">.</code><code class="perl_literal1">sérialise</code><code class="perl_literal1">-</code><code class="perl_literal1">personne</code><code class="perl_literal1">}</code><code class="perl_literal1">\</code><code class="perl_literal1">n</code><code class="perl_literal1">"</code><code class="perl_literal1">;</code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">}</code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code>
<code class="perl_literal1">}</code>

<code class="perl_literal1">class</code><code class="perl_literal1"> </code><code class="perl_literal1">Municipalité</code><code class="perl_literal1"> </code><code class="perl_literal1">is</code><code class="perl_literal1"> </code><code class="perl_literal1">Personne</code><code class="perl_literal1">-</code><code class="perl_literal1">morale</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">has</code><code class="perl_literal1"> </code><code class="perl_literal1">Personne</code><code class="perl_literal1">-</code><code class="perl_literal1">privée</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">maire</code><code class="perl_literal1"> </code><code class="perl_literal1">is</code><code class="perl_literal1"> </code><code class="perl_literal1">rw</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">#</code><code class="perl_literal1"> </code><code class="perl_literal1">.</code><code class="perl_literal1">.</code><code class="perl_literal1">.</code>
<code class="perl_literal1">}</code>

<code class="perl_literal1">class</code><code class="perl_literal1"> </code><code class="perl_literal1">Établissement</code><code class="perl_literal1">-</code><code class="perl_literal1">public</code><code class="perl_literal1"> </code><code class="perl_literal1">is</code><code class="perl_literal1"> </code><code class="perl_literal1">Personne</code><code class="perl_literal1">-</code><code class="perl_literal1">morale</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">has</code><code class="perl_literal1"> </code><code class="perl_literal1">Personne</code><code class="perl_literal1">-</code><code class="perl_literal1">privée</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">directeur</code><code class="perl_literal1"> </code><code class="perl_literal1">is</code><code class="perl_literal1"> </code><code class="perl_literal1">rw</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">#</code><code class="perl_literal1"> </code><code class="perl_literal1">.</code><code class="perl_literal1">.</code><code class="perl_literal1">.</code>
<code class="perl_literal1">}</code></code></pre></div>
            <p>Créons maintenant un objet de type <span class="codeinline">Association</span> :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e12069">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e12069" onclick="selectionCode('contenuCoded0e12069');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e12069" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$assoc-photo</code> <code class="perl_operator">=</code> Association.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    nom <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Club</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">photo</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">Trifouilly</code><code class="perl_literal1">-</code><code class="perl_literal1">les</code><code class="perl_literal1">-</code><code class="perl_literal1">Oies</code><code class="perl_literal1">"</code>,
    activité <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Clup</code><code class="perl_literal1"> </code><code class="perl_literal1">photographique</code><code class="perl_literal1">"</code>,
    adresse <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$adresse2</code>,
    présidence <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> Personne<code class="perl_operator">-</code>privée.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
        prénom <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Patricia</code><code class="perl_literal1">"</code>,
        nom <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Kernevéo</code><code class="perl_literal1">"</code>,
        sexe <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">F</code><code class="perl_literal1">"</code>,
        adresse <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">@nouv_adresses</code>[<code class="perl_digit">4</code>],
        telephone<code class="perl_operator">-</code>mobile <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">06</code><code class="perl_literal1"> </code><code class="perl_literal1">08</code><code class="perl_literal1"> </code><code class="perl_literal1">07</code><code class="perl_literal1"> </code><code class="perl_literal1">06</code><code class="perl_literal1"> </code><code class="perl_literal1">05</code><code class="perl_literal1">"</code>,
    ),
    contact <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$xavier</code>,
    date<code class="perl_operator">-</code>de<code class="perl_operator">-</code>création <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> Date.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(<code class="perl_literal1">"</code><code class="perl_literal1">2015</code><code class="perl_literal1">-</code><code class="perl_literal1">11</code><code class="perl_literal1">-</code><code class="perl_literal1">15</code><code class="perl_literal1">"</code>),
    adresse <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$adresse2</code>,
    telephone<code class="perl_operator">-</code>fixe <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$xavier</code>.telephone<code class="perl_operator">-</code>fixe,
);
<code class="perl_keyword3">say</code> <code class="perl_keyword2">$assoc-photo</code>;</code></pre></div>
            <p>Comme notre classe <span class="codeinline">Association</span> surcharge la méthode <span class="codeinline">gist</span>, le simple appel à <span class="codeinline">say</span> sur l'objet <span class="codeinline">$assoc-photo</span> affiche une version formatée de l'objet :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e12312">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e12312" onclick="selectionCode('contenuCoded0e12312');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e12312" class="contenuCode">Nom : Club de photo de Trifouilly-les-Oies
Adresse :
        42 rue Pasteur
        69007 Lyon
Téléphone : 04 01 02 03 04
Contact: Xavier Sirvenne
Date de création :  2015-11-15
Activité : Clup photographique
Présidence: Madame Patricia Kernevéo
état-civil inconnu ou incomplet
Adresse :
        Madame Patricia Kernevéo
        4 rue Jean d'Ormesson
        13003 Marseille
Mobile : 06 08 07 06 05</code></pre></div>
            <p><span class="italique">À titre d'exercice</span>, complétez à votre guise une ou plusieurs des classes <span class="codeinline">Entreprise</span>, <span class="codeinline">Municipalité</span> et <span class="codeinline">Établissement-public</span> (mais en ajoutant au moins une méthode de sérialisation), construisez des objets appartenant à ces classes et affichez-les.</p>
          </div>
          
		<h4 class="TitreSection3" id="L3-1-3-6">3-1-3-6. Les personnes morales : création par application de rôle<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>La création de nos différents types de personne morale par héritage d'une classe mère (dans notre cas, <span class="codeinline">Personne-morale</span>) est un moyen classique de procéder dans la plupart des langages de programmation orientée objet.</p>
            <p>En Perl 6, nous pouvons aussi utiliser un rôle pour définir les propriétés communes aux différentes sortes de personne morale. Le rôle et la définition d'une classe l'utilisant peuvent être très semblables à ce que nous avions fait avec notre classe mère et nos classes filles :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e12344">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e12344" onclick="selectionCode('contenuCoded0e12344');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e12344" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> Pers<code class="perl_operator">-</code>morale<code class="perl_operator">-</code><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Personne<code class="perl_operator">-</code>details <code class="perl_operator">{</code> 
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>nom <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Personne<code class="perl_operator">-</code>privée <code class="perl_keyword2">$.</code>contact <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Date <code class="perl_keyword2">$.</code>date<code class="perl_operator">-</code>de<code class="perl_operator">-</code>création;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Date <code class="perl_keyword2">$.</code>date<code class="perl_operator">-</code>de<code class="perl_operator">-</code>dissolution <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a> <code class="perl_operator">=</code> Date; <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">non</code><code class="perl_comment1"> </code><code class="perl_comment1">définie</code><code class="perl_comment1"> </code><code class="perl_comment1">à</code><code class="perl_comment1"> </code><code class="perl_comment1">la</code><code class="perl_comment1"> </code><code class="perl_comment1">création</code>
    
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> dissout (Date <code class="perl_keyword2">$date-de-fin</code>) <code class="perl_operator">{</code>
        <code class="perl_keyword2">$.</code>date<code class="perl_operator">-</code>de<code class="perl_operator">-</code>dissolution <code class="perl_operator">=</code> <code class="perl_keyword2">$date-de-fin</code>;
    <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> sérialise <code class="perl_operator">{</code>
        qq:to/END/<code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">Nom</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">$!nom</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">Adresse</code><code class="perl_literal1"> </code><code class="perl_literal1">:\n</code><code class="perl_literal1"> </code><code class="perl_literal1">{$.adresse.sérialise}</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">Téléphone</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">{$.telephone-fixe}</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">Contact:</code><code class="perl_literal1"> </code><code class="perl_literal1">{$!contact.prénom,</code><code class="perl_literal1"> </code><code class="perl_literal1">$!contact.nom}</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">Date</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">création</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">$.date-de-création</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code>END
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Entreprise <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Pers<code class="perl_operator">-</code>morale<code class="perl_operator">-</code><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=int&amp;amp;mode=all"><span>Int</span></a> <code class="perl_keyword2">$.</code>capital <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>; <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">le</code><code class="perl_comment1"> </code><code class="perl_comment1">capital</code><code class="perl_comment1"> </code><code class="perl_comment1">social</code><code class="perl_comment1"> </code><code class="perl_comment1">peut</code><code class="perl_comment1"> </code><code class="perl_comment1">changer</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> NumString <code class="perl_keyword2">$.</code>siret;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Personne<code class="perl_operator">-</code>privée <code class="perl_keyword2">$.</code>gérance <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>secteur<code class="perl_operator">-</code>d<code class="perl_literal1">'</code><code class="perl_literal1">activité</code><code class="perl_literal1">;</code><code class="perl_literal1"> </code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">#</code><code class="perl_literal1"> </code><code class="perl_literal1">.</code><code class="perl_literal1">.</code><code class="perl_literal1">.</code><code class="perl_literal1"> </code><code class="perl_literal1"> </code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">method</code><code class="perl_literal1"> </code><code class="perl_literal1">modifie</code><code class="perl_literal1">-</code><code class="perl_literal1">capilal</code><code class="perl_literal1"> </code><code class="perl_literal1">(</code><code class="perl_literal1">Int</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">nouveau</code><code class="perl_literal1">-</code><code class="perl_literal1">capital</code><code class="perl_literal1">)</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">capital</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">nouveau</code><code class="perl_literal1">-</code><code class="perl_literal1">capital</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">}</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">method</code><code class="perl_literal1"> </code><code class="perl_literal1">nouveau</code><code class="perl_literal1">-</code><code class="perl_literal1">gérant</code><code class="perl_literal1"> </code><code class="perl_literal1">(</code><code class="perl_literal1">Personne</code><code class="perl_literal1">-</code><code class="perl_literal1">privée</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">nouv</code><code class="perl_literal1">-</code><code class="perl_literal1">gérant</code><code class="perl_literal1">)</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">gérance</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">nouv</code><code class="perl_literal1">-</code><code class="perl_literal1">gérant</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">}</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">method</code><code class="perl_literal1"> </code><code class="perl_literal1">gist</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">qq</code><code class="perl_literal1">:</code><code class="perl_literal1">to</code><code class="perl_literal1">/</code><code class="perl_literal1">FIN</code><code class="perl_literal1">/</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">{</code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">sérialise</code><code class="perl_literal1">}</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">Secteur</code><code class="perl_literal1"> </code><code class="perl_literal1">d</code><code class="perl_literal1">'</code>activité : <code class="perl_keyword2">$!</code>secteur<code class="perl_operator">-</code>d<code class="perl_literal1">'</code><code class="perl_literal1">activité</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">Siret</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">siret</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">Gérance</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">gérance</code><code class="perl_literal1">.</code><code class="perl_literal1">sérialise</code><code class="perl_literal1">-</code><code class="perl_literal1">personne</code><code class="perl_literal1">}</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">FIN</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">}</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">#</code><code class="perl_literal1"> </code><code class="perl_literal1">.</code><code class="perl_literal1">.</code><code class="perl_literal1">.</code>
<code class="perl_literal1">}</code></code></pre></div>
            <p>De même, la création d'un objet de type <span class="codeinline">Entreprise</span> ne présente pas de nouveauté :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e13206">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e13206" onclick="selectionCode('contenuCoded0e13206');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e13206" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$sarl</code> <code class="perl_operator">=</code> Entreprise.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    nom <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">SARL</code><code class="perl_literal1"> </code><code class="perl_literal1">Belkacem</code><code class="perl_literal1"> </code><code class="perl_literal1">Frères</code><code class="perl_literal1">"</code>,
    secteur<code class="perl_operator">-</code>d<code class="perl_literal1">'</code><code class="perl_literal1">activité</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Restauration</code><code class="perl_literal1">"</code><code class="perl_literal1">,</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">siret</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">507865432</code><code class="perl_literal1"> </code><code class="perl_literal1">10</code><code class="perl_literal1">"</code><code class="perl_literal1">,</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">adresse</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">Adresse</code><code class="perl_literal1">.</code><code class="perl_literal1">new</code><code class="perl_literal1">(</code><code class="perl_literal1"> </code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">numéro</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">7</code><code class="perl_literal1"> </code><code class="perl_literal1">bis</code><code class="perl_literal1">"</code><code class="perl_literal1">,</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">voie</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">rue</code><code class="perl_literal1"> </code><code class="perl_literal1">Léon</code><code class="perl_literal1"> </code><code class="perl_literal1">Gambetta</code><code class="perl_literal1">"</code><code class="perl_literal1">,</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">code</code><code class="perl_literal1">-</code><code class="perl_literal1">postal</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">69100</code><code class="perl_literal1">"</code><code class="perl_literal1">,</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">commune</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Villeurbanne</code><code class="perl_literal1">"</code><code class="perl_literal1">,</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">)</code><code class="perl_literal1">,</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">gérance</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">Personne</code><code class="perl_literal1">-</code><code class="perl_literal1">privée</code><code class="perl_literal1">.</code><code class="perl_literal1">new</code><code class="perl_literal1">(</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">prénom</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Yacine</code><code class="perl_literal1">"</code><code class="perl_literal1">,</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">nom</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Belkacem</code><code class="perl_literal1">"</code><code class="perl_literal1">,</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">sexe</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">M</code><code class="perl_literal1">"</code><code class="perl_literal1">,</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">adresse</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">@</code><code class="perl_literal1">nouv_adresses</code><code class="perl_literal1">[</code><code class="perl_literal1">5</code><code class="perl_literal1">]</code><code class="perl_literal1">,</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">telephone</code><code class="perl_literal1">-</code><code class="perl_literal1">mobile</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">06</code><code class="perl_literal1"> </code><code class="perl_literal1">08</code><code class="perl_literal1"> </code><code class="perl_literal1">07</code><code class="perl_literal1"> </code><code class="perl_literal1">06</code><code class="perl_literal1"> </code><code class="perl_literal1">07</code><code class="perl_literal1">"</code><code class="perl_literal1">,</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">)</code><code class="perl_literal1">,</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">contact</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">Personne</code><code class="perl_literal1">-</code><code class="perl_literal1">privée</code><code class="perl_literal1">.</code><code class="perl_literal1">new</code><code class="perl_literal1">(</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">prénom</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Fadila</code><code class="perl_literal1">"</code><code class="perl_literal1">,</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">nom</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Belkacem</code><code class="perl_literal1">"</code><code class="perl_literal1">,</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">sexe</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">F</code><code class="perl_literal1">"</code><code class="perl_literal1">,</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">adresse</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">@</code><code class="perl_literal1">nouv_adresses</code><code class="perl_literal1">[</code><code class="perl_literal1">5</code><code class="perl_literal1">]</code><code class="perl_literal1">,</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">telephone</code><code class="perl_literal1">-</code><code class="perl_literal1">mobile</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">06</code><code class="perl_literal1"> </code><code class="perl_literal1">08</code><code class="perl_literal1"> </code><code class="perl_literal1">07</code><code class="perl_literal1"> </code><code class="perl_literal1">06</code><code class="perl_literal1"> </code><code class="perl_literal1">08</code><code class="perl_literal1">"</code><code class="perl_literal1">,</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">)</code><code class="perl_literal1">,</code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">date</code><code class="perl_literal1">-</code><code class="perl_literal1">de</code><code class="perl_literal1">-</code><code class="perl_literal1">création</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">Date</code><code class="perl_literal1">.</code><code class="perl_literal1">new</code><code class="perl_literal1">(</code><code class="perl_literal1">"</code><code class="perl_literal1">2013</code><code class="perl_literal1">-</code><code class="perl_literal1">05</code><code class="perl_literal1">-</code><code class="perl_literal1">16</code><code class="perl_literal1">"</code><code class="perl_literal1">)</code><code class="perl_literal1">,</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">telephone</code><code class="perl_literal1">-</code><code class="perl_literal1">fixe</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">04</code><code class="perl_literal1"> </code><code class="perl_literal1">09</code><code class="perl_literal1"> </code><code class="perl_literal1">08</code><code class="perl_literal1"> </code><code class="perl_literal1">07</code><code class="perl_literal1"> </code><code class="perl_literal1">06</code><code class="perl_literal1">"</code><code class="perl_literal1">,</code>
<code class="perl_literal1">)</code><code class="perl_literal1">;</code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code>
<code class="perl_literal1">say</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">sarl</code><code class="perl_literal1">;</code></code></pre></div>
            <p>Ce qui affiche :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e14121">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e14121" onclick="selectionCode('contenuCoded0e14121');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e14121" class="contenuCode">Nom : SARL Belkacem Frères
Adresse :
        <code class="perl_digit">7</code> bis rue Léon Gambetta
        <code class="perl_digit">69100</code> Villeurbanne
Téléphone : <code class="perl_digit">04</code> <code class="perl_digit">09</code> <code class="perl_digit">08</code> <code class="perl_digit">07</code> <code class="perl_digit">06</code>
Contact:
        Madame Fadila Belkacem
        <code class="perl_digit">5</code> rue Jean d<code class="perl_literal1">'</code><code class="perl_literal1">Ormesson</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">13003</code><code class="perl_literal1"> </code><code class="perl_literal1">Marseille</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">06</code><code class="perl_literal1"> </code><code class="perl_literal1">08</code><code class="perl_literal1"> </code><code class="perl_literal1">07</code><code class="perl_literal1"> </code><code class="perl_literal1">06</code><code class="perl_literal1"> </code><code class="perl_literal1">08</code>
<code class="perl_literal1">Date</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">création</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">2013</code><code class="perl_literal1">-</code><code class="perl_literal1">05</code><code class="perl_literal1">-</code><code class="perl_literal1">16</code>

<code class="perl_literal1">Secteur</code><code class="perl_literal1"> </code><code class="perl_literal1">d</code><code class="perl_literal1">'</code>activité : Restauration
Siret : <code class="perl_digit">507865432</code> <code class="perl_digit">10</code>
Gérance <code class="perl_operator">=</code> Monsieur Yacine Belkacem
état<code class="perl_operator">-</code>civil inconnu ou incomplet
Adresse :
        Monsieur Yacine Belkacem
        <code class="perl_digit">5</code> rue Jean d<code class="perl_literal1">'</code><code class="perl_literal1">Ormesson</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">13003</code><code class="perl_literal1"> </code><code class="perl_literal1">Marseille</code>
<code class="perl_literal1">Mobile</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">06</code><code class="perl_literal1"> </code><code class="perl_literal1">08</code><code class="perl_literal1"> </code><code class="perl_literal1">07</code><code class="perl_literal1"> </code><code class="perl_literal1">06</code><code class="perl_literal1"> </code><code class="perl_literal1">07</code></code></pre></div>
          </div>
          
		<h4 class="TitreSection3" id="L3-1-3-7">3-1-3-7. Héritage ou application de rôle ?<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>On constate qu'il y a dans ces exemples peu de différences syntaxiques entre l'approche utilisant l'héritage d'une classe parente et celle utilisant l'application d'un rôle. </p>
            <p>La différence se situe plus dans la sémantique des relations entre les entités concernées. Ici, l'on peut dire qu'une entreprise est (<span class="italique">is</span>) une forme spécifique de personne morale. Par conséquent, la construction par héritage, dans laquelle la classe <span class="codeinline">Entreprise</span> hérite de la classe <span class="codeinline">Personne-morale</span> est sans doute une modélisation plus naturelle dans ce cas précis. Des critères plus techniques entrent également en jeu : l'application d'un rôle évite certaines difficultés propres à l'héritage.  </p>
            <p>Une troisième approche est possible : nous aurions pu écrire une classe générique de base (très semblable, voire identique, à la classe <span class="codeinline">Personne-morale</span> utilisée ci-dessus) et définir des rôles ajoutant les attributs et méthodes propres aux différents types de personnes morales ; ensuite, nous aurions pu définir notre association ou notre entreprise comme des objets de la classe <span class="codeinline">Personne-morale</span> en leur appliquant directement le rôle voulu. Ce qui peut donner ceci :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e14348">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e14348" onclick="selectionCode('contenuCoded0e14348');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e14348" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Personne<code class="perl_operator">-</code>morale <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Personne<code class="perl_operator">-</code>details <code class="perl_operator">{</code>
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">même</code><code class="perl_comment1"> </code><code class="perl_comment1">code</code><code class="perl_comment1"> </code><code class="perl_comment1">que</code><code class="perl_comment1"> </code><code class="perl_comment1">précédemment</code>
<code class="perl_operator">}</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> SAS <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=int&amp;amp;mode=all"><span>Int</span></a> <code class="perl_keyword2">$.</code>capital <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Personne<code class="perl_operator">-</code>privée <code class="perl_keyword2">$.</code>directeur <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code>
<code class="perl_operator">}</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$société-simplifiée</code> <code class="perl_operator">=</code> Personne<code class="perl_operator">-</code>morale.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    nom <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Transport</code><code class="perl_literal1"> </code><code class="perl_literal1">international</code><code class="perl_literal1"> </code><code class="perl_literal1">SAS</code><code class="perl_literal1">"</code>,
    contact <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$xavier</code>,
    date<code class="perl_operator">-</code>de<code class="perl_operator">-</code>création <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> Date.today,
);
<code class="perl_keyword2">$société-simplifiée</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> SAS;
<code class="perl_keyword2">$société-simplifiée</code>.directeur <code class="perl_operator">=</code> <code class="perl_keyword2">$xavier</code>;
<code class="perl_keyword2">$société-simplifiée</code>.capital <code class="perl_operator">=</code> <code class="perl_digit">100_000</code>;
dd <code class="perl_keyword2">$société-simplifiée</code>;</code></pre></div>
            <p>Cela fonctionne correctement, mais la syntaxe est nettement moins engageante, du moins pour ce genre d'exemple, car on préférerait initialiser tous les attributs disponibles dès la construction de l'objet, plutôt que devoir le faire en deux temps. Mais ce pourrait être une solution intéressante dans d'autres cas de figure. </p>
            <p>Enfin, on pourrait aussi créer une nouvelle classe dérivée de <span class="codeinline">Personne-morale</span> et appliquant le rôle <span class="codeinline">SAS</span>, et instancier <span class="codeinline">$société-simplifiée</span> comme un objet de cette nouvelle classe. Dans notre exemple, créer un (seul) rôle afin de dériver une (seule) classe fille (alors que l'on peut définir directement la classe fille) paraît être d'un intérêt limité, mais, là encore, ce pourrait être une solution ingénieuse dans d'autres cas, notamment si l'on veut utiliser plusieurs combinaisons de rôles.</p>
            <p>On constate que Perl 6 nous propose de nombreuses solutions possibles. Le choix de la combinaison de classes et de rôles à utiliser doit à l'évidence faire l'objet d'une réflexion approfondie.</p>
          </div>
        </div>
      </div>
      
		<h2 class="TitreSection1" id="L3-2">3-2. Des classes pour gérer les clients<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <p>Nous allons supposer, et c'est une hypothèse très plausible, qu'une banque désire gérer différemment ses clients privés (personnes physiques) et ses clients professionnels ou entreprises. C'est bien dans cette optique que nous avons créé précédemment des personnes physiques et des personnes morales.</p>
        <p>Comme nous ne voulons pas dupliquer notre code, nous ne pouvons pas nous satisfaire de l'idée de créer simplement deux types de clients avec beaucoup de code en commun. Voyons comment nous pouvons structurer nos classes pour éviter dans la mesure du possible les répétitions de code.</p>
        <p>Nous avons à notre disposition plusieurs façons de gérer ces différents types de clients, selon que nous utilisons l'héritage, la composition ou l'application de rôles.</p>
        
		<h3 class="TitreSection2" id="L3-2-1">3-2-1. Une classe parente et des classes filles<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Une première idée est de créer une classe parente générique contenant tout ce qui est commun à toutes les sortes de clients et de définir ensuite des classes filles traitant les particularités propres à chaque type de client.</p>
          <p>Nous définissons donc une classe générique <span class="codeinline">Client</span>, définissant tout ce qui est commun aux différents types de clients, et dérivons ensuite deux classes filles, <span class="codeinline">Client-privé</span> et <span class="codeinline">Client-</span><span class="codeinline">société</span> :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e14571">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e14571" onclick="selectionCode('contenuCoded0e14571');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e14571" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Client <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> NumString <code class="perl_keyword2">$.</code>num_client;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Date <code class="perl_keyword2">$.</code>date<code class="perl_operator">-</code>d<code class="perl_literal1">'</code><code class="perl_literal1">activation</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">has</code><code class="perl_literal1"> </code><code class="perl_literal1">Date</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">date</code><code class="perl_literal1">-</code><code class="perl_literal1">désactivation</code><code class="perl_literal1"> </code><code class="perl_literal1">is</code><code class="perl_literal1"> </code><code class="perl_literal1">rw</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">now</code><code class="perl_literal1">.</code><code class="perl_literal1">Date</code><code class="perl_literal1">;</code><code class="perl_literal1"> </code><code class="perl_literal1">#</code><code class="perl_literal1"> </code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">has</code><code class="perl_literal1"> </code><code class="perl_literal1">Bool</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">client</code><code class="perl_literal1">-</code><code class="perl_literal1">actif</code><code class="perl_literal1"> </code><code class="perl_literal1">is</code><code class="perl_literal1"> </code><code class="perl_literal1">rw</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">True</code><code class="perl_literal1">;</code><code class="perl_literal1"> </code><code class="perl_literal1">#</code><code class="perl_literal1"> </code><code class="perl_literal1">valeur</code><code class="perl_literal1"> </code><code class="perl_literal1">par</code><code class="perl_literal1"> </code><code class="perl_literal1">défaut</code><code class="perl_literal1"> </code><code class="perl_literal1">à</code><code class="perl_literal1"> </code><code class="perl_literal1">la</code><code class="perl_literal1"> </code><code class="perl_literal1">construction</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">method</code><code class="perl_literal1"> </code><code class="perl_literal1">sérialise</code><code class="perl_literal1">-</code><code class="perl_literal1">client</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">my</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">détails</code><code class="perl_literal1">-</code><code class="perl_literal1">client</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Numéro</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">client</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">num_client</code><code class="perl_literal1">\</code><code class="perl_literal1">n</code><code class="perl_literal1">"</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">~</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Date</code><code class="perl_literal1"> </code><code class="perl_literal1">d</code><code class="perl_literal1">'</code>activation : <code class="perl_keyword2">$.</code>date<code class="perl_operator">-</code>d<code class="perl_literal1">'</code><code class="perl_literal1">activation</code><code class="perl_literal1">\</code><code class="perl_literal1">n</code><code class="perl_literal1">"</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">~</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Client</code><code class="perl_literal1"> </code><code class="perl_literal1">actif</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">client</code><code class="perl_literal1">-</code><code class="perl_literal1">actif</code><code class="perl_literal1"> </code><code class="perl_literal1">?</code><code class="perl_literal1">?</code><code class="perl_literal1"> </code><code class="perl_literal1">'</code>Oui<code class="perl_literal1">'</code><code class="perl_literal1"> </code><code class="perl_literal1">!</code><code class="perl_literal1">!</code><code class="perl_literal1"> </code><code class="perl_literal1">'</code>Non<code class="perl_literal1">'</code><code class="perl_literal1">}</code><code class="perl_literal1"> </code><code class="perl_literal1">\</code><code class="perl_literal1">n</code><code class="perl_literal1">"</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">détails</code><code class="perl_literal1">-</code><code class="perl_literal1">client</code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">~</code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Date</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">désactivation</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">date</code><code class="perl_literal1">-</code><code class="perl_literal1">désactivation</code><code class="perl_literal1">\</code><code class="perl_literal1">n</code><code class="perl_literal1">"</code><code class="perl_literal1"> </code><code class="perl_literal1">unless</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">client</code><code class="perl_literal1">-</code><code class="perl_literal1">actif</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">return</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">détails</code><code class="perl_literal1">-</code><code class="perl_literal1">client</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">}</code>

<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">method</code><code class="perl_literal1"> </code><code class="perl_literal1">résilie</code><code class="perl_literal1">-</code><code class="perl_literal1">client</code><code class="perl_literal1"> </code><code class="perl_literal1">(</code><code class="perl_literal1">Date</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">date</code><code class="perl_literal1">-</code><code class="perl_literal1">désact</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">Date</code><code class="perl_literal1">.</code><code class="perl_literal1">today</code><code class="perl_literal1">)</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">!</code><code class="perl_literal1">date</code><code class="perl_literal1">-</code><code class="perl_literal1">désactivation</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">date</code><code class="perl_literal1">-</code><code class="perl_literal1">désact</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">client</code><code class="perl_literal1">-</code><code class="perl_literal1">actif</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">False</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">}</code>
<code class="perl_literal1">}</code>


<code class="perl_literal1">class</code><code class="perl_literal1"> </code><code class="perl_literal1">Client</code><code class="perl_literal1">-</code><code class="perl_literal1">privé</code><code class="perl_literal1"> </code><code class="perl_literal1">is</code><code class="perl_literal1"> </code><code class="perl_literal1">Client</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">has</code><code class="perl_literal1"> </code><code class="perl_literal1">Personne</code><code class="perl_literal1">-</code><code class="perl_literal1">privée</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">personne</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">method</code><code class="perl_literal1"> </code><code class="perl_literal1">sérialise</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">my</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">détails</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">sérialise</code><code class="perl_literal1">-</code><code class="perl_literal1">client</code><code class="perl_literal1"> </code><code class="perl_literal1">~</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">personne</code><code class="perl_literal1">.</code><code class="perl_literal1">sérialise</code><code class="perl_literal1">-</code><code class="perl_literal1">personne</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">return</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">détails</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">}</code>
<code class="perl_literal1">}</code>

<code class="perl_literal1">class</code><code class="perl_literal1"> </code><code class="perl_literal1">Client</code><code class="perl_literal1">-</code><code class="perl_literal1">société</code><code class="perl_literal1"> </code><code class="perl_literal1">is</code><code class="perl_literal1"> </code><code class="perl_literal1">Client</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">has</code><code class="perl_literal1"> </code><code class="perl_literal1">Entreprise</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">société</code><code class="perl_literal1"> </code><code class="perl_literal1">is</code><code class="perl_literal1"> </code><code class="perl_literal1">rw</code><code class="perl_literal1">;</code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">#</code><code class="perl_literal1"> </code><code class="perl_literal1">une</code><code class="perl_literal1"> </code><code class="perl_literal1">société</code><code class="perl_literal1"> </code><code class="perl_literal1">peut</code><code class="perl_literal1"> </code><code class="perl_literal1">changer</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">raison</code><code class="perl_literal1"> </code><code class="perl_literal1">sociale</code>

<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">method</code><code class="perl_literal1"> </code><code class="perl_literal1">sérialise</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">return</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">sérialise</code><code class="perl_literal1">-</code><code class="perl_literal1">client</code><code class="perl_literal1"> </code><code class="perl_literal1">~</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">société</code><code class="perl_literal1">.</code><code class="perl_literal1">gist</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">}</code>
<code class="perl_literal1">}</code></code></pre></div>
          <p>Voici un test très simple d'utilisation de ces classes, réutilisant la société <span class="codeinline">$sarl</span> définie précédemment :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e15674">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e15674" onclick="selectionCode('contenuCoded0e15674');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e15674" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$cli-sarl</code> <code class="perl_operator">=</code> Client<code class="perl_operator">-</code>société.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    société <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$sarl</code>,
    num_client <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">0123456789</code><code class="perl_literal1">"</code>,
    date<code class="perl_operator">-</code>d<code class="perl_literal1">'</code><code class="perl_literal1">activation</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">Date</code><code class="perl_literal1">.</code><code class="perl_literal1">new</code><code class="perl_literal1">(</code><code class="perl_literal1">"</code><code class="perl_literal1">2015</code><code class="perl_literal1">-</code><code class="perl_literal1">11</code><code class="perl_literal1">-</code><code class="perl_literal1">14</code><code class="perl_literal1">"</code><code class="perl_literal1">)</code>
<code class="perl_literal1">)</code><code class="perl_literal1">;</code>

<code class="perl_literal1">say</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">cli</code><code class="perl_literal1">-</code><code class="perl_literal1">sarl</code><code class="perl_literal1">.</code><code class="perl_literal1">sérialise</code><code class="perl_literal1">;</code></code></pre></div>
          <p>La dernière instruction du code ci-dessus affiche ce qui suit :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e15777">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e15777" onclick="selectionCode('contenuCoded0e15777');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e15777" class="contenuCode">Numéro de client : 0123456789
Date d'activation : 2015-11-14
Client actif : Oui
Nom : SARL Belkacem Frères
Adresse :
        7 bis rue Léon Gambetta
        69100 Villeurbanne
Téléphone : 04 09 08 07 06
Contact:
        Madame Fadila Belkacem
        5 rue Jean d'Ormesson
        13003 Marseille
        06 08 07 06 08
Date de création :  2013-05-16

Secteur d'activité : Restauration
Siret : 507865432 10
Gérance = Monsieur Yacine Belkacem
état-civil inconnu ou incomplet
Adresse :
        Monsieur Yacine Belkacem
        5 rue Jean d'Ormesson
        13003 Marseille
Mobile : 06 08 07 06 07</code></pre></div>
          <p>On constate que cela fonctionne plutôt bien. </p>
          <p><span class="italique">À titre d'exercice</span>, nous recommandons au lecteur de tester notamment l'instanciation d'un objet de type <span class="codeinline">Client-privé</span> et la résiliation d'un compte-client. Vous pouvez également définir d'autres types de clients associés aux autres types de personnes morales définies précédemment.</p>
          <p>Dans cet exemple, le numéro de client est passé en paramètre par le code utilisateur au constructeur de la classe. Dans une application réelle, il serait sans doute préférable que la classe Client génère elle-même un nouveau numéro de client. Nous verrons plus loin (voir § <a href="#L4-1-6" class=" lienArticle simple">4.1.6</a>) une solution possible pour mettre en &#339;uvre un générateur automatique de numéros de client.</p>
          <p>Cette mise en &#339;uvre nous pose cependant un petit problème conceptuel : la classe <span class="codeinline">Client</span> que nous avons créée ne sert pas à grand-chose (à part fournir une classe parente pour permettre l'héritage de classes filles). Nous pouvons en principe instancier un objet de cette classe, mais celui-ci ne sera relié à aucune personne (morale ou physique) réelle et ne servira donc à rien dans le monde réel : un client ne correspondant pas à une personne est très théorique et parfaitement inutile.</p>
          <p>D'un point de vue conceptuel, notre classe <span class="codeinline">Client</span> est une classe générique (permettant l'héritage) et <span class="italique">abstraite </span>: on ne peut rien créer d'utile avec elle. Mais, syntaxiquement, on peut néanmoins instancier des objets appartenant à cette classe. Ce n'est peut-être pas très satisfaisant.</p>
          <p>Il est sans doute préférable de ne pas encourager la création de ce genre d'entité. Une solution pourrait être de définir l'entité « client » comme un rôle, qui représente un peu plus l'idée d'une classe abstraite.</p>
        </div>
        
		<h3 class="TitreSection2" id="L3-2-2">3-2-2. Un rôle Client et des classes appliquant ce rôle<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Par rapport à ce qui précède, la syntaxe est presque la même, il n'y a que trois lignes de code qui sont modifiées.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e15824">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e15824" onclick="selectionCode('contenuCoded0e15824');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e15824" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> Client <code class="perl_operator">{</code>                             <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">c'est</code><code class="perl_comment1"> </code><code class="perl_comment1">maintenant</code><code class="perl_comment1"> </code><code class="perl_comment1">un</code><code class="perl_comment1"> </code><code class="perl_comment1">rôle</code>
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">exactement</code><code class="perl_comment1"> </code><code class="perl_comment1">le</code><code class="perl_comment1"> </code><code class="perl_comment1">même</code><code class="perl_comment1"> </code><code class="perl_comment1">code</code><code class="perl_comment1"> </code><code class="perl_comment1">que</code><code class="perl_comment1"> </code><code class="perl_comment1">la</code><code class="perl_comment1"> </code><code class="perl_comment1">classe</code><code class="perl_comment1"> </code><code class="perl_comment1">Client</code><code class="perl_comment1"> </code><code class="perl_comment1">utilisée</code><code class="perl_comment1"> </code><code class="perl_comment1">ci-dessus</code>
<code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Client<code class="perl_operator">-</code>privé <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Client <code class="perl_operator">{</code>          <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">does</code><code class="perl_comment1"> </code><code class="perl_comment1">au</code><code class="perl_comment1"> </code><code class="perl_comment1">lieu</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">is</code>
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">même</code><code class="perl_comment1"> </code><code class="perl_comment1">code</code><code class="perl_comment1"> </code><code class="perl_comment1">que</code><code class="perl_comment1"> </code><code class="perl_comment1">précédemment</code>
<code class="perl_operator">}</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Client<code class="perl_operator">-</code>société <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Client <code class="perl_operator">{</code>        <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">does</code><code class="perl_comment1"> </code><code class="perl_comment1">au</code><code class="perl_comment1"> </code><code class="perl_comment1">lieu</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">is</code>
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">même</code><code class="perl_comment1"> </code><code class="perl_comment1">code</code><code class="perl_comment1"> </code><code class="perl_comment1">que</code><code class="perl_comment1"> </code><code class="perl_comment1">précédemment</code>
<code class="perl_operator">}</code></code></pre></div>
          <p>Avec le même jeu de test, nous obtenons le même résultat que nous ne répéterons pas ici (mais le lecteur est invité à essayer).</p>
          <p>En fait, cela fonctionne exactement de la même façon, la seule différence est qu'utiliser un rôle au lieu d'une classe mère suggère un peu plus clairement qu'il n'y a pas lieu d'instancier <span class="codeinline">Client</span>. À vrai dire, la différence n'est que sémantique ; syntaxiquement, on peut très bien promouvoir un rôle au rang de classe et, par conséquent, instancier un rôle (voir § <a href="#L4-2-3" class=" lienArticle simple">4.2.3</a>), mais on peut penser que l'utilisateur s'interrogera avant d'instancier un rôle et comprendra que l'idée est celle d'une classe générique <span class="italique">abstraite</span>, en principe non destinée à être instanciée.</p>
          <p>D'un point de vue syntaxique, la différence est que si deux méthodes ont le même nom (une situation que nous avons évitée ici), la résolution sera résolue par héritage dans le cas des classes mères et filles, alors que le conflit de noms générera dès la compilation une erreur dans le cas d'application de rôle. Comme nous l'avons déjà dit, nous préférons largement cette seconde situation : mieux vaut une erreur de compilation d'entrée de jeu qu'un bug discret et subtil passant facilement inaperçu lors des tests.</p>
          <p>Comme précédemment, nous pourrions envisager d'autres modélisations. Par exemple, nous pouvons créer une classe <span class="codeinline">Client</span> et, comme dans le cas de la classe <span class="codeinline">Personne-morale</span> ci-dessus, appliquer les rôles <span class="codeinline">Client-privé</span> et <span class="codeinline">Client-société</span> à nos objets de la classe <span class="codeinline">Client</span>. Cela fonctionne, mais la syntaxe tend à être (comme précédemment) un peu moins attrayante. Ces autres modélisations pourraient être parfaitement satisfaisantes pour d'autres cas de figure.</p>
        </div>
      </div>
      
		<h2 class="TitreSection1" id="L3-3">3-3. Une classe compte bancaire<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        
		<h3 class="TitreSection2" id="L3-3-1">3-3-1. Compte bancaire de base<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>La définition d'une classe <span class="codeinline">Compte</span> ressemble à ce que nous avons fait précédemment et ne présente pas de difficulté particulière. Par exemple, nous pouvons faire ceci :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e16064">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e16064" onclick="selectionCode('contenuCoded0e16064');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e16064" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Compte <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> NumString <code class="perl_keyword2">$.</code>num<code class="perl_operator">-</code>compte;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Client <code class="perl_keyword2">$.</code>client<code class="perl_operator">-</code>titulaire;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Date <code class="perl_keyword2">$.</code>date<code class="perl_operator">-</code>d<code class="perl_literal1">'</code><code class="perl_literal1">activation</code><code class="perl_literal1">-</code><code class="perl_literal1">compte</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">has</code><code class="perl_literal1"> </code><code class="perl_literal1">Date</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">date</code><code class="perl_literal1">-</code><code class="perl_literal1">de</code><code class="perl_literal1">-</code><code class="perl_literal1">résiliation</code><code class="perl_literal1">-</code><code class="perl_literal1">compte</code><code class="perl_literal1"> </code><code class="perl_literal1">is</code><code class="perl_literal1"> </code><code class="perl_literal1">rw</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">has</code><code class="perl_literal1"> </code><code class="perl_literal1">Rat</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">solde</code><code class="perl_literal1"> </code><code class="perl_literal1">is</code><code class="perl_literal1"> </code><code class="perl_literal1">rw</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">has</code><code class="perl_literal1"> </code><code class="perl_literal1">Bool</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">compte</code><code class="perl_literal1">-</code><code class="perl_literal1">actif</code><code class="perl_literal1"> </code><code class="perl_literal1">is</code><code class="perl_literal1"> </code><code class="perl_literal1">rw</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">True</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">method</code><code class="perl_literal1"> </code><code class="perl_literal1">dépose</code><code class="perl_literal1"> </code><code class="perl_literal1">(</code><code class="perl_literal1">Rat</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">dépôt</code><code class="perl_literal1">)</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">solde</code><code class="perl_literal1"> </code><code class="perl_literal1">+</code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">dépôt</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">}</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">method</code><code class="perl_literal1"> </code><code class="perl_literal1">retire</code><code class="perl_literal1"> </code><code class="perl_literal1">(</code><code class="perl_literal1">Rat</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">retrait</code><code class="perl_literal1">)</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">say</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Solde</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">solde</code><code class="perl_literal1"> </code><code class="perl_literal1">insuffisant</code><code class="perl_literal1"> </code><code class="perl_literal1">pour</code><code class="perl_literal1"> </code><code class="perl_literal1">retrait</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">retrait</code><code class="perl_literal1">"</code><code class="perl_literal1"> </code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">and</code><code class="perl_literal1"> </code><code class="perl_literal1">return</code><code class="perl_literal1"> </code><code class="perl_literal1">-</code><code class="perl_literal1">1</code><code class="perl_literal1"> </code><code class="perl_literal1">if</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">retrait</code><code class="perl_literal1"> </code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">solde</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">solde</code><code class="perl_literal1"> </code><code class="perl_literal1">-</code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">retrait</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">return</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">solde</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">}</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">method</code><code class="perl_literal1"> </code><code class="perl_literal1">résilie</code><code class="perl_literal1"> </code><code class="perl_literal1">(</code><code class="perl_literal1">Date</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">date</code><code class="perl_literal1">)</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">#</code><code class="perl_literal1"> </code><code class="perl_literal1">.</code><code class="perl_literal1">.</code><code class="perl_literal1">.</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">}</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">method</code><code class="perl_literal1"> </code><code class="perl_literal1">sérialise</code><code class="perl_literal1">-</code><code class="perl_literal1">compte</code><code class="perl_literal1"> </code><code class="perl_literal1">{</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">my</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">détails</code><code class="perl_literal1">-</code><code class="perl_literal1">compte</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Numéro</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">compte</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">num</code><code class="perl_literal1">-</code><code class="perl_literal1">compte</code><code class="perl_literal1">\</code><code class="perl_literal1">n</code><code class="perl_literal1">"</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">détails</code><code class="perl_literal1">-</code><code class="perl_literal1">compte</code><code class="perl_literal1"> </code><code class="perl_literal1">~</code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Date</code><code class="perl_literal1"> </code><code class="perl_literal1">d</code><code class="perl_literal1">'</code>activation du compte : <code class="perl_keyword2">$.</code>date<code class="perl_operator">-</code>d<code class="perl_literal1">'</code><code class="perl_literal1">activation</code><code class="perl_literal1">-</code><code class="perl_literal1">compte</code><code class="perl_literal1">\</code><code class="perl_literal1">n</code><code class="perl_literal1">"</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">détails</code><code class="perl_literal1">-</code><code class="perl_literal1">compte</code><code class="perl_literal1"> </code><code class="perl_literal1">~</code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">client</code><code class="perl_literal1">-</code><code class="perl_literal1">titulaire</code><code class="perl_literal1">.</code><code class="perl_literal1">sérialise</code><code class="perl_literal1">-</code><code class="perl_literal1">client</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">détails</code><code class="perl_literal1">-</code><code class="perl_literal1">compte</code><code class="perl_literal1"> </code><code class="perl_literal1">~</code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Solde</code><code class="perl_literal1"> </code><code class="perl_literal1">du</code><code class="perl_literal1"> </code><code class="perl_literal1">compte</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">solde</code><code class="perl_literal1"> </code><code class="perl_literal1">\</code><code class="perl_literal1">n</code><code class="perl_literal1">"</code><code class="perl_literal1">;</code>
<code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1"> </code><code class="perl_literal1">}</code>
<code class="perl_literal1">}</code></code></pre></div>
          <p>Nous pouvons tester le fonctionnement général d'un compte bancaire comme suit :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e16924">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e16924" onclick="selectionCode('contenuCoded0e16924');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e16924" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$compte-bancaire</code> <code class="perl_operator">=</code> Compte.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    num<code class="perl_operator">-</code>compte <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">987654321</code><code class="perl_literal1">"</code>,
    client<code class="perl_operator">-</code>titulaire <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$cli-sarl</code>,
    solde <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">500</code>.<code class="perl_digit">00</code>,
    date<code class="perl_operator">-</code>d<code class="perl_literal1">'</code><code class="perl_literal1">activation</code><code class="perl_literal1">-</code><code class="perl_literal1">compte</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">Date</code><code class="perl_literal1">.</code><code class="perl_literal1">new</code><code class="perl_literal1">(</code><code class="perl_literal1">"</code><code class="perl_literal1">2018</code><code class="perl_literal1">-</code><code class="perl_literal1">02</code><code class="perl_literal1">-</code><code class="perl_literal1">15</code><code class="perl_literal1">"</code><code class="perl_literal1">)</code><code class="perl_literal1">,</code>
<code class="perl_literal1">)</code><code class="perl_literal1">;</code><code class="perl_literal1"> </code>

<code class="perl_literal1">say</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">compte</code><code class="perl_literal1">-</code><code class="perl_literal1">bancaire</code><code class="perl_literal1">.</code><code class="perl_literal1">sérialise</code><code class="perl_literal1">-</code><code class="perl_literal1">compte</code><code class="perl_literal1">;</code>
<code class="perl_literal1">$</code><code class="perl_literal1">compte</code><code class="perl_literal1">-</code><code class="perl_literal1">bancaire</code><code class="perl_literal1">.</code><code class="perl_literal1">retire</code><code class="perl_literal1">(</code><code class="perl_literal1">400</code><code class="perl_literal1">.</code><code class="perl_literal1">25</code><code class="perl_literal1">)</code><code class="perl_literal1">;</code>
<code class="perl_literal1">say</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Solde</code><code class="perl_literal1"> </code><code class="perl_literal1">après</code><code class="perl_literal1"> </code><code class="perl_literal1">premier</code><code class="perl_literal1"> </code><code class="perl_literal1">retrait</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">,</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">compte</code><code class="perl_literal1">-</code><code class="perl_literal1">bancaire</code><code class="perl_literal1">.</code><code class="perl_literal1">solde</code><code class="perl_literal1">;</code>
<code class="perl_literal1">$</code><code class="perl_literal1">compte</code><code class="perl_literal1">-</code><code class="perl_literal1">bancaire</code><code class="perl_literal1">.</code><code class="perl_literal1">dépose</code><code class="perl_literal1">(</code><code class="perl_literal1">100</code><code class="perl_literal1">.</code><code class="perl_literal1">25</code><code class="perl_literal1">)</code><code class="perl_literal1">;</code>
<code class="perl_literal1">say</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Solde</code><code class="perl_literal1"> </code><code class="perl_literal1">après</code><code class="perl_literal1"> </code><code class="perl_literal1">premier</code><code class="perl_literal1"> </code><code class="perl_literal1">dépôt</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">,</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">compte</code><code class="perl_literal1">-</code><code class="perl_literal1">bancaire</code><code class="perl_literal1">.</code><code class="perl_literal1">solde</code><code class="perl_literal1">;</code>
<code class="perl_literal1">my</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">resultat</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">compte</code><code class="perl_literal1">-</code><code class="perl_literal1">bancaire</code><code class="perl_literal1">.</code><code class="perl_literal1">retire</code><code class="perl_literal1">(</code><code class="perl_literal1">400</code><code class="perl_literal1">.</code><code class="perl_literal1">Rat</code><code class="perl_literal1">)</code><code class="perl_literal1">;</code>
<code class="perl_literal1">say</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Retrait</code><code class="perl_literal1"> </code><code class="perl_literal1">impossible</code><code class="perl_literal1">"</code><code class="perl_literal1"> </code><code class="perl_literal1">if</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">resultat</code><code class="perl_literal1"> </code><code class="perl_literal1">&lt;</code><code class="perl_literal1">0</code><code class="perl_literal1">;</code></code></pre></div>
          <p>L'affichage est conforme à nos attentes :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e17269">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e17269" onclick="selectionCode('contenuCoded0e17269');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e17269" class="contenuCode">Numéro de compte : 987654321
Date d'activation du compte : 2018-02-15
Numéro de client : 0123456789
Date d'activation : 2015-11-14
Client actif : Oui
Solde du compte : 500

Solde après premier retrait : 99.75
Solde après premier dépôt : 200
Solde 200 insuffisant pour retrait de 400
Retrait impossible</code></pre></div>
        </div>
        
		<h3 class="TitreSection2" id="L3-3-2">3-3-2. D'autres types de comptes bancaires<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Nous pouvons créer d'autres types de comptes bancaires.</p>
          <p>Par exemple, la classe <span class="codeinline">Compte</span> créée à la section précédente utilise un attribut <span class="codeinline">$.client-titulaire</span> de type <span class="codeinline">Client</span> générique. <span class="italique">À titre d'exercice</span>, vous pouvez créer des types de comptes bancaires spécifiques aux différents types de clients que nous avons créés précédemment (<span class="codeinline">Client-société</span> et <span class="codeinline">Client-privé</span>) ou ceux que vous avez créés de votre côté. Cela ne devrait nécessiter que quelques minutes de travail et quelques lignes de code. Une solution possible est fournie un peu plus loin (voir § <a href="#L3-3-4" class=" lienArticle simple">3.3.4</a>).</p>
        </div>
        
		<h3 class="TitreSection2" id="L3-3-3">3-3-3. Commissions et frais bancaires<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Ce n'est un secret pour personne que les banquiers aiment beaucoup facturer des frais bancaires et qu'ils ont dans ce domaine presque autant d'imagination que le ministère des Finances en matière de création de nouvelles taxes ou redevances.</p>
          <p>Supposons que nous voulions facturer des frais de 0,50 &#8364; pour chaque retrait effectué. Nous pourrions créer un nouveau type de compte héritant de la classe <span class="codeinline">Compte</span> et redéfinissant la méthode <span class="codeinline">retire</span> pour y ajouter le prélèvement de cette commission. Cela ne présente guère de difficulté.</p>
          <p>Toutefois, connaissant les banquiers, nous soupçonnons qu'ils voudront certainement imposer ce genre de frais bancaires à plusieurs sortes de comptes. Il est donc peut-être préférable de définir un rôle gérant ce genre de commission bancaire et qui pourra s'appliquer à différents types de comptes.</p>
          
		<h4 class="TitreSection3" id="L3-3-3-1">3-3-3-1. Frais bancaire codé en dur<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>On peut faire un premier essai comme suit :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e17334">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e17334" onclick="selectionCode('contenuCoded0e17334');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e17334" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> Frais<code class="perl_operator">-</code>bancaire <code class="perl_operator">{</code>
  <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> retire (Rat <code class="perl_keyword2">$retrait</code>) <code class="perl_operator">{</code>
    <code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Solde</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">solde</code><code class="perl_literal1"> </code><code class="perl_literal1">insuffisant</code><code class="perl_literal1"> </code><code class="perl_literal1">pour</code><code class="perl_literal1"> </code><code class="perl_literal1">retrait</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal3">$retrait</code><code class="perl_literal1">"</code> 
        <code class="perl_operator">and</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> <code class="perl_operator">-</code><code class="perl_digit">1</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=if"><span>if</span></a> <code class="perl_keyword2">$retrait</code> <code class="perl_operator">&gt;</code> <code class="perl_keyword2">$.</code>solde;
    <code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Retrait</code><code class="perl_literal1"> </code><code class="perl_literal1">avec</code><code class="perl_literal1"> </code><code class="perl_literal1">frais</code><code class="perl_literal1">"</code>;
    <code class="perl_keyword2">$.</code>solde <code class="perl_operator">-</code><code class="perl_operator">=</code> <code class="perl_keyword2">$retrait</code> <code class="perl_operator">+</code> <code class="perl_digit">0</code>.<code class="perl_digit">50</code>; <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">0,50:</code><code class="perl_comment1"> </code><code class="perl_comment1">frais</code><code class="perl_comment1"> </code><code class="perl_comment1">(codé</code><code class="perl_comment1"> </code><code class="perl_comment1">en</code><code class="perl_comment1"> </code><code class="perl_comment1">dur)</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> <code class="perl_keyword2">$.</code>solde;
  <code class="perl_operator">}</code>
<code class="perl_operator">}</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Compte<code class="perl_operator">-</code>avec<code class="perl_operator">-</code>frais <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Compte <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Frais<code class="perl_operator">-</code>bancaire <code class="perl_operator">{</code><code class="perl_operator">}</code>;</code></pre></div>
            <p>Cela fonctionne correctement, mais coder en dur le montant de la commission dans le rôle n'est pas très satisfaisant.</p>
          </div>
          
		<h4 class="TitreSection3" id="L3-3-3-2">3-3-3-2. Un rôle paramétré<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>Il est possible de définir une signature pour un rôle et de lui passer un paramètre (ou plusieurs) entre crochets :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e17523">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e17523" onclick="selectionCode('contenuCoded0e17523');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e17523" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> Frais<code class="perl_operator">-</code>bancaire [Rat <code class="perl_keyword2">$amount</code>] <code class="perl_operator">{</code>
  <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> retire (Rat <code class="perl_keyword2">$retrait</code>) <code class="perl_operator">{</code>
    <code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Solde</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">solde</code><code class="perl_literal1"> </code><code class="perl_literal1">insuffisant</code><code class="perl_literal1"> </code><code class="perl_literal1">pour</code><code class="perl_literal1"> </code><code class="perl_literal1">retrait</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal3">$retrait</code><code class="perl_literal1">"</code> 
        <code class="perl_operator">and</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> <code class="perl_operator">-</code><code class="perl_digit">1</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=if"><span>if</span></a> <code class="perl_keyword2">$retrait</code> <code class="perl_operator">&gt;</code> <code class="perl_keyword2">$.</code>solde;
    <code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Retrait</code><code class="perl_literal1"> </code><code class="perl_literal1">avec</code><code class="perl_literal1"> </code><code class="perl_literal1">frais</code><code class="perl_literal1">"</code>;
    <code class="perl_keyword2">$.</code>solde <code class="perl_operator">-</code><code class="perl_operator">=</code> <code class="perl_keyword2">$retrait</code> <code class="perl_operator">+</code> <code class="perl_keyword2">$amount</code>; <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">$amount:</code><code class="perl_comment1"> </code><code class="perl_comment1">frais</code><code class="perl_comment1"> </code><code class="perl_comment1">passé</code><code class="perl_comment1"> </code><code class="perl_comment1">en</code><code class="perl_comment1"> </code><code class="perl_comment1">argument</code><code class="perl_comment1"> </code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> <code class="perl_keyword2">$.</code>solde;
  <code class="perl_operator">}</code>
<code class="perl_operator">}</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Compte<code class="perl_operator">-</code>avec<code class="perl_operator">-</code>frais <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Compte <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Frais<code class="perl_operator">-</code>bancaire[<code class="perl_digit">0</code>.<code class="perl_digit">5</code>] <code class="perl_operator">{</code><code class="perl_operator">}</code>;</code></pre></div>
            <p>On définit ici une signature avec un paramètre <span class="codeinline">$amount</span> pour le rôle <span class="codeinline">Frais-bancaire</span> et, lors de l'utilisation du rôle pour la définition de la classe <span class="codeinline">Compte-avec-frais</span>, on passe un montant de 0,50 euro en argument. Le lecteur trouvera des informations complémentaires sur les rôles paramétrés au § <a href="#L4-2-4" class=" lienArticle simple">4.2.4</a>.</p>
            <p>Bien entendu, dans une application réelle, le montant passé en argument serait stocké dans une variable dont la valeur proviendrait d'un fichier de configuration ou d'une table de paramétrage d'une base de données.</p>
            <p>Testons cet exemple avec le code suivant :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e17729">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e17729" onclick="selectionCode('contenuCoded0e17729');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e17729" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$compte-bancaire</code> <code class="perl_operator">=</code> Compte<code class="perl_operator">-</code>avec<code class="perl_operator">-</code>frais.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    num<code class="perl_operator">-</code>compte <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">987654321</code><code class="perl_literal1">"</code>,
    client<code class="perl_operator">-</code>titulaire <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$cli-sarl</code>,
    solde <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">500</code>.<code class="perl_digit">00</code>,
    date<code class="perl_operator">-</code>d<code class="perl_literal1">'</code><code class="perl_literal1">activation</code><code class="perl_literal1">-</code><code class="perl_literal1">compte</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1">&gt;</code><code class="perl_literal1"> </code><code class="perl_literal1">Date</code><code class="perl_literal1">.</code><code class="perl_literal1">new</code><code class="perl_literal1">(</code><code class="perl_literal1">"</code><code class="perl_literal1">2018</code><code class="perl_literal1">-</code><code class="perl_literal1">02</code><code class="perl_literal1">-</code><code class="perl_literal1">15</code><code class="perl_literal1">"</code><code class="perl_literal1">)</code><code class="perl_literal1">,</code>
<code class="perl_literal1">)</code><code class="perl_literal1">;</code><code class="perl_literal1"> </code>

<code class="perl_literal1">$</code><code class="perl_literal1">compte</code><code class="perl_literal1">-</code><code class="perl_literal1">bancaire</code><code class="perl_literal1">.</code><code class="perl_literal1">retire</code><code class="perl_literal1">(</code><code class="perl_literal1">400</code><code class="perl_literal1">.</code><code class="perl_literal1">00</code><code class="perl_literal1">)</code><code class="perl_literal1">;</code>
<code class="perl_literal1">say</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Solde</code><code class="perl_literal1"> </code><code class="perl_literal1">après</code><code class="perl_literal1"> </code><code class="perl_literal1">premier</code><code class="perl_literal1"> </code><code class="perl_literal1">retrait</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">,</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">compte</code><code class="perl_literal1">-</code><code class="perl_literal1">bancaire</code><code class="perl_literal1">.</code><code class="perl_literal1">solde</code><code class="perl_literal1">;</code>
<code class="perl_literal1">$</code><code class="perl_literal1">compte</code><code class="perl_literal1">-</code><code class="perl_literal1">bancaire</code><code class="perl_literal1">.</code><code class="perl_literal1">dépose</code><code class="perl_literal1">(</code><code class="perl_literal1">100</code><code class="perl_literal1">.</code><code class="perl_literal1">00</code><code class="perl_literal1">)</code><code class="perl_literal1">;</code>
<code class="perl_literal1">say</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Solde</code><code class="perl_literal1"> </code><code class="perl_literal1">après</code><code class="perl_literal1"> </code><code class="perl_literal1">premier</code><code class="perl_literal1"> </code><code class="perl_literal1">dépôt</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">,</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">compte</code><code class="perl_literal1">-</code><code class="perl_literal1">bancaire</code><code class="perl_literal1">.</code><code class="perl_literal1">solde</code><code class="perl_literal1">;</code>
<code class="perl_literal1">my</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">resultat</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">compte</code><code class="perl_literal1">-</code><code class="perl_literal1">bancaire</code><code class="perl_literal1">.</code><code class="perl_literal1">retire</code><code class="perl_literal1">(</code><code class="perl_literal1">400</code><code class="perl_literal1">.</code><code class="perl_literal1">Rat</code><code class="perl_literal1">)</code><code class="perl_literal1">;</code>
<code class="perl_literal1">say</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code><code class="perl_literal1">Retrait</code><code class="perl_literal1"> </code><code class="perl_literal1">impossible</code><code class="perl_literal1">"</code><code class="perl_literal1"> </code><code class="perl_literal1">if</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">resultat</code><code class="perl_literal1"> </code><code class="perl_literal1">&lt;</code><code class="perl_literal1">0</code><code class="perl_literal1">;</code></code></pre></div>
            <p>La commission est bien prélevée lors du retrait :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e18057">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e18057" onclick="selectionCode('contenuCoded0e18057');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e18057" class="contenuCode">Retrait avec frais
Solde après premier retrait : 99.5
Solde après premier dépôt : 199.5
Solde 199.5 insuffisant pour retrait de 400
Retrait impossible</code></pre></div>
            <p><span class="italique">À titre d'exercice,</span> vous pouvez ajouter une nouvelle fonctionnalité : le prélèvement d'une commission de 10 &#8364; pour toute tentative de retrait dépassant la provision du compte. Vous pouvez également essayer de créer un compte de type épargne permettant de calculer un intérêt versé par la banque à son client (calculé simplement comme un pourcentage du montant figurant au crédit du compte).</p>
          </div>
        </div>
        
		<h3 class="TitreSection2" id="L3-3-4">3-3-4. Autres types de comptes bancaires : une solution possible<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Cette section propose une solution possible à l'exercice proposé au § <a href="#L3-3-2" class=" lienArticle simple">3.3.2</a>. Il s'agit de créer des types de comptes bancaires spécifiques aux différents types de clients précédemment, comme <span class="codeinline">Client-privé</span>.</p>
          <p>Il suffit de créer une nouvelle classe héritant de <span class="codeinline">Client</span> et redéfinissant l'attribut <span class="codeinline">client-titulaire</span> :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e18090">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e18090" onclick="selectionCode('contenuCoded0e18090');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e18090" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Compte<code class="perl_operator">-</code>privé <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Compte <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Client<code class="perl_operator">-</code>privé <code class="perl_keyword2">$.</code>client<code class="perl_operator">-</code>titulaire;
<code class="perl_operator">}</code></code></pre></div>
          <p>Cela fonctionne bien, mais nous laissons, <span class="italique">à titre d'exercice</span> complémentaire, au lecteur le soin d'instancier un objet de la classe <span class="codeinline">Client-privé</span> puis un objet de la classe <span class="codeinline">Compte-privé</span> pour tester l'ensemble. Toujours <span class="italique">à titre d'exercice</span>, le lecteur est invité à créer un type de compte privé faisant l'objet de frais bancaires de 1 euro pour chaque retrait. <span class="italique">Indice</span> : le lecteur devrait constater à cette occasion l'intérêt qu'il y avait de créer un rôle paramétré pour gérer les frais bancaires.</p>
        </div>
      </div>
    </div>
    
		<h1 class="TitreSection0" id="L4">4. POO en Perl 6 : compléments techniques et notions avancées<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h1><div class="BlocSection0">
      
      <p>Le chapitre <a href="#L2" class=" lienArticle simple">2</a> constituait un tutoriel pour débutants introduisant à un rythme très progressif les idées de base de la programmation orientée objet en Perl 6, et le chapitre <a href="#L3" class=" lienArticle simple">3</a> une mise en application dans un exemple détaillé de ces idées de base. Maintenant que vous avez appris les principales notions et (espérons-le) compris comment elles s'articulaient, nous pouvons approfondir ces connaissances et présenter à un rythme un peu plus soutenu les détails techniques et concepts plus avancés.</p>
      
		<h2 class="TitreSection1" id="L4-1">4-1. Classes<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        
		<h3 class="TitreSection2" id="L4-1-1">4-1-1. Déclaration et définition d'une classe<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>On déclare une classe à l'aide du mot-clef <span class="codeinline">class</span>, généralement suivi du nom de la classe : </p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e18169">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e18169" onclick="selectionCode('contenuCoded0e18169');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e18169" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Voyage <code class="perl_operator">{</code>
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code>
<code class="perl_operator">}</code></code></pre></div>
          <p>Cette déclaration crée un <span class="italique">objet-type</span> et l'installe dans le paquetage courant et dans la portée lexicale courante sous le nom <span class="codeinline">Voyage</span>.</p>
          <p>Il y a en fait deux façons principales de déclarer des classes. La première commence par la déclaration <span class="codeinline">Class NomClasse;</span> et s'étend jusqu'à la fin du fichier :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e18201">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e18201" onclick="selectionCode('contenuCoded0e18201');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e18201" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> NomClasse;
<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">la</code><code class="perl_comment1"> </code><code class="perl_comment1">définition</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">la</code><code class="perl_comment1"> </code><code class="perl_comment1">classe</code><code class="perl_comment1"> </code><code class="perl_comment1">commence</code><code class="perl_comment1"> </code><code class="perl_comment1">ici</code></code></pre></div>
          <p>Dans la seconde forme, le nom de la classe est suivi d'un bloc, et tout ce qui se trouve dans ce bloc constitue la définition de la classe :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e18239">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e18239" onclick="selectionCode('contenuCoded0e18239');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e18239" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> NomClasse <code class="perl_operator">{</code>
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">définition</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">la</code><code class="perl_comment1"> </code><code class="perl_comment1">classe</code><code class="perl_comment1"> </code><code class="perl_comment1">dans</code><code class="perl_comment1"> </code><code class="perl_comment1">ce</code><code class="perl_comment1"> </code><code class="perl_comment1">bloc</code>
<code class="perl_operator">}</code>
<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">autres</code><code class="perl_comment1"> </code><code class="perl_comment1">définitions</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">classes</code><code class="perl_comment1"> </code><code class="perl_comment1">ou</code><code class="perl_comment1"> </code><code class="perl_comment1">code</code><code class="perl_comment1"> </code><code class="perl_comment1">autre</code></code></pre></div>
          <p>Cette seconde forme permet éventuellement de définir plusieurs classes (de préférence apparentées) dans le même fichier. </p>
          <p>Il est également possible de déclarer des classes de portée lexicale :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e18317">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e18317" onclick="selectionCode('contenuCoded0e18317');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e18317" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Voyage <code class="perl_operator">{</code>
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code>
<code class="perl_operator">}</code></code></pre></div>
          <p>Ceci limite la visibilité de la classe à la portée lexicale courante, ce qui peut s'avérer utile si la classe est un détail de mise en &#339;uvre à l'intérieur d'un module ou d'une autre classe.</p>
        </div>
        
		<h3 class="TitreSection2" id="L4-1-2">4-1-2. Objets-types<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Nous avons dit dans la section précédente que la définition d'une classe crée un objet-type. Que voulons-nous dire et quelles sont les conséquences ?</p>
          <p>En fait, les types eux-mêmes sont des objets et il est possible d'obtenir l'<span class="italique">objet-type</span> en écrivant simplement son nom :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e18355">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e18355" onclick="selectionCode('contenuCoded0e18355');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e18355" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$obj-type-int</code> <code class="perl_operator">=</code> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=int&amp;amp;mode=all"><span>Int</span></a>;      <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">(Int)</code></code></pre></div>
          <p>Il est possible de connaître l'objet-type d'un objet quelconque en appelant la méthode <span class="codeinline">WHAT</span> (qui est en fait une macro sous la forme d'une méthode) :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e18385">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e18385" onclick="selectionCode('contenuCoded0e18385');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e18385" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$obj-type-int</code> <code class="perl_operator">=</code> <code class="perl_digit">1</code>.<a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=what&amp;amp;mode=all"><span>WHAT</span></a>;   <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">(Int)</code></code></pre></div>
          <p>Il est possible de vérifier si des objets-types (à l'exception de <span class="codeinline">Mu</span>, le type au sommet de la hiérarchie des types dont héritent tous les autres) sont égaux à l'aide de l'opérateur d'identité <span class="codeinline">===</span> : </p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e18421">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e18421" onclick="selectionCode('contenuCoded0e18421');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e18421" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=sub"><span>sub</span></a> f(<a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=int&amp;amp;mode=all"><span>Int</span></a> <code class="perl_keyword2">$x</code>) <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=if"><span>if</span></a> <code class="perl_keyword2">$x</code>.<a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=what&amp;amp;mode=all"><span>WHAT</span></a> <code class="perl_operator">=</code><code class="perl_operator">=</code><code class="perl_operator">=</code> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=int&amp;amp;mode=all"><span>Int</span></a> <code class="perl_operator">{</code>
        <code class="perl_keyword3">say</code> <code class="perl_literal1">'</code><code class="perl_literal1">Vous</code><code class="perl_literal1"> </code><code class="perl_literal1">avez</code><code class="perl_literal1"> </code><code class="perl_literal1">passé</code><code class="perl_literal1"> </code><code class="perl_literal1">un</code><code class="perl_literal1"> </code><code class="perl_literal1">Int</code><code class="perl_literal1">'</code>;
    <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=else"><span>else</span></a> <code class="perl_operator">{</code>
        <code class="perl_keyword3">say</code> <code class="perl_literal1">'</code><code class="perl_literal1">Vous</code><code class="perl_literal1"> </code><code class="perl_literal1">avez</code><code class="perl_literal1"> </code><code class="perl_literal1">passé</code><code class="perl_literal1"> </code><code class="perl_literal1">un</code><code class="perl_literal1"> </code><code class="perl_literal1">sous</code><code class="perl_literal1">-</code><code class="perl_literal1">type</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">Int</code><code class="perl_literal1">'</code>;
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code></code></pre></div>
          <p>En vérité, dans la majeure partie des cas courants, la méthode <span class="codeinline">.isa</span> sera suffisante et plus simple d'utilisation :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e18541">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e18541" onclick="selectionCode('contenuCoded0e18541');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e18541" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=sub"><span>sub</span></a> f(<code class="perl_keyword2">$x</code>) <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=if"><span>if</span></a> <code class="perl_keyword2">$x</code>.isa(<a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=int&amp;amp;mode=all"><span>Int</span></a>) <code class="perl_operator">{</code>
        ...
    <code class="perl_operator">}</code>
    ...
<code class="perl_operator">}</code></code></pre></div>
          <p>La vérification des sous-types se fait avec l'opérateur de comparaison intelligente <span class="codeinline">~~</span> (<span class="italique">smart match</span>) :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e18578">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e18578" onclick="selectionCode('contenuCoded0e18578');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e18578" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=int&amp;amp;mode=all"><span>Int</span></a> <code class="perl_keyword2">$i</code> <code class="perl_operator">=</code> <code class="perl_digit">5</code>;
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Compatible</code><code class="perl_literal1"> </code><code class="perl_literal1">avec</code><code class="perl_literal1"> </code><code class="perl_literal1">réel</code><code class="perl_literal1">"</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=if"><span>if</span></a> <code class="perl_keyword2">$i</code> <code class="perl_operator">~</code><code class="perl_operator">~</code> Real; <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Int</code><code class="perl_comment1"> </code><code class="perl_comment1">est</code><code class="perl_comment1"> </code><code class="perl_comment1">sous-type</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">Real</code>
<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">"Compatible</code><code class="perl_comment1"> </code><code class="perl_comment1">avec</code><code class="perl_comment1"> </code><code class="perl_comment1">réel"</code><code class="perl_comment1"> </code><code class="perl_comment1">(Int</code><code class="perl_comment1"> </code><code class="perl_comment1">hérite</code><code class="perl_comment1"> </code><code class="perl_comment1">des</code><code class="perl_comment1"> </code><code class="perl_comment1">méthodes</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">Real)</code></code></pre></div>
        </div>
        
		<h3 class="TitreSection2" id="L4-1-3">4-1-3. Attributs<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Les attributs sont des variables privées qui existent à l'intérieur des membres d'une classe (et que possèdent tous les objets instanciant ladite classe). Ce sont eux qui stockent l'état d'un objet. En Perl 6, tous les attributs sont privés. On les déclare généralement avec le mot-clef <span class="codeinline">has</span> et en utilisant le twigil « <span class="codeinline">!</span> » :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e18704">Attributs privés<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e18704" onclick="selectionCode('contenuCoded0e18704');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e18704" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Voyage <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$!</code>point<code class="perl_operator">-</code>de<code class="perl_operator">-</code>départ;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$!</code>destination;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">@</code><code class="perl_operator">!</code>voyageurs;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$!</code>notes;
<code class="perl_operator">}</code></code></pre></div>
          <p>Il n'existe pas en Perl 6 d'attribut public (ou même protégé) à proprement parler, mais il existe une manière de générer automatiquement des accesseurs (méthodes d'accès) : il suffit de remplacer le twigil « <span class="codeinline">!</span> » par le twigil « <span class="codeinline">.</span> » (moyen mnémotechnique : le « <span class="codeinline">.</span> » devrait vous faire penser à un appel de méthode) :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e18758">Accesseurs en lecture seule<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e18758" onclick="selectionCode('contenuCoded0e18758');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e18758" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Voyage <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>point<code class="perl_operator">-</code>de<code class="perl_operator">-</code>départ;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>destination;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">@</code><code class="perl_operator">!</code>voyageurs;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>notes;
<code class="perl_operator">}</code></code></pre></div>
          <p>Ceci fournit par défaut des accesseurs en lecture seule. Pour autoriser des modifications de l'attribut, il faut ajouter le <span class="italique">trait</span> <span class="codeinline">is rw</span> :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e18809">Un seul attribut modifiable<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e18809" onclick="selectionCode('contenuCoded0e18809');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e18809" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Voyage <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>point<code class="perl_operator">-</code>de<code class="perl_operator">-</code>départ;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>destination;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">@</code><code class="perl_operator">!</code>voyageurs;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>notes <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
<code class="perl_operator">}</code></code></pre></div>
          <p>Désormais, une fois un objet <span class="codeinline">Voyage</span> créé, ses attributs <span class="codeinline">.point-de-départ</span>, <span class="codeinline">.destination</span> et <span class="codeinline">.notes</span> seront accessibles depuis l'extérieur de la classe via les accesseurs, mais seul l'attribut <span class="codeinline">.notes</span> sera modifiable. </p>
          <p>L'attribut <span class="codeinline">@!voyageurs</span> reste privé et inaccessible depuis l'extérieur de la classe : seule une méthode interne à la classe pourra y accéder. Ce tableau n'est pas déclaré avec le trait <span class="codeinline">is rw</span> et n'est donc en principe pas mutable, mais c'est le <span class="italique">container</span> (le tableau lui-même) qui ne peut pas être modifié, nous verrons dans un exemple prochainement qu'il reste tout à fait possible pour une méthode de la classe de modifier le <span class="italique">contenu</span> (les éléments du tableau). La distinction est subtile et, dans la pratique, on peut considérer que les attributs de type tableau se comportent comme s'ils étaient modifiables pour les utilisations les plus courantes.</p>
          <p>Comme les classes héritent d'un constructeur par défaut de <span class="codeinline">Mu</span> et comme nous avons demandé que des accesseurs soient générés pour nous, notre classe est déjà presque fonctionnelle :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e18896">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e18896" onclick="selectionCode('contenuCoded0e18896');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e18896" class="contenuCode"><code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Création</code><code class="perl_comment1"> </code><code class="perl_comment1">d'une</code><code class="perl_comment1"> </code><code class="perl_comment1">nouvelle</code><code class="perl_comment1"> </code><code class="perl_comment1">instance</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">la</code><code class="perl_comment1"> </code><code class="perl_comment1">classe</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$vacances</code> <code class="perl_operator">=</code> Voyage.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    point<code class="perl_operator">-</code>de<code class="perl_operator">-</code>départ  <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">'</code><code class="perl_literal1">Suède</code><code class="perl_literal1">'</code>,
    destination      <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">'</code><code class="perl_literal1">Suisse</code><code class="perl_literal1">'</code>,
    notes            <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">'</code><code class="perl_literal1">Équipement</code><code class="perl_literal1"> </code><code class="perl_literal1">type</code><code class="perl_literal1"> </code><code class="perl_literal1">camping</code><code class="perl_literal1">!</code><code class="perl_literal1">'</code>
);

<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Utilisation</code><code class="perl_comment1"> </code><code class="perl_comment1">d'un</code><code class="perl_comment1"> </code><code class="perl_comment1">accesseur</code><code class="perl_comment1"> </code><code class="perl_comment1">:</code><code class="perl_comment1"> </code>
<code class="perl_keyword3">say</code> <code class="perl_keyword2">$vacances</code>.point<code class="perl_operator">-</code>de<code class="perl_operator">-</code>départ;    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">Suède</code>

<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Utilisation</code><code class="perl_comment1"> </code><code class="perl_comment1">d'un</code><code class="perl_comment1"> </code><code class="perl_comment1">accesseur</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">type</code><code class="perl_comment1"> </code><code class="perl_comment1">rw</code><code class="perl_comment1"> </code><code class="perl_comment1">pour</code><code class="perl_comment1"> </code><code class="perl_comment1">modifier</code><code class="perl_comment1"> </code><code class="perl_comment1">la</code><code class="perl_comment1"> </code><code class="perl_comment1">valeur:</code>
<code class="perl_keyword2">$vacances</code>.notes <code class="perl_operator">=</code> <code class="perl_literal1">'</code><code class="perl_literal1">Équipement</code><code class="perl_literal1"> </code><code class="perl_literal1">type</code><code class="perl_literal1"> </code><code class="perl_literal1">camping</code><code class="perl_literal1"> </code><code class="perl_literal1">plus</code><code class="perl_literal1"> </code><code class="perl_literal1">lunettes</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">soleil</code><code class="perl_literal1">'</code>;</code></pre></div>
          <p>À noter que le constructeur par défaut n'alimentera que les attributs qui ont un accesseur, (donc déclarés avec le twigil <span class="codeinline">$.</span>), mais il peut initialiser des attributs en lecture seule (c'est même le seul moment où l'on pourra leur donner une valeur).</p>
        </div>
        
		<h3 class="TitreSection2" id="L4-1-4">4-1-4. Méthodes<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>On déclare une méthode à l'aide du mot-clef <span class="codeinline">method</span> à l'intérieur du corps d'une classe :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e19135">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e19135" onclick="selectionCode('contenuCoded0e19135');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e19135" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Voyage <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>départ;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>destination;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">@</code><code class="perl_operator">!</code>voyageurs;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>notes <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;

    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> ajoute_voyageur(<code class="perl_keyword2">$nom</code>) <code class="perl_operator">{</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=if"><span>if</span></a> <code class="perl_keyword2">$nom</code> <code class="perl_operator">ne</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=any"><span>any</span></a>(<code class="perl_keyword2">@</code><code class="perl_operator">!</code>voyageurs) <code class="perl_operator">{</code>
            <code class="perl_keyword3">push</code> <code class="perl_keyword2">@</code><code class="perl_operator">!</code>voyageurs, <code class="perl_keyword2">$nom</code>;
        <code class="perl_operator">}</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=else"><span>else</span></a> <code class="perl_operator">{</code>
            <code class="perl_keyword3">warn</code> <code class="perl_literal1">"</code><code class="perl_literal3">$nom</code><code class="perl_literal1"> </code><code class="perl_literal1">est</code><code class="perl_literal1"> </code><code class="perl_literal1">déjà</code><code class="perl_literal1"> </code><code class="perl_literal1">du</code><code class="perl_literal1"> </code><code class="perl_literal1">voyage</code><code class="perl_literal1">!</code><code class="perl_literal1">"</code>;
        <code class="perl_operator">}</code>
    <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> décrire() <code class="perl_operator">{</code>
        <code class="perl_keyword3">join</code> <code class="perl_literal1">"</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code>, <code class="perl_literal1">"</code><code class="perl_literal1">De</code><code class="perl_literal1">"</code>, <code class="perl_keyword2">$!</code>départ, <code class="perl_literal1">"</code><code class="perl_literal1">à</code><code class="perl_literal1">"</code>, <code class="perl_keyword2">$!</code>destination,
                  <code class="perl_literal1">"</code><code class="perl_literal1">-</code><code class="perl_literal1"> </code><code class="perl_literal1">Voyageurs</code><code class="perl_literal1">:</code><code class="perl_literal1">"</code>, <code class="perl_keyword2">@</code><code class="perl_operator">!</code>voyageurs;
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code></code></pre></div>
          <p>La classe peut être appelée comme suit :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e19320">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e19320" onclick="selectionCode('contenuCoded0e19320');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e19320" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$week-end-amoureux</code> <code class="perl_operator">=</code> Voyage.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(départ      <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Paris</code><code class="perl_literal1">"</code>, 
                                   destination <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Londres</code><code class="perl_literal1">"</code>);
<code class="perl_keyword2">$week-end-amoureux</code>.ajoute_voyageur(<code class="perl_keyword2">$_</code>) <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=for"><span>for</span></a> <code class="perl_operator">&lt;</code>Roméo Juliette Roméo<code class="perl_operator">&gt;</code>;
<code class="perl_keyword3">say</code> <code class="perl_keyword2">$week-end-amoureux</code>.perl;
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Ajoute</code><code class="perl_literal1"> </code><code class="perl_literal1">une</code><code class="perl_literal1"> </code><code class="perl_literal1">note</code><code class="perl_literal1">"</code>;
<code class="perl_keyword2">$week-end-amoureux</code>.notes <code class="perl_operator">=</code> <code class="perl_literal1">"</code><code class="perl_literal1">Eurostar</code><code class="perl_literal1">"</code>;
<code class="perl_keyword3">say</code> <code class="perl_keyword2">$week-end-amoureux</code>.perl;
<code class="perl_keyword3">say</code> <code class="perl_keyword2">$week-end-amoureux</code>.décrire;</code></pre></div>
          <p>Ce qui affiche :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e19425">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e19425" onclick="selectionCode('contenuCoded0e19425');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e19425" class="contenuCode">Roméo est déjà du voyage!  in method ajoute_voyageur at voyage.pl6:12
Voyage.new(départ =&gt; "Paris", destination =&gt; "Londres", notes =&gt; Any)
Ajoute une note
Voyage.new(départ =&gt; "Paris", destination =&gt; "Londres", notes =&gt; "Eurostar")
De Paris à Londres - Voyageurs: Roméo Juliette</code></pre></div>
          <p>On constate que le programme avertit à propos du voyageur (Roméo) ajouté par erreur une seconde fois. L'ajout d'une note directement depuis le code appelant ne pose pas de problème, car c'est un attribut « public » (plus précisément doté d'un accesseur par défaut) et il est déclaré en mode <span class="codeinline">rw</span>. L'appel de méthode <span class="codeinline">$week-end-amoureux.perl</span> renvoie les seuls attributs publics tandis que l'appel de la méthode <span class="codeinline">décrire</span> permet aussi de connaître le nom des tourtereaux partant en week-end.</p>
          <p>Une méthode peut avoir une signature, tout comme une fonction (<span class="italique">subroutine</span>). Les attributs sont utilisables dans des méthodes et peuvent toujours être employés avec le twigil « <span class="codeinline">!</span> »,  même s'ils ont été déclarés avec le twigil « <span class="codeinline">.</span> » (comme dans la méthode <span class="codeinline">décrire</span> de l'exemple ci-dessus). La raison en est qu'en fait, le twigil « <span class="codeinline">.</span> » déclare un twigil « <span class="codeinline">!</span> » et génère en outre un accesseur. Autrement dit, les attributs « publics » ne sont en fait rien d'autres que des attributs privés dotés d'un accesseur public.</p>
          <p>Il y a une différence subtile, mais importante entre, par exemple, les expressions <span class="codeinline">$!départ</span> et <span class="codeinline">$.départ</span> dans la méthode <span class="codeinline">décrire</span>. La première syntaxe effectue toujours une simple recherche sur la valeur de l'attribut. Cela ne coûte pas grand-chose et vous savez que c'est l'attribut déclaré dans la classe. Cette syntaxe n'est utilisable qu'à l'intérieur de la classe.</p>
          <p>La seconde syntaxe, avec le « <span class="codeinline">.</span> », est en fait un appel de méthode et peut donc être utilisée ailleurs dans le programme ou redéfinie (<span class="italique">overriden</span>) dans une classe fille. Il faut par conséquent utiliser uniquement  <span class="codeinline">$.départ</span> si l'on désire explicitement autoriser une redéfinition de la méthode dans une classe fille.</p>
        </div>
        
		<h3 class="TitreSection2" id="L4-1-5">4-1-5. Objet self<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>À l'intérieur d'une méthode, il est possible d'utiliser le terme <span class="codeinline">self</span> qui est lié à l'objet invoquant, c'est-à-dire à l'objet sur lequel la méthode a été appelée. <span class="codeinline">self</span> peut être utilisé pour appeler d'autres méthodes sur l'invoquant. À l'intérieur d'une méthode, <span class="codeinline">$</span> est également lié à l'objet invoquant, si bien la syntaxe <span class="codeinline">$.point-de-départ</span> est équivalente à <span class="codeinline">self.point-de-départ</span>.</p>
        </div>
        
		<h3 class="TitreSection2" id="L4-1-6">4-1-6. Attributs et méthodes de classe<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          
		<h4 class="TitreSection3" id="L4-1-6-1">4-1-6-1. Attributs de classe<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>Tous les attributs que nous avons vus jusqu'à présent étaient des <span class="italique">attributs d'instance</span>, c'est-à-dire qu'ils se rapportaient aux instances d'une classe ; autrement dit, ils décrivaient les propriétés des objets individuels appartenant à la classe.</p>
            <p>Dans certains cas, nous désirons utiliser des propriétés relatives à la classe elle-même et non aux objets individuels qui lui appartiennent. </p>
            <p>Considérons la classe <span class="codeinline">Employé</span> décrite précédemment dans la section <a href="#L2-4" class=" lienArticle simple">2.4</a>. Elle avait cette forme :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e19538">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e19538" onclick="selectionCode('contenuCoded0e19538');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e19538" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Employé <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Personne <code class="perl_keyword2">$.</code>données<code class="perl_operator">-</code>personnelles;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Numeric <code class="perl_keyword2">$.</code>matricule;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>intitulé<code class="perl_operator">-</code>poste <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Numeric <code class="perl_keyword2">$.</code>salaire <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code>
<code class="perl_operator">}</code></code></pre></div>
            <p>Et l'utilisateur de la classe devait passer en paramètre un numéro de matricule lors de la construction d'un objet de ce type :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e19611">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e19611" onclick="selectionCode('contenuCoded0e19611');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e19611" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$salarié</code> <code class="perl_operator">=</code> Employé.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    données<code class="perl_operator">-</code>personnelles <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> Personne.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
        <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code><code class="perl_comment1"> </code><code class="perl_comment1">données</code><code class="perl_comment1"> </code><code class="perl_comment1">personnelles</code><code class="perl_comment1"> </code><code class="perl_comment1">du</code><code class="perl_comment1"> </code><code class="perl_comment1">salarié</code>
    ),
    matricule <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">12345</code>,
    intitulé<code class="perl_operator">-</code>poste <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">technicien</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">surface</code><code class="perl_literal1">"</code>,
    salaire <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">1234</code>.<code class="perl_digit">5</code>
);</code></pre></div>
            <p>Cela n'est pas très satisfaisant : comment l'utilisateur de la classe peut-il connaître à l'avance le numéro de matricule du salarié qu'il désire construire ?</p>
            <p>Il est sans doute préférable que la classe <span class="codeinline">Employé</span> détermine elle-même le numéro de matricule à affecter au salarié nouvellement créé, par exemple en incrémentant le numéro de matricule précédemment alloué par la classe. La classe doit donc garder en mémoire le  nombre de salariés créés, ce qu'elle peut faire ci-dessous avec l'<span class="italique">attribut de classe</span> <span class="codeinline">$matricule-courant</span> :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e19716">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e19716" onclick="selectionCode('contenuCoded0e19716');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e19716" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Employé <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$matricule-courant</code> <code class="perl_operator">=</code> <code class="perl_digit">0</code>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Personne <code class="perl_keyword2">$.</code>données<code class="perl_operator">-</code>personnelles;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Numeric <code class="perl_keyword2">$.</code>matricule;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>intitulé<code class="perl_operator">-</code>poste <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Numeric <code class="perl_keyword2">$.</code>salaire <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code>
    
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> nouveau<code class="perl_operator">-</code>matricule <code class="perl_operator">{</code> <code class="perl_operator">+</code><code class="perl_operator">+</code><code class="perl_keyword2">$matricule-courant</code>; <code class="perl_operator">}</code>
    
<code class="perl_operator">}</code></code></pre></div>
            <p>Comme on le voit, cet attribut <span class="codeinline">$matricule-courant</span> est déclaré à l'intérieur de la classe avec le mot-clef <span class="codeinline">my</span>, comme une variable ordinaire en Perl 6 et contrairement aux attributs d'instance). Nous avons également ajouté la méthode <span class="codeinline">nouveau-matricule</span> incrémentant <span class="codeinline">$matricule-courant</span> et renvoyant la valeur obtenue.</p>
            <p>L'utilisateur de la classe peut maintenant appeler le constructeur comme suit :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e19827">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e19827" onclick="selectionCode('contenuCoded0e19827');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e19827" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$salarié</code> <code class="perl_operator">=</code> Employé.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    données<code class="perl_operator">-</code>personnelles <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> Personne.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
        nom <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Jean</code><code class="perl_literal1">"</code>,
        prénom <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Chiponelli</code><code class="perl_literal1">"</code>,
        sexe <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">M</code><code class="perl_literal1">"</code>,
        date<code class="perl_operator">-</code>de<code class="perl_operator">-</code>naissance <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> Date.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(<code class="perl_digit">1992</code>, <code class="perl_digit">10</code>, <code class="perl_digit">24</code>),
        lieu<code class="perl_operator">-</code>de<code class="perl_operator">-</code>naissance <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Strasbourg</code><code class="perl_literal1">"</code>,
        adresse <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> Adresse.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>( numéro <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">42</code>, voie <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">boulevard</code><code class="perl_literal1"> </code><code class="perl_literal1">Carnot</code><code class="perl_literal1">"</code>, 
                                commune <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Nice</code><code class="perl_literal1">"</code>, code<code class="perl_operator">-</code>postal <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">06000</code><code class="perl_literal1">"</code>
        ),
        numéro<code class="perl_operator">-</code>sécu <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">1</code><code class="perl_literal1">-</code><code class="perl_literal1">92</code><code class="perl_literal1">-</code><code class="perl_literal1">10</code><code class="perl_literal1">-</code><code class="perl_literal1">67</code><code class="perl_literal1">.</code><code class="perl_literal1">.</code><code class="perl_literal1">.</code><code class="perl_literal1">"</code>,  telephone<code class="perl_operator">-</code>personnel <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">0712345678</code><code class="perl_literal1">"</code> 
    ),
    matricule <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> Employé.nouveau<code class="perl_operator">-</code>matricule(),
    intitulé<code class="perl_operator">-</code>poste <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">technicien</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">surface</code><code class="perl_literal1">"</code>,
    salaire <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">1234</code>.<code class="perl_digit">5</code>
);
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Matricule</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">l</code><code class="perl_literal1">'</code><code class="perl_literal1">employé</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal3">{</code><code class="perl_literal3">$salarié.matricule</code><code class="perl_literal3">}</code><code class="perl_literal1">"</code>;</code></pre></div>
            <p>Ce qui affiche :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e20115">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e20115" onclick="selectionCode('contenuCoded0e20115');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e20115" class="contenuCode">Matricule de l'employé : 1</code></pre></div>
            <p>Et si nous créons un second employé, le matricule sera 2, et ainsi de suite.</p>
            <p>À la vérité, cela reste assez maladroit. Il serait préférable que l'utilisateur de la classe n'ait pas du tout à se préoccuper du matricule lors de la création de l'objet de type <span class="codeinline">Employé</span>. Il est en fait plus simple de calculer le matricule implicitement lors de la construction :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e20127">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e20127" onclick="selectionCode('contenuCoded0e20127');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e20127" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Employé <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$matricule-courant</code> <code class="perl_operator">=</code> <code class="perl_digit">0</code>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Personne <code class="perl_keyword2">$.</code>données<code class="perl_operator">-</code>personnelles;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Numeric <code class="perl_keyword2">$.</code>matricule <code class="perl_operator">=</code> <code class="perl_operator">+</code><code class="perl_operator">+</code><code class="perl_keyword2">$matricule-courant</code>;
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code><code class="perl_comment1"> </code>
<code class="perl_operator">}</code></code></pre></div>
            <p>La ligne de code :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e20186">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e20186" onclick="selectionCode('contenuCoded0e20186');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e20186" class="contenuCode">    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Numeric <code class="perl_keyword2">$.</code>matricule <code class="perl_operator">=</code> <code class="perl_operator">+</code><code class="perl_operator">+</code><code class="perl_keyword2">$matricule-courant</code>;</code></pre></div>
            <p>utilise la syntaxe Perl 6 d'affectation de valeur par défaut à un attribut lors de la construction d'un objet. Ce code n'empêche cependant pas l'utilisateur de passer un matricule en paramètre, ce qui pourrait être fâcheux (cela pourrait conduire à affecter le même matricule à deux employés différents. Il pourrait donc être préférable de rendre privé cet attribut (en le déclarant ainsi : <span class="codeinline">has Numeric $!matricule = ...</span>). Toutefois, cela aurait l'inconvénient de rendre le matricule inaccessible dans le programme appelant puisque Perl ne générerait plus pour nous d'accesseur implicite, mais il est facile de remédier à cette petite difficulté en déclarant explicitement dans la classe une méthode retournant la valeur du matricule (le lecteur est incité à tester ces modifications à titre d'exercice).</p>
            <p>Maintenant, l'utilisateur de la classe n'a plus besoin de passer de matricule, celui-ci est calculé automatiquement :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e20214">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e20214" onclick="selectionCode('contenuCoded0e20214');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e20214" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$salarié</code> <code class="perl_operator">=</code> Employé.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
    données<code class="perl_operator">-</code>personnelles <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> Personne.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
        nom <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Jean</code><code class="perl_literal1">"</code>,
        prénom <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Chiponelli</code><code class="perl_literal1">"</code>,
        sexe <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">M</code><code class="perl_literal1">"</code>,
        date<code class="perl_operator">-</code>de<code class="perl_operator">-</code>naissance <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> Date.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(<code class="perl_digit">1992</code>, <code class="perl_digit">10</code>, <code class="perl_digit">24</code>),
        lieu<code class="perl_operator">-</code>de<code class="perl_operator">-</code>naissance <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Strasbourg</code><code class="perl_literal1">"</code>,
        adresse <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> Adresse.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>( numéro <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">42</code>, voie <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">boulevard</code><code class="perl_literal1"> </code><code class="perl_literal1">Carnot</code><code class="perl_literal1">"</code>, 
                                commune <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">Nice</code><code class="perl_literal1">"</code>, code<code class="perl_operator">-</code>postal <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">06000</code><code class="perl_literal1">"</code>
        ),
        numéro<code class="perl_operator">-</code>sécu <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">1</code><code class="perl_literal1">-</code><code class="perl_literal1">92</code><code class="perl_literal1">-</code><code class="perl_literal1">10</code><code class="perl_literal1">-</code><code class="perl_literal1">67</code><code class="perl_literal1">.</code><code class="perl_literal1">.</code><code class="perl_literal1">.</code><code class="perl_literal1">"</code>,  telephone<code class="perl_operator">-</code>personnel <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">0712345678</code><code class="perl_literal1">"</code> 
    ),
    intitulé<code class="perl_operator">-</code>poste <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">"</code><code class="perl_literal1">technicien</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">surface</code><code class="perl_literal1">"</code>,
    salaire <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">1234</code>.<code class="perl_digit">5</code>
);
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Matricule</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">l</code><code class="perl_literal1">'</code><code class="perl_literal1">employé</code><code class="perl_literal1"> </code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal3">{</code><code class="perl_literal3">$salarié.matricule</code><code class="perl_literal3">}</code><code class="perl_literal1">"</code>;</code></pre></div>
            <p>Ce qui affiche la même chose que précédemment.</p>
            <p>Nous pouvons de même définir des méthodes de classe, qui n'agissent pas sur une instance de la classe (un objet), mais sur des attributs de classe.</p>
          </div>
          
		<h4 class="TitreSection3" id="L4-1-6-2">4-1-6-2. Méthodes de classe<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>La détermination du nouveau matricule ci-dessus est très simple, c'est la raison pour laquelle nous pouvions nous contenter d'incrémenter l'attribut de classe <span class="codeinline">$matricule-courant</span> et d'affecter la valeur obtenue à l'attribut d'instance <span class="codeinline">$.matricule</span>. Si la détermination du nouveau matricule était plus complexe, cela deviendrait peu pratique ou peu lisible.</p>
            <p>Il est possible de confier la tâche à une <span class="italique">méthode de classe</span>, dont la déclaration utilise le mot-clef <span class="codeinline">sub</span> et qui ressemble beaucoup à une fonction ordinaire, si ce n'est qu'elle est déclarée à l'intérieur d'une classe et n'est par défaut accessible que depuis l'intérieur de la classe. Comme elle n'est pas propre à une instance donnée, une méthode de classe n'a pas accès à l'objet <span class="codeinline">self</span> ou <span class="codeinline">$</span>, ni généralement aux attributs d'instances, mais elle peut lire ou modifier les attributs de classe.</p>
            <p>La classe <span class="codeinline">Employé</span> ci-dessous utilise la méthode de classe <span class="codeinline">get-matricule</span> pour déterminer le matricule d'un nouvel objet :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e20536">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e20536" onclick="selectionCode('contenuCoded0e20536');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e20536" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Employé <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$matricule-courant</code> <code class="perl_operator">=</code> <code class="perl_digit">0</code>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Personne <code class="perl_keyword2">$.</code>données<code class="perl_operator">-</code>personnelles;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Numeric <code class="perl_keyword2">$.</code>matricule <code class="perl_operator">=</code> nouveau<code class="perl_operator">-</code>matricule();
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>intitulé<code class="perl_operator">-</code>poste <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Numeric <code class="perl_keyword2">$.</code>salaire <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=sub"><span>sub</span></a> nouveau<code class="perl_operator">-</code>matricule <code class="perl_operator">{</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> <code class="perl_operator">+</code><code class="perl_operator">+</code><code class="perl_keyword2">$matricule-courant</code> <code class="perl_operator">}</code>
<code class="perl_operator">}</code></code></pre></div>
            <p>Cette méthode de classe <span class="codeinline">get-matricule</span> n'est accessible que depuis l'intérieur de la classe et n'est appelée ici que lors de la construction d'un nouvel objet. C'est exactement ce dont nous avons besoin, puisque nous ne voulons incrémenter <span class="codeinline">$matricule-courant</span> que lors de la construction d'un nouvel objet. Ce comportement est parfaitement encapsulé à l'intérieur de la classe.</p>
            <p>Toutefois, le code utilisateur pourrait avoir besoin d'un accesseur pour connaître le nombre de salariés créés, autrement dit la valeur de <span class="codeinline">$matricule-courant</span>. Pour rendre la méthode de classe <span class="codeinline">valeur-matricule-courant</span> accessible depuis l'extérieur de la classe, nous pouvons la déclarer avec le mot-clef <span class="codeinline">our</span>. Ce qui donne la nouvelle classe Employé suivante :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e20659">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e20659" onclick="selectionCode('contenuCoded0e20659');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e20659" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Employé <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$matricule-courant</code> <code class="perl_operator">=</code> <code class="perl_digit">0</code>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Personne <code class="perl_keyword2">$.</code>données<code class="perl_operator">-</code>personnelles;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Numeric <code class="perl_keyword2">$.</code>matricule <code class="perl_operator">=</code> nouveau<code class="perl_operator">-</code>matricule();
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=str&amp;amp;mode=all"><span>Str</span></a> <code class="perl_keyword2">$.</code>intitulé<code class="perl_operator">-</code>poste <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Numeric <code class="perl_keyword2">$.</code>salaire <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=rw"><span>rw</span></a>;
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=sub"><span>sub</span></a> nouveau<code class="perl_operator">-</code>matricule <code class="perl_operator">{</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> <code class="perl_operator">+</code><code class="perl_operator">+</code><code class="perl_keyword2">$matricule-courant</code>; <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=our"><span>our</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=sub"><span>sub</span></a> valeur<code class="perl_operator">-</code>matricule<code class="perl_operator">-</code>courant <code class="perl_operator">{</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> <code class="perl_keyword2">$matricule-courant</code>; <code class="perl_operator">}</code>
<code class="perl_operator">}</code></code></pre></div>
            <p>Il n'est cependant pas possible d'appeler la méthode <span class="codeinline">valeur-matricule-courant</span> avec une syntaxe « pointée » de méthode ordinaire depuis l'extérieur de la classe. Le code suivant ne fonctionne pas :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e20791">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e20791" onclick="selectionCode('contenuCoded0e20791');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e20791" class="contenuCode"><code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Matricule</code><code class="perl_literal1"> </code><code class="perl_literal1">courant</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code>, Employé.valeur<code class="perl_operator">-</code>matricule<code class="perl_operator">-</code>courant; <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">ERREUR</code>
<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Undeclared</code><code class="perl_comment1"> </code><code class="perl_comment1">routine:</code>
<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1">valeur-matricule-courant</code><code class="perl_comment1"> </code><code class="perl_comment1">used</code><code class="perl_comment1"> </code><code class="perl_comment1">at</code><code class="perl_comment1"> </code><code class="perl_comment1">line</code><code class="perl_comment1"> </code><code class="perl_comment1">78</code></code></pre></div>
            <p>Mais on peut l'appeler en préfixant le nom de la méthode avec le nom de la classe suivi de deux caractères deux-points :</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e20870">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e20870" onclick="selectionCode('contenuCoded0e20870');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e20870" class="contenuCode"><code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Matricule</code><code class="perl_literal1"> </code><code class="perl_literal1">courant</code><code class="perl_literal1"> </code><code class="perl_literal1">=</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code>, Employé::valeur<code class="perl_operator">-</code>matricule<code class="perl_operator">-</code>courant;</code></pre></div>
            <p>Là, tout fonctionne correctement et ce code utilisateur affiche bien la valeur du matricule courant.</p>
          </div>
        </div>
        
		<h3 class="TitreSection2" id="L4-1-7">4-1-7. Méthodes privées<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Les méthodes déclarées avec un point d'exclamation « <span class="codeinline">!</span> » sont <span class="italique">privées</span>, c'est-à-dire qu'elles ne peuvent être invoquées que depuis l'intérieur de la classe (et non de l'extérieur). On les appelle avec un point d'exclamation au lieu d'un simple point :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e20917">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e20917" onclick="selectionCode('contenuCoded0e20917');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e20917" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> <code class="perl_operator">!</code>action<code class="perl_operator">-</code>privée(<code class="perl_keyword2">$x</code>) <code class="perl_operator">{</code>
    ...
<code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> publique(<code class="perl_keyword2">$x</code>) <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=if"><span>if</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>.précondition <code class="perl_operator">{</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a><code class="perl_operator">!</code>action<code class="perl_operator">-</code>privée(<code class="perl_digit">2</code> <code class="perl_operator">*</code> <code class="perl_keyword2">$x</code>)
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code></code></pre></div>
          <p>Les méthodes privées ne sont pas accessibles depuis l'extérieur de la classe (c'est leur but) et ne sont pas non plus héritées dans les classes filles.</p>
        </div>
        
		<h3 class="TitreSection2" id="L4-1-8">4-1-8. Subméthodes<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Une <span class="italique">subméthode</span> (<span class="italique">submethod</span>) est une méthode publique qui n'est pas héritée dans les classes filles. Leur dénomination émane du fait qu'elles sont sémantiquement équivalentes à des fonctions (<span class="italique">subroutines</span>), ce sont presque des fonctions, la seule différence étant qu'elles sont invoquées avec une syntaxe de méthode. </p>
          <p>Les subméthodes sont utiles pour accomplir des tâches de construction et de destruction d'objets, ainsi que pour des tâches qui sont si spécifiques à un type donné que les sous-types devront certainement les redéfinir.</p>
          <p>Par exemple, le constructeur par défaut <span class="codeinline">new</span> appelle la subméthode <span class="codeinline">BUILD</span> sur chaque classe de la chaîne d'héritage :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e21010">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e21010" onclick="selectionCode('contenuCoded0e21010');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e21010" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Point2D <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code><code class="perl_operator">x</code>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>y;

    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=submethod"><span>submethod</span></a> BUILD(:<code class="perl_keyword2">$!</code><code class="perl_operator">x</code>, :<code class="perl_keyword2">$!</code>y) <code class="perl_operator">{</code>
        <code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Initialise</code><code class="perl_literal1"> </code><code class="perl_literal1">Point2D</code><code class="perl_literal1">"</code>;
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Point2DInversible <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Point2D <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=submethod"><span>submethod</span></a> BUILD() <code class="perl_operator">{</code>
        <code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Initialise</code><code class="perl_literal1"> </code><code class="perl_literal1">Point2DInversible</code><code class="perl_literal1">"</code>;
    <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> inverse <code class="perl_operator">{</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(<code class="perl_operator">x</code> <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_operator">-</code> <code class="perl_keyword2">$.</code><code class="perl_operator">x</code>, y <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_operator">-</code> <code class="perl_keyword2">$.</code>y);
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$pt_inv</code> <code class="perl_operator">=</code>  Point2DInversible.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(<code class="perl_operator">x</code> <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">1</code>, y <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">2</code>);
<code class="perl_keyword3">say</code> <code class="perl_keyword2">$pt_inv</code>.inverse.perl;</code></pre></div>
          <p>Ce qui affiche :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e21183">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e21183" onclick="selectionCode('contenuCoded0e21183');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e21183" class="contenuCode">Initialise Point2D
Initialise Point2DInversible
Point2DInversible.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(<code class="perl_operator">x</code> <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_operator">-</code><code class="perl_digit">1</code>, y <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_operator">-</code><code class="perl_digit">2</code>)</code></pre></div>
        </div>
        
		<h3 class="TitreSection2" id="L4-1-9">4-1-9. Héritage<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Nous avons vu au § <a href="#L2-2" class=" lienArticle simple">2.2</a> que les classes peuvent avoir des <span class="italique">classes mères</span> (ou super-classes), dont elles héritent éventuellement. La classe mère est spécifiée à l'aide du trait <span class="codeinline">is</span>. Ci-dessous un exemple d'héritage multiple (voir nos réserves à propos de l'héritage multiple au § <a href="#L2-2-3" class=" lienArticle simple">2.2.3</a>) dans lequel la classe <span class="codeinline">Enfant</span> hérite des classes mères <span class="codeinline">Parent1</span> et <span class="codeinline">Parent2</span> :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e21242">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e21242" onclick="selectionCode('contenuCoded0e21242');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e21242" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Enfant <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Parent1 <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Parent2<code class="perl_operator">{</code> <code class="perl_operator">}</code></code></pre></div>
          <p>Si l'on appelle sur une classe fille une méthode qui n'est pas définie dans cette classe fille, alors c'est une méthode ayant le même nom dans l'une des classes mères qui sera appelée, si elle existe (sauf si la méthode est définie dans un rôle attribué à la classe ou à l'objet, auquel cas Perl n'ira pas consulter les classes mères). C'est ce que l'on appelle l'héritage. L'ordre dans lequel les classes mères sont consultées s'appelle l'ordre de résolution des méthodes (<span class="italique">method resolution order</span> ou MRO). Perl 6 utilise la <a class="lienArticle https" href="https://en.wikipedia.org/wiki/C3_linearization">méthode C3 de résolution</a>. Il est possible de connaître cet ordre pour un type donné grâce à un appel à sa métaclasse :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e21267">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e21267" onclick="selectionCode('contenuCoded0e21267');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e21267" class="contenuCode"><code class="perl_keyword3">say</code> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=int&amp;amp;mode=all"><span>Int</span></a>.<code class="perl_operator">^</code>mro;    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">(Int)</code><code class="perl_comment1"> </code><code class="perl_comment1">(Cool)</code><code class="perl_comment1"> </code><code class="perl_comment1">(Any)</code><code class="perl_comment1"> </code><code class="perl_comment1">(Mu)</code></code></pre></div>
          <p>Si une classe ne spécifie pas de classe mère, alors la classe <span class="codeinline">Any</span> est sa classe mère par défaut. Toutes les classes héritent directement ou indirectement de <span class="codeinline">Mu</span>, la racine de la hiérarchie des types.</p>
          <p>Tous les appels aux méthodes publiques sont virtuels au sens C++ du terme, ce qui signifie que c'est le type réel de l'objet qui détermine quelle méthode invoquer, et non son type déclaré :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e21308">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e21308" onclick="selectionCode('contenuCoded0e21308');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e21308" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Parent <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> farfouille <code class="perl_operator">{</code>
        <code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">méthode</code><code class="perl_literal1"> </code><code class="perl_literal1">farfouille</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">la</code><code class="perl_literal1"> </code><code class="perl_literal1">classe</code><code class="perl_literal1"> </code><code class="perl_literal1">mère</code><code class="perl_literal1">"</code>
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Enfant <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Parent <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> farfouille <code class="perl_operator">{</code>
        <code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">Appel</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">la</code><code class="perl_literal1"> </code><code class="perl_literal1">méthode</code><code class="perl_literal1"> </code><code class="perl_literal1">farfouille</code><code class="perl_literal1"> </code><code class="perl_literal1">de</code><code class="perl_literal1"> </code><code class="perl_literal1">la</code><code class="perl_literal1"> </code><code class="perl_literal1">classe</code><code class="perl_literal1"> </code><code class="perl_literal1">fille</code><code class="perl_literal1">"</code>
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> Parent <code class="perl_keyword2">$test</code>;
<code class="perl_keyword2">$test</code> <code class="perl_operator">=</code> Enfant.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>;
<code class="perl_keyword2">$test</code>.farfouille;   <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">appelle</code><code class="perl_comment1"> </code><code class="perl_comment1">la</code><code class="perl_comment1"> </code><code class="perl_comment1">méthode</code><code class="perl_comment1"> </code><code class="perl_comment1">farfouille</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">la</code><code class="perl_comment1"> </code><code class="perl_comment1">classe</code><code class="perl_comment1"> </code><code class="perl_comment1">fille</code>
<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">affiche</code><code class="perl_comment1"> </code><code class="perl_comment1">:</code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1">Appel</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">la</code><code class="perl_comment1"> </code><code class="perl_comment1">méthode</code><code class="perl_comment1"> </code><code class="perl_comment1">farfouille</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">la</code><code class="perl_comment1"> </code><code class="perl_comment1">classe</code><code class="perl_comment1"> </code><code class="perl_comment1">fille</code></code></pre></div>
        </div>
        
		<h3 class="TitreSection2" id="L4-1-10">4-1-10. Construction d'objet<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Les objets sont généralement créés au moyen d'appels de méthodes, soit sur l'objet-type, soit sur un autre objet de même type.</p>
          <p>La classe <span class="codeinline">Mu</span> fournit un constructeur, la méthode <span class="codeinline">new</span>, qui prend en paramètres des arguments nommés et les utilise pour initialiser les attributs « publics » :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e21540">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e21540" onclick="selectionCode('contenuCoded0e21540');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e21540" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Point <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code><code class="perl_operator">x</code>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>y <code class="perl_operator">=</code> <code class="perl_digit">2</code> <code class="perl_operator">*</code> <code class="perl_keyword2">$!</code><code class="perl_operator">x</code>;   <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">valeur</code><code class="perl_comment1"> </code><code class="perl_comment1">par</code><code class="perl_comment1"> </code><code class="perl_comment1">défaut</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">$y</code><code class="perl_comment1"> </code><code class="perl_comment1">si</code><code class="perl_comment1"> </code><code class="perl_comment1">non</code><code class="perl_comment1"> </code><code class="perl_comment1">spécifiée</code>
<code class="perl_operator">}</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$p</code> <code class="perl_operator">=</code> Point.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>( <code class="perl_operator">x</code> <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">1</code>, y <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">2</code>);
<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1">^^^</code><code class="perl_comment1"> </code><code class="perl_comment1">méthode</code><code class="perl_comment1"> </code><code class="perl_comment1">héritée</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">la</code><code class="perl_comment1"> </code><code class="perl_comment1">classe</code><code class="perl_comment1"> </code><code class="perl_comment1">Mu</code>
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">x</code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code>, <code class="perl_keyword2">$p</code>.<code class="perl_operator">x</code>;    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">x:</code><code class="perl_comment1"> </code><code class="perl_comment1">1</code>
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">y</code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code>, <code class="perl_keyword2">$p</code>.y;    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">y:</code><code class="perl_comment1"> </code><code class="perl_comment1">2</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$p2</code> <code class="perl_operator">=</code> Point.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>( <code class="perl_operator">x</code> <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">5</code> );
<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">la</code><code class="perl_comment1"> </code><code class="perl_comment1">valeur</code><code class="perl_comment1"> </code><code class="perl_comment1">sert</code><code class="perl_comment1"> </code><code class="perl_comment1">à</code><code class="perl_comment1"> </code><code class="perl_comment1">calculer</code><code class="perl_comment1"> </code><code class="perl_comment1">$y</code><code class="perl_comment1"> </code><code class="perl_comment1">si</code><code class="perl_comment1"> </code><code class="perl_comment1">l'argument</code><code class="perl_comment1"> </code><code class="perl_comment1">$y</code><code class="perl_comment1"> </code><code class="perl_comment1">n'est</code><code class="perl_comment1"> </code><code class="perl_comment1">pas</code><code class="perl_comment1"> </code><code class="perl_comment1">fourni</code>
<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">value</code><code class="perl_comment1"> </code><code class="perl_comment1">for</code><code class="perl_comment1"> </code><code class="perl_comment1">y.</code>
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">x</code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code>, <code class="perl_keyword2">$p2</code>.<code class="perl_operator">x</code>;   <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">x:</code><code class="perl_comment1"> </code><code class="perl_comment1">5</code>
<code class="perl_keyword3">say</code> <code class="perl_literal1">"</code><code class="perl_literal1">y</code><code class="perl_literal1">:</code><code class="perl_literal1"> </code><code class="perl_literal1">"</code>, <code class="perl_keyword2">$p2</code>.y;   <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">y:</code><code class="perl_comment1"> </code><code class="perl_comment1">10</code></code></pre></div>
          <p><span class="codeinline">Mu.new</span> appelle la méthode <span class="codeinline">bless</span> sur l'argument invoquant et passe tous les arguments nommés. La méthode <span class="codeinline">bless</span> crée le nouvel objet et invoque ensuite la méthode <span class="codeinline">BUILDALL</span> sur cet objet. <span class="codeinline">BUILDALL</span> parcourt alors l'arbre des classes filles en ordre inverse du MRO (c'est-à-dire depuis <span class="codeinline">Mu</span> jusqu'à la classe la plus dérivée) et, pour chacune de ces classes, vérifie l'existence d'une classe <span class="codeinline">BUILD</span>. Si elle existe, elle est appelée avec pour paramètres les arguments nommés reçus par <span class="codeinline">new</span>. Sinon, les attributs publics de cette classe sont initialisés avec les arguments nommés ayant le même nom. Dans les deux cas, si ni <span class="codeinline">BUILD</span>, ni le mécanisme par défaut n'a initialisé l'attribut, alors les valeurs par défaut sont utilisées (l'instruction <span class="codeinline">$.y = 2 * $!x</span> dans l'exemple ci-dessus).</p>
          <p>En raison de la nature du comportement par défaut de la subméthode générale <span class="codeinline">BUILDALL</span> et  des subméthodes customisées <span class="codeinline">BUILD</span>, les arguments nommés passés au constructeur <span class="codeinline">new</span> dérivé de <span class="codeinline">Mu</span> correspondent directement aux attributs publics de n'importe quelle classe du MRO, ou à tout paramètre nommé passé à toute subméthode <span class="codeinline">BUILD</span>.</p>
          <p>Ce mécanisme de construction des objets entraîne plusieurs conséquences pour les constructeurs sur mesure. D'abord, les méthodes customisées <span class="codeinline">BUILD</span> doivent toujours être des subméthodes, faute de quoi elles empêcheraient l'initialisation des attributs dans les sous-classes. Deuxièmement, les subméthodes <span class="codeinline">BUILD</span> peuvent être utilisées pour lancer du code spécifique lors de la construction de l'objet. Elles peuvent également servir à créer des alias pour l'initialisation des attributs :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e21981">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e21981" onclick="selectionCode('contenuCoded0e21981');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e21981" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> EncodedBuffer <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>enc;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>data;

    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=submethod"><span>submethod</span></a> BUILD(:encodage(:<code class="perl_keyword2">$enc</code>), :<code class="perl_keyword2">$data</code>) <code class="perl_operator">{</code>
        <code class="perl_keyword2">$!</code>enc  :<code class="perl_operator">=</code>  <code class="perl_keyword2">$enc</code>;
        <code class="perl_keyword2">$!</code>data :<code class="perl_operator">=</code> <code class="perl_keyword2">$data</code>;
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$b1</code> <code class="perl_operator">=</code> EncodedBuffer.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>( encodage <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">'</code><code class="perl_literal1">UTF</code><code class="perl_literal1">-</code><code class="perl_literal1">8</code><code class="perl_literal1">'</code>, data <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> [<code class="perl_digit">64</code>, <code class="perl_digit">65</code>] );
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$b2</code> <code class="perl_operator">=</code> EncodedBuffer.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>( enc      <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">'</code><code class="perl_literal1">UTF</code><code class="perl_literal1">-</code><code class="perl_literal1">8</code><code class="perl_literal1">'</code>, data <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> [<code class="perl_digit">64</code>, <code class="perl_digit">65</code>] );
<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1">enc</code><code class="perl_comment1"> </code><code class="perl_comment1">et</code><code class="perl_comment1"> </code><code class="perl_comment1">encodage</code><code class="perl_comment1"> </code><code class="perl_comment1">sont</code><code class="perl_comment1"> </code><code class="perl_comment1">maintenant</code><code class="perl_comment1"> </code><code class="perl_comment1">tous</code><code class="perl_comment1"> </code><code class="perl_comment1">les</code><code class="perl_comment1"> </code><code class="perl_comment1">deux</code><code class="perl_comment1"> </code><code class="perl_comment1">autorisés</code></code></pre></div>
          <p>Comme le passage d'arguments à une routine lie les arguments aux paramètres, l'étape supplémentaire de liaison n'est pas nécessaire si c'est l'attribut lui-même qui est utilisé en tant que paramètre. Il en résulte que l'exemple ci-dessus aurait pu s'écrire plus simplement :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e22158">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e22158" onclick="selectionCode('contenuCoded0e22158');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e22158" class="contenuCode">    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=submethod"><span>submethod</span></a> BUILD(:encodage(:<code class="perl_keyword2">$!</code>enc), :<code class="perl_keyword2">$!</code>data) <code class="perl_operator">{</code>
        <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">plus</code><code class="perl_comment1"> </code><code class="perl_comment1">rien</code><code class="perl_comment1"> </code><code class="perl_comment1">à</code><code class="perl_comment1"> </code><code class="perl_comment1">faire</code><code class="perl_comment1"> </code><code class="perl_comment1">ici,</code><code class="perl_comment1"> </code><code class="perl_comment1">la</code><code class="perl_comment1"> </code><code class="perl_comment1">liaison</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">la</code><code class="perl_comment1"> </code><code class="perl_comment1">signature</code>
        <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">fait</code><code class="perl_comment1"> </code><code class="perl_comment1">tout</code><code class="perl_comment1"> </code><code class="perl_comment1">le</code><code class="perl_comment1"> </code><code class="perl_comment1">travail</code><code class="perl_comment1"> </code><code class="perl_comment1">pour</code><code class="perl_comment1"> </code><code class="perl_comment1">nous</code>
    <code class="perl_operator">}</code></code></pre></div>
          <p>La troisième conséquence est que si l'on désire un constructeur qui accepte des arguments positionnels, il faut alors écrire sa propre méthode <span class="codeinline">new</span> :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e22251">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e22251" onclick="selectionCode('contenuCoded0e22251');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e22251" class="contenuCode">    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Point <code class="perl_operator">{</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code><code class="perl_operator">x</code>;
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>y;
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(<code class="perl_keyword2">$x</code>, <code class="perl_keyword2">$y</code>) <code class="perl_operator">{</code>
            <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>.<code class="perl_keyword3">bless</code>(:<code class="perl_keyword2">$x</code>, :<code class="perl_keyword2">$y</code>);
        <code class="perl_operator">}</code>
    <code class="perl_operator">}</code></code></pre></div>
          <p>Cette pratique n'est cependant pas encouragée, car elle rend plus difficile l'initialisation des objets instanciant des classes filles.</p>
          <p>À noter également que le nom <span class="codeinline">new</span> n'a rien de particulier en Perl 6. C'est une simple convention commune. Vous pouvez appeler <span class="codeinline">bless</span> depuis n'importe quelle méthode, ou utiliser <span class="codeinline">CREATE</span> pour faire du bidouillage de bas niveau.</p>
          <p>Une autre façon possible de tripatouiller la création d'objets est d'écrire une méthode <span class="codeinline">BUILDALL</span> spécifique. Pour garantir que l'initialisation des classes mères fonctionne correctement, il faut appeler <span class="codeinline">callsame</span> afin d'invoquer la subméthode <span class="codeinline">BUILDALL</span> des classes mères :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e22333">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e22333" onclick="selectionCode('contenuCoded0e22333');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e22333" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> MaClasse <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> BUILDALL(<code class="perl_operator">|</code>) <code class="perl_operator">{</code>
        <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">traitements</code><code class="perl_comment1"> </code><code class="perl_comment1">initiaux</code><code class="perl_comment1"> </code><code class="perl_comment1">ici</code>

        callsame;   <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">appelle</code><code class="perl_comment1"> </code><code class="perl_comment1">BUILDALL</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">la</code><code class="perl_comment1"> </code><code class="perl_comment1">classe</code><code class="perl_comment1"> </code><code class="perl_comment1">mère</code><code class="perl_comment1"> </code><code class="perl_comment1">ou</code><code class="perl_comment1"> </code>
                    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">BUILDALL</code><code class="perl_comment1"> </code><code class="perl_comment1">par</code><code class="perl_comment1"> </code><code class="perl_comment1">défaut</code>

        <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Vérifications</code><code class="perl_comment1"> </code><code class="perl_comment1">finales</code><code class="perl_comment1"> </code><code class="perl_comment1">ici</code>
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code></code></pre></div>
        </div>
        
		<h3 class="TitreSection2" id="L4-1-11">4-1-11. Clonage d'objets<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>La classe mère <span class="codeinline">Mu</span>, dont héritent toutes les autres classes, fournit une méthode nommée <span class="codeinline">clone</span> qui est quelque peu magique en ce sens qu'elle peut copier des valeurs à partir des attributs privés d'une instance pour créer une nouvelle instance. Cette copie est superficielle, c'est-à-dire qu'elle ne fait que lier les attributs aux valeurs respectives contenues dans l'instance d'origine, elle ne fait pas de copie de ces valeurs contenues.</p>
          <p>Nous avons vu un premier exemple de clonage d'une adresse dans la section <a href="#L3-1-2" class=" lienArticle simple">3.1.2</a>.</p>
          <p>Comme avec <span class="codeinline">new</span>, il est possible de fournir des valeurs initiales pour les attributs publics et, dans ce cas, ces valeurs l'emportent sur celles provenant de l'instance d'origine. Voici l'exemple fourni dans la documentation de la classe <span class="codeinline">Mu</span>.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e22463">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e22463" onclick="selectionCode('contenuCoded0e22463');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e22463" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Point2D <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> (<code class="perl_keyword2">$.</code><code class="perl_operator">x</code>, <code class="perl_keyword2">$.</code>y);
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=multi"><span>multi</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> gist(Point2D:D:) <code class="perl_operator">{</code>
        <code class="perl_literal1">"</code><code class="perl_literal1">Point</code><code class="perl_literal1">(</code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">x</code><code class="perl_literal1">,</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">y</code><code class="perl_literal1">)</code><code class="perl_literal1">"</code>;
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$p</code> <code class="perl_operator">=</code> Point2D.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(<code class="perl_operator">x</code> <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">2</code>, y <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">3</code>);

<code class="perl_keyword3">say</code> <code class="perl_keyword2">$p</code>;                     <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Point(2,</code><code class="perl_comment1"> </code><code class="perl_comment1">3)</code>
<code class="perl_keyword3">say</code> <code class="perl_keyword2">$p</code>.clone(y <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_operator">-</code><code class="perl_digit">5</code>);      <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Point(2,</code><code class="perl_comment1"> </code><code class="perl_comment1">-5)</code></code></pre></div>
          <p>Comme <span class="codeinline">clone</span> n'est pas une subméthode, une classe qui fournit sa propre méthode <span class="codeinline">clone</span> remplacera la méthode <span class="codeinline">clone</span> issue de <span class="codeinline">Mu</span>. Il n'y a pas de mécanisme de type <span class="codeinline">BUILDALL</span> pour le clonage. Par exemple, si l'on désire faire un clone en profondeur pour une classe donnée, il faudrait sans doute appeler <span class="codeinline">callwith</span> ou <span class="codeinline">nextwith</span> pour pousser les copies profondes vers les classes mères :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e22622">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e22622" onclick="selectionCode('contenuCoded0e22622');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e22622" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> A <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>a;
    <code class="perl_comment1">#</code><code class="perl_comment1">...</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> clone <code class="perl_operator">{</code>
        nextwith(:a(<code class="perl_keyword2">$.</code>a.clone))
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code></code></pre></div>
          <p>Ceci fonctionne bien pour les classes simples, mais, dans certains cas, il peut y avoir besoin de suivre le fonctionnement de <span class="codeinline">BUILDALL</span> et de travailler dans l'ordre inverse de MRO :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e22661">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e22661" onclick="selectionCode('contenuCoded0e22661');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e22661" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> B <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> A <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>b;
    <code class="perl_comment1">#</code><code class="perl_comment1">...</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> clone <code class="perl_operator">{</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$obj</code> <code class="perl_operator">=</code> callsame;
        <code class="perl_keyword2">$obj</code>.b <code class="perl_operator">=</code> <code class="perl_keyword2">$!</code>b.clone(:seed(<code class="perl_keyword2">$obj</code>.a.generate_seed));
        <code class="perl_keyword2">$obj</code>
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code></code></pre></div>
        </div>
      </div>
      
		<h2 class="TitreSection1" id="L4-2">4-2. Les rôles<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <p>Par certains aspects, les rôles sont semblables aux classes : ils constituent en effet une collection d'attributs et de méthodes. Mais ils sont différents dans la mesure où les rôles ne décrivent qu'une partie du comportement d'un objet et aussi dans la façon dont les rôles s'appliquent aux classes. Pour le dire autrement, les classes sont censées gérer des instances et les rôles sont censés gérer un comportement et la réutilisation du code.</p>
        <p>Pour affecter un rôle à une classe, on utilise le mot-clef <span class="codeinline">does Nom_du_role</span> lors de la définition d'une classe.</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e22734">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e22734" onclick="selectionCode('contenuCoded0e22734');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e22734" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> Sérialisable <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> sérialise() <code class="perl_operator">{</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>.perl;        <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">forme</code><code class="perl_comment1"> </code><code class="perl_comment1">très</code><code class="perl_comment1"> </code><code class="perl_comment1">primitive</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">sérialisation</code>
    <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> désérialise(<code class="perl_keyword2">$buffer</code>) <code class="perl_operator">{</code>
        EVAL <code class="perl_keyword2">$buffer</code>;     <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">opération</code><code class="perl_comment1"> </code><code class="perl_comment1">inverse</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">.perl</code>
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Point <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Sérialisable <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code><code class="perl_operator">x</code>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>y;
<code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$p</code> <code class="perl_operator">=</code> Point.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(:x(<code class="perl_digit">1</code>), :y(<code class="perl_digit">2</code>));
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$sérialisé</code> <code class="perl_operator">=</code> <code class="perl_keyword2">$p</code>.sérialise;      <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">méthode</code><code class="perl_comment1"> </code><code class="perl_comment1">fournie</code><code class="perl_comment1"> </code><code class="perl_comment1">par</code><code class="perl_comment1"> </code><code class="perl_comment1">le</code><code class="perl_comment1"> </code><code class="perl_comment1">rôle</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$clone-de-p</code> <code class="perl_operator">=</code> Point.désérialise(<code class="perl_keyword2">$sérialisé</code>);
<code class="perl_keyword3">say</code> <code class="perl_keyword2">$clone-de-p</code>.<code class="perl_operator">x</code>;        <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">1</code></code></pre></div>
        <p>Les rôles sont immuables dès que le compilateur a fini d'analyser l'accolade fermante de la déclaration de rôle.</p>
        
		<h3 class="TitreSection2" id="L4-2-1">4-2-1. Application de rôles<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>L'application d'un rôle diffère sensiblement de l'héritage d'une classe. Quand un rôle est appliqué à une classe, les méthodes de ce rôle sont copiées dans cette classe. Si plusieurs rôles sont appliqués à la même classe, d'éventuels conflits (par exemple des attributs ou des méthodes non multiples ayant le même nom) entraînent une erreur de compilation. Laquelle peut être résolue en fournissant une méthode ayant le même nom dans la classe en question.</p>
          <p>Ce comportement est bien plus fiable que celui de l'héritage multiple, dans lequel les conflits ne sont jamais détectés par le compilateur, mais résolues silencieusement en prenant la méthode de la classe mère qui apparaît en premier dans le MRO - ce qui est, ou non, ce que désirait le développeur.</p>
          <p>Par exemple, si vous avez découvert une nouvelle façon de conduire des vaches et essayez de la commercialiser comme une nouvelle forme populaire de transport, vous aurez peut-être une classe <span class="codeinline">Taureau</span> pour les taureaux que vous élevez, et une classe <span class="codeinline">Automobile</span> pour les choses que vous pouvez conduire.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e22947">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e22947" onclick="selectionCode('contenuCoded0e22947');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e22947" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Taureau <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=bool&amp;amp;mode=all"><span>Bool</span></a> <code class="perl_keyword2">$.</code>castré <code class="perl_operator">=</code> False;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> mène <code class="perl_operator">{</code>
        <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Mène</code><code class="perl_comment1"> </code><code class="perl_comment1">votre</code><code class="perl_comment1"> </code><code class="perl_comment1">taurillon</code><code class="perl_comment1"> </code><code class="perl_comment1">au</code><code class="perl_comment1"> </code><code class="perl_comment1">vétérinaire</code><code class="perl_comment1"> </code><code class="perl_comment1">pour</code><code class="perl_comment1"> </code><code class="perl_comment1">le</code><code class="perl_comment1"> </code><code class="perl_comment1">châtrer</code>
        <code class="perl_keyword2">$!</code>castré <code class="perl_operator">=</code> True;
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>;
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Automobile <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>direction;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> mène (<code class="perl_keyword2">$!</code>direction) <code class="perl_operator">{</code> <code class="perl_operator">}</code>
<code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Taurus <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Taureau <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=is"><span>is</span></a> Automobile <code class="perl_operator">{</code> <code class="perl_operator">}</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$t</code> <code class="perl_operator">=</code> Taurus.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>;
<code class="perl_keyword2">$t</code>.mène; <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Castre</code><code class="perl_comment1"> </code><code class="perl_comment1">$t</code></code></pre></div>
          <p>Avec cette configuration, vos pauvres clients seront dans l'incapacité d'utiliser leur <span class="codeinline">Taurus</span> et vous dans celle de vendre vos produits. Il aurait peut-être été plus judicieux d'utiliser des rôles :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e23099">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e23099" onclick="selectionCode('contenuCoded0e23099');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e23099" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> Taurin <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=bool&amp;amp;mode=all"><span>Bool</span></a> <code class="perl_keyword2">$.</code>castré <code class="perl_operator">=</code> False;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> mène <code class="perl_operator">{</code>
        <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Mène</code><code class="perl_comment1"> </code><code class="perl_comment1">votre</code><code class="perl_comment1"> </code><code class="perl_comment1">taurillon</code><code class="perl_comment1"> </code><code class="perl_comment1">au</code><code class="perl_comment1"> </code><code class="perl_comment1">vétérinaire</code><code class="perl_comment1"> </code><code class="perl_comment1">pour</code><code class="perl_comment1"> </code><code class="perl_comment1">le</code><code class="perl_comment1"> </code><code class="perl_comment1">châtrer</code>
        <code class="perl_keyword2">$!</code>castré <code class="perl_operator">=</code> True;
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=return"><span>return</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>;
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> Menable <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Real <code class="perl_keyword2">$.</code>direction;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> mène (Real <code class="perl_keyword2">$d</code> <code class="perl_operator">=</code> <code class="perl_digit">0</code>) <code class="perl_operator">{</code>
        <code class="perl_keyword2">$!</code>direction <code class="perl_operator">+</code><code class="perl_operator">=</code> <code class="perl_keyword2">$d</code>;
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Taurus <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Taurin <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Menable <code class="perl_operator">{</code> <code class="perl_operator">}</code></code></pre></div>
          <p>Ce code va avorter avec un message du genre :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e23239">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e23239" onclick="selectionCode('contenuCoded0e23239');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e23239" class="contenuCode"><code class="perl_operator">=</code><code class="perl_operator">=</code><code class="perl_operator">=</code>SORRY<code class="perl_operator">!</code><code class="perl_operator">=</code><code class="perl_operator">=</code><code class="perl_operator">=</code>
Method <code class="perl_literal1">'</code><code class="perl_literal1">mène</code><code class="perl_literal1">'</code> must be resolved by <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Taurus because it <code class="perl_keyword3">exists</code> in
multiple roles (Menable, Taurin)</code></pre></div>
          <p>Cette vérification du compilateur vous épargnera, à vous et à vos clients, beaucoup de migraines à rechercher les causes subtiles d'une anomalie. Ici, vous pourriez simplement définir votre classe comme suit :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e23273">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e23273" onclick="selectionCode('contenuCoded0e23273');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e23273" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> Taurus <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Taurin <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> Menable <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> mène (<code class="perl_keyword2">$direction</code><code class="perl_operator">?</code>) <code class="perl_operator">{</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>.Menable::mène(<code class="perl_keyword2">$direction</code>)
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code>
<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">utilisation:</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$t</code> <code class="perl_operator">=</code> Taurus.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>;
<code class="perl_keyword2">$t</code>.mène(<code class="perl_digit">42</code>.<code class="perl_digit">0</code>); <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Castre</code><code class="perl_comment1"> </code><code class="perl_comment1">$t</code></code></pre></div>
          <p>Quand un rôle est appliqué à un second rôle, l'application est retardée et n'a réellement lieu que quand ce second rôle est appliqué à une classe, et les deux rôles sont alors appliqués à la classe. Ainsi :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e23351">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e23351" onclick="selectionCode('contenuCoded0e23351');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e23351" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> R1 <code class="perl_operator">{</code>
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">des</code><code class="perl_comment1"> </code><code class="perl_comment1">méthodes</code><code class="perl_comment1"> </code><code class="perl_comment1">ici</code>
<code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> R2 <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> R1 <code class="perl_operator">{</code>
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">des</code><code class="perl_comment1"> </code><code class="perl_comment1">méthodes</code><code class="perl_comment1"> </code><code class="perl_comment1">ici</code>
<code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> C <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> R2 <code class="perl_operator">{</code> <code class="perl_operator">}</code></code></pre></div>
          <p>produit la même classe C que si on avait écrit :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e23418">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e23418" onclick="selectionCode('contenuCoded0e23418');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e23418" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> R1 <code class="perl_operator">{</code>
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">des</code><code class="perl_comment1"> </code><code class="perl_comment1">méthodes</code><code class="perl_comment1"> </code><code class="perl_comment1">ici</code>
<code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> R2 <code class="perl_operator">{</code>
    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">des</code><code class="perl_comment1"> </code><code class="perl_comment1">méthodes</code><code class="perl_comment1"> </code><code class="perl_comment1">ici</code>
<code class="perl_operator">}</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> C <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> R1 <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> R2 <code class="perl_operator">{</code> <code class="perl_operator">}</code></code></pre></div>
        </div>
        
		<h3 class="TitreSection2" id="L4-2-2">4-2-2. Bouchons<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Si un rôle contient une méthode bouchon (<span class="italique">stub</span>) ou méthode non implémentée, une version non-bouchon d'une méthode ayant le même nom doit être fournie au moment où le rôle est appliqué à une classe, faute de quoi on obtient une erreur à la compilation. Cela permet de créer des rôles qui agissent en tant qu'interfaces abstraites.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e23494">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e23494" onclick="selectionCode('contenuCoded0e23494');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e23494" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> SérialisationAbstraite <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> sérialise() <code class="perl_operator">{</code> ... <code class="perl_operator">}</code>  <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code><code class="perl_comment1"> </code><code class="perl_comment1">littéraux.</code><code class="perl_comment1"> </code><code class="perl_comment1">Les</code><code class="perl_comment1"> </code><code class="perl_comment1">...</code><code class="perl_comment1"> </code><code class="perl_comment1">indiquent</code>
                                <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">que</code><code class="perl_comment1"> </code><code class="perl_comment1">la</code><code class="perl_comment1"> </code><code class="perl_comment1">méthode</code><code class="perl_comment1"> </code><code class="perl_comment1">est</code><code class="perl_comment1"> </code><code class="perl_comment1">abstraite</code>
<code class="perl_operator">}</code>

<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Ce</code><code class="perl_comment1"> </code><code class="perl_comment1">qui</code><code class="perl_comment1"> </code><code class="perl_comment1">suit</code><code class="perl_comment1"> </code><code class="perl_comment1">donne</code><code class="perl_comment1"> </code><code class="perl_comment1">une</code><code class="perl_comment1"> </code><code class="perl_comment1">erreur</code><code class="perl_comment1"> </code><code class="perl_comment1">de</code><code class="perl_comment1"> </code><code class="perl_comment1">compilation</code><code class="perl_comment1"> </code><code class="perl_comment1">du</code><code class="perl_comment1"> </code><code class="perl_comment1">genre</code><code class="perl_comment1"> </code><code class="perl_comment1">:</code><code class="perl_comment1"> </code>
<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1">Method</code><code class="perl_comment1"> </code><code class="perl_comment1">'sérialise'</code><code class="perl_comment1"> </code><code class="perl_comment1">must</code><code class="perl_comment1"> </code><code class="perl_comment1">be</code><code class="perl_comment1"> </code><code class="perl_comment1">implemented</code><code class="perl_comment1"> </code><code class="perl_comment1">by</code><code class="perl_comment1"> </code><code class="perl_comment1">Point</code><code class="perl_comment1"> </code><code class="perl_comment1">because</code>
<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1"> </code><code class="perl_comment1">it</code><code class="perl_comment1"> </code><code class="perl_comment1">is</code><code class="perl_comment1"> </code><code class="perl_comment1">required</code><code class="perl_comment1"> </code><code class="perl_comment1">by</code><code class="perl_comment1"> </code><code class="perl_comment1">a</code><code class="perl_comment1"> </code><code class="perl_comment1">role</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> APoint <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> SérialisationAbstraite <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code><code class="perl_operator">x</code>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>y;
<code class="perl_operator">}</code>

<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Mais</code><code class="perl_comment1"> </code><code class="perl_comment1">ceci</code><code class="perl_comment1"> </code><code class="perl_comment1">fonctionne</code><code class="perl_comment1"> </code><code class="perl_comment1">bien</code><code class="perl_comment1"> </code><code class="perl_comment1">:</code>
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> SPoint <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=does"><span>does</span></a> SérialisationAbstraite <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code><code class="perl_operator">x</code>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>y;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> sérialise() <code class="perl_operator">{</code> <code class="perl_literal1">"</code><code class="perl_literal1">p</code><code class="perl_literal1">(</code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">x</code><code class="perl_literal1">,</code><code class="perl_literal1"> </code><code class="perl_literal1">$</code><code class="perl_literal1">.</code><code class="perl_literal1">y</code><code class="perl_literal1">)</code><code class="perl_literal1">"</code> <code class="perl_operator">}</code>
<code class="perl_operator">}</code></code></pre></div>
          <p>La définition de la méthode bouchon peut également être fournie par un autre rôle.</p>
        </div>
        
		<h3 class="TitreSection2" id="L4-2-3">4-2-3. Promotion automatiques des rôles (<span class="italique"><b>punning</b></span>)<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Toute tentative d'instancier un rôle (ainsi que diverses autres opérations sur les rôles) créera automatiquement une classe portant le même nom que le rôle, ce qui permet d'utiliser de façon transparente un rôle comme s'il s'agissait d'une classe :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e23825">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e23825" onclick="selectionCode('contenuCoded0e23825');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e23825" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> Point <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code><code class="perl_operator">x</code>;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> <code class="perl_keyword2">$.</code>y;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> <code class="perl_keyword3">abs</code> <code class="perl_operator">{</code> <code class="perl_keyword3">sqrt</code>(<code class="perl_keyword2">$.</code><code class="perl_operator">x</code> <code class="perl_operator">*</code> <code class="perl_keyword2">$.</code><code class="perl_operator">x</code> <code class="perl_operator">+</code> <code class="perl_keyword2">$.</code>y <code class="perl_operator">*</code> <code class="perl_keyword2">$.</code>y) <code class="perl_operator">}</code>
<code class="perl_operator">}</code>
<code class="perl_keyword3">say</code> Point.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(<code class="perl_operator">x</code> <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">6</code>, y <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_digit">8</code>).<code class="perl_keyword3">abs</code>;</code></pre></div>
          <p>Cette création automatique de classe s'appelle <span class="italique">punning</span> et la classe générée est un <span class="italique">pun</span>. (Le mot anglais <span class="italique">pun</span> désigne un calembour ou un jeu de mots, et <span class="italique">punning</span>, c'est faire un jeu de mots ; l'auteur de ces lignes ne voit pas de rapport entre la promotion de rôles au rang de classes et l'idée d'un jeu de mots&#8230;).</p>
        </div>
        
		<h3 class="TitreSection2" id="L4-2-4">4-2-4. Rôles paramétrés<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Comme nous l'avons vu brièvement sous la forme d'un exemple au § <a href="#L3-3-3-2" class=" lienArticle simple">3.3.3.2</a>, il est possible de paramétrer des rôles en leur donnant une signature entre crochets :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e23945">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e23945" onclick="selectionCode('contenuCoded0e23945');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e23945" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> ArbreBinaire[::Type] <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> ArbreBinaire[Type] <code class="perl_keyword2">$.</code>gauche;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> ArbreBinaire[Type] <code class="perl_keyword2">$.</code>droite;
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=has"><span>has</span></a> Type <code class="perl_keyword2">$.</code>noeud;

    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> visite<code class="perl_operator">-</code>préordre(<code class="perl_operator">&amp;</code>cb) <code class="perl_operator">{</code>
        cb <code class="perl_keyword2">$.</code>noeud;
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=for"><span>for</span></a> <code class="perl_keyword2">$.</code>gauche, <code class="perl_keyword2">$.</code>droite <code class="perl_operator">-</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$branche</code> <code class="perl_operator">{</code>
            <code class="perl_keyword2">$branche</code>.visite<code class="perl_operator">-</code>préordre(<code class="perl_operator">&amp;</code>cb) <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=if"><span>if</span></a> <code class="perl_keyword3">defined</code> <code class="perl_keyword2">$branche</code>;
        <code class="perl_operator">}</code>
    <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> visite<code class="perl_operator">-</code>postordre(<code class="perl_operator">&amp;</code>cb) <code class="perl_operator">{</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=for"><span>for</span></a> <code class="perl_keyword2">$.</code>gauche, <code class="perl_keyword2">$.</code>droite <code class="perl_operator">-</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$branche</code> <code class="perl_operator">{</code>
            <code class="perl_keyword2">$branche</code>.visite<code class="perl_operator">-</code>postordre(<code class="perl_operator">&amp;</code>cb) <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=if"><span>if</span></a> <code class="perl_keyword3">defined</code> <code class="perl_keyword2">$branche</code>;
        <code class="perl_operator">}</code>
        cb <code class="perl_keyword2">$.</code>noeud;
    <code class="perl_operator">}</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> nouv<code class="perl_operator">-</code>de<code class="perl_operator">-</code>la<code class="perl_operator">-</code>liste(::<code class="perl_operator">?</code>CLASS:U: <code class="perl_operator">*</code><code class="perl_keyword2">@el</code>) <code class="perl_operator">{</code>
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$index-milieu</code> <code class="perl_operator">=</code> <code class="perl_keyword2">@el</code>.elems div <code class="perl_digit">2</code>;
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">@gauche</code>       <code class="perl_operator">=</code> <code class="perl_keyword2">@el</code>[<code class="perl_digit">0</code> .. <code class="perl_keyword2">$index-milieu</code> <code class="perl_operator">-</code> <code class="perl_digit">1</code>];
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$milieu</code>       <code class="perl_operator">=</code> <code class="perl_keyword2">@el</code>[<code class="perl_keyword2">$index-milieu</code>];
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">@droite</code>       <code class="perl_operator">=</code> <code class="perl_keyword2">@el</code>[<code class="perl_keyword2">$index-milieu</code> <code class="perl_operator">+</code> <code class="perl_digit">1</code> .. <code class="perl_operator">*</code>];
        <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>.<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=new"><span>new</span></a>(
            noeud   <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">$milieu</code>,
            gauche  <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">@gauche</code>  <code class="perl_operator">?</code><code class="perl_operator">?</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>.nouv<code class="perl_operator">-</code>de<code class="perl_operator">-</code>la<code class="perl_operator">-</code>liste(<code class="perl_keyword2">@gauche</code>) 
                                <code class="perl_operator">!</code><code class="perl_operator">!</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>,
            droite  <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_keyword2">@droite</code> <code class="perl_operator">?</code><code class="perl_operator">?</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>.nouv<code class="perl_operator">-</code>de<code class="perl_operator">-</code>la<code class="perl_operator">-</code>liste(<code class="perl_keyword2">@droite</code>) 
                               <code class="perl_operator">!</code><code class="perl_operator">!</code> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=self"><span>self</span></a>,
        );
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code>

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$t</code> <code class="perl_operator">=</code> ArbreBinaire[<a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=int&amp;amp;mode=all"><span>Int</span></a>].nouv<code class="perl_operator">-</code>de<code class="perl_operator">-</code>la<code class="perl_operator">-</code>liste(<code class="perl_digit">4</code>, <code class="perl_digit">5</code>, <code class="perl_digit">6</code>);
<code class="perl_keyword2">$t</code>.visite<code class="perl_operator">-</code>préordre(<code class="perl_operator">&amp;</code><code class="perl_keyword3">say</code>);    <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">5</code><code class="perl_comment1"> </code><code class="perl_comment1">\n</code><code class="perl_comment1"> </code><code class="perl_comment1">4</code><code class="perl_comment1"> </code><code class="perl_comment1">\n</code><code class="perl_comment1"> </code><code class="perl_comment1">6</code>
<code class="perl_keyword2">$t</code>.visite<code class="perl_operator">-</code>postordre(<code class="perl_operator">&amp;</code><code class="perl_keyword3">say</code>);   <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">4</code><code class="perl_comment1"> </code><code class="perl_comment1">\n</code><code class="perl_comment1"> </code><code class="perl_comment1">6</code><code class="perl_comment1"> </code><code class="perl_comment1">\n</code><code class="perl_comment1"> </code><code class="perl_comment1">5</code></code></pre></div>
          <p>Ici la signature ne comportait qu'une capture de type, mais on peut utiliser des signatures quelconques :</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e24382">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e24382" onclick="selectionCode('contenuCoded0e24382');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e24382" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=use"><span>use</span></a> v6;

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=enum"><span>enum</span></a> Gravité <code class="perl_operator">&lt;</code>debug info <code class="perl_keyword3">warn</code> erreur critique<code class="perl_operator">&gt;</code>;

<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=role"><span>role</span></a> Logging[<code class="perl_keyword2">$filehandle</code> <code class="perl_operator">=</code> <code class="perl_keyword2">$</code><code class="perl_operator">*</code>ERR] <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> <code class="perl_keyword3">log</code>( Gravité <code class="perl_keyword2">$sev</code>, <code class="perl_keyword2">$message</code>) <code class="perl_operator">{</code>
        <code class="perl_keyword2">$filehandle</code>.<code class="perl_keyword3">print</code>(<code class="perl_literal1">"</code><code class="perl_literal1">[</code><code class="perl_literal3">{</code><code class="perl_literal3">uc</code><code class="perl_literal3"> </code><code class="perl_literal3">$sev</code><code class="perl_literal3">}</code><code class="perl_literal1">]</code><code class="perl_literal1"> </code><code class="perl_literal3">$message</code><code class="perl_literal3">\n</code><code class="perl_literal1">"</code>);
    <code class="perl_operator">}</code>
<code class="perl_operator">}</code>

Logging[<code class="perl_keyword2">$</code><code class="perl_operator">*</code>OUT].<code class="perl_keyword3">log</code>(debug, <code class="perl_literal1">'</code><code class="perl_literal1">On</code><code class="perl_literal1"> </code><code class="perl_literal1">y</code><code class="perl_literal1"> </code><code class="perl_literal1">va</code><code class="perl_literal1">'</code>);        <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">[DEBUG]</code><code class="perl_comment1"> </code><code class="perl_comment1">On</code><code class="perl_comment1"> </code><code class="perl_comment1">y</code><code class="perl_comment1"> </code><code class="perl_comment1">va</code></code></pre></div>
        </div>
      </div>
      
		<h2 class="TitreSection1" id="L4-3">4-3. Programmation métaobjet et introspection<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <p>Perl 6 a un système de métaobjets, ce qui signifie que le comportement des objets, classes, rôles, grammaires, énumérations, etc. est lui-même régi par d'autres objets : ces objets sont appelés <span class="italique">métaobjets</span>. Les métaobjets sont, comme les objets ordinaires, des instances de classes que nous appellerons <span class="italique">métaclasses</span>.</p>
        <p>Pour chaque objet ou classe, il est possible de déterminer son métaobjet en appelant <span class="codeinline">.HOW</span> dessus. Bien que ce <span class="codeinline">.HOW</span> ressemble à une invocation de méthode, il est logé dans le compilateur, si bien qu'il s'agit plutôt d'une macro.</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e24534">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e24534" onclick="selectionCode('contenuCoded0e24534');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e24534" class="contenuCode"><code class="perl_keyword3">say</code> Rat.HOW;   <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">Perl6::Metamodel::ClassHOW.new</code>
<code class="perl_keyword3">say</code> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=int&amp;amp;mode=all"><span>Int</span></a>.HOW;   <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">Perl6::Metamodel::ClassHOW.new</code>
<code class="perl_keyword3">say</code> <code class="perl_digit">1</code>.HOW;     <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">-&gt;</code><code class="perl_comment1"> </code><code class="perl_comment1">Perl6::Metamodel::ClassHOW.new</code></code></pre></div>
        <p>Que peut-on faire avec un métaobjet ? Pour commencer, vous pouvez vérifier si des objets ont la même métaclasse en vérifiant si elles sont égales :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e24586">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e24586" onclick="selectionCode('contenuCoded0e24586');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e24586" class="contenuCode"><code class="perl_keyword3">say</code> <code class="perl_digit">1</code>.HOW <code class="perl_operator">=</code><code class="perl_operator">=</code><code class="perl_operator">=</code>   <code class="perl_digit">2</code>.HOW;            <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">True</code>
<code class="perl_keyword3">say</code> <code class="perl_digit">1</code>.HOW <code class="perl_operator">=</code><code class="perl_operator">=</code><code class="perl_operator">=</code> <a class="perl_keyword4 lien_documentation_code" target="_blank" href="http://search.cpan.org/search?query=int&amp;amp;mode=all"><span>Int</span></a>.HOW;            <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">True</code>
<code class="perl_keyword3">say</code> <code class="perl_digit">1</code>.HOW <code class="perl_operator">=</code><code class="perl_operator">=</code><code class="perl_operator">=</code> Num.HOW;            <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">False</code></code></pre></div>
        <p>Contrairement à ce que l'on pourrait penser, HOW ne vient pas de l'adverbe anglais <span class="italique">how</span> ou <span class="italique">comment</span> en français (encore que&#8230;), mais signifie <span class="italique">Higher Order Workings</span> (Fonctionnement d'ordre supérieur), c'est le nom du système de métaobjets. Ce n'est donc pas une surprise si, dans Rakudo, le nom de la métaclasse qui contrôle le comportement des classes s'appelle <span class="codeinline">Perl6::Metamodel::ClassHOW</span>. Pour chaque classe, il existe une instance de la métaclasse <span class="codeinline">Perl6::Metamodel::ClassHOW</span>.</p>
        <p>Mais, bien sûr, le métamodèle peut en faire beaucoup plus pour vous. Par exemple il permet une introspection des objets et des classes. La convention d'appel des méthodes sur les métaobjets est d'appeler la méthode sur le métaobjet et de lui passer comme premier argument l'objet en question. Par exemple, pour obtenir le nom de la classe d'un objet, on peut écrire :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e24674">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e24674" onclick="selectionCode('contenuCoded0e24674');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e24674" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$objet</code> <code class="perl_operator">=</code> <code class="perl_digit">1</code>;
<a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <code class="perl_keyword2">$métaobjet</code> <code class="perl_operator">=</code> <code class="perl_digit">1</code>.HOW;
<code class="perl_keyword3">say</code> <code class="perl_keyword2">$métaobjet</code>.name(<code class="perl_keyword2">$objet</code>);      <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Int</code>

<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Ou,</code><code class="perl_comment1"> </code><code class="perl_comment1">plus</code><code class="perl_comment1"> </code><code class="perl_comment1">brièvement</code><code class="perl_comment1"> </code><code class="perl_comment1">:</code>
<code class="perl_keyword3">say</code> <code class="perl_digit">1</code>.HOW.name(<code class="perl_digit">1</code>);                <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Int</code></code></pre></div>
        <p>(La motivation est que Perl 6 désire aussi permettre un système d'objets plus basé sur les prototypes, dans lequel il n'est pas nécessaire de créer un nouveau métaobjet pour chaque type.)</p>
        <p>Pour éviter d'utiliser le même objet deux fois, il existe un raccourci :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e24756">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e24756" onclick="selectionCode('contenuCoded0e24756');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e24756" class="contenuCode"><code class="perl_keyword3">say</code> <code class="perl_digit">1</code>.<code class="perl_operator">^</code>name;                       <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Int</code>
<code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">même</code><code class="perl_comment1"> </code><code class="perl_comment1">chose</code><code class="perl_comment1"> </code><code class="perl_comment1">que</code><code class="perl_comment1"> </code><code class="perl_comment1">:</code>
<code class="perl_keyword3">say</code> <code class="perl_digit">1</code>.HOW.name(<code class="perl_digit">1</code>);                 <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">Int</code></code></pre></div>
        <p>Pour donner une idée concrète de comment ça fonctionne, voici (tirée de la documentation officielle sur le métamodèle) la même déclaration de classe deux fois. La première sous la forme de déclarations ordinaires en Perl 6 :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e24811">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e24811" onclick="selectionCode('contenuCoded0e24811');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e24811" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=class"><span>class</span></a> A <code class="perl_operator">{</code>
    <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> <code class="perl_operator">x</code>() <code class="perl_operator">{</code> <code class="perl_keyword3">say</code> <code class="perl_digit">42</code> <code class="perl_operator">}</code>
<code class="perl_operator">}</code>

A.<code class="perl_operator">x</code>();</code></pre></div>
        <p>Et la seconde exprimée dans le métamodèle :</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e24846">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e24846" onclick="selectionCode('contenuCoded0e24846');">S&eacute;lectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e24846" class="contenuCode"><a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=constant"><span>constant</span></a> A :<code class="perl_operator">=</code> Metamodel::ClassHOW.new_type(name <code class="perl_operator">=</code><code class="perl_operator">&gt;</code> <code class="perl_literal1">'</code><code class="perl_literal1">A</code><code class="perl_literal1">'</code>); <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">classe</code><code class="perl_comment1"> </code><code class="perl_comment1">A</code><code class="perl_comment1"> </code>
A.<code class="perl_operator">^</code>add_method(<code class="perl_literal1">'</code><code class="perl_literal1">x</code><code class="perl_literal1">'</code>, <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=my"><span>my</span></a> <a class="perl_keyword1 lien_documentation_code" target="_blank" href="https://perl.developpez.com/perldoc/search.html?q=method"><span>method</span></a> <code class="perl_operator">x</code>(A:) <code class="perl_operator">{</code> <code class="perl_keyword3">say</code> <code class="perl_digit">42</code> <code class="perl_operator">}</code>);          <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">méthode</code><code class="perl_comment1"> </code><code class="perl_comment1">x()</code>
A.<code class="perl_operator">^</code>compose;                                              <code class="perl_comment1">#</code><code class="perl_comment1"> </code><code class="perl_comment1">}</code>

A.<code class="perl_operator">x</code>();</code></pre></div>
        <p>(Avec cette différence que la première forme a lieu à la compilation, et pas la deuxième.)</p>
        <p>Nous n'irons pas plus loin dans l'exploration du métamodèle, car, à part les méthodes d'introspection que nous venons de décrire, son emploi est plutôt réservé à des utilisateurs confirmés, voire très expérimentés et sachant bien ce qu'ils font, et encore, seulement dans des cas particuliers (par exemple créer de nouvelles fonctionnalités ou étendre le langage). Le lecteur pourra trouver des informations complémentaires dans la <a class="lienArticle https" href="https://docs.perl6.org/language/mop">documentation officielle sur le protocole métaobjet</a>.</p>
      </div>
    </div>
    
		<h1 class="TitreSection0" id="L5">5. Remerciements<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h1><div class="BlocSection0">
      
      <p>Je remercie <a class="lienArticle https" href="https://www.developpez.net/forums/u683044/laurent_ott/">Laurent Ott</a>, <a class="lienArticle https" href="https://www.developpez.net/forums/u35657/djibril/">Djibril</a> et <a class="lienArticle https" href="https://www.developpez.net/forums/u283256/f-leb/">f-leb</a> pour leurs précieux conseils et suggestions d'amélioration. Sébastien Dorey a également relevé quelques erreurs ou fautes de frappe après la première publication.</p>
    </div>
    
		<h1 class="TitreSection0" id="L6">6. Annexe : « antisèches » sur la POO en Perl 6<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h1><div class="BlocSection0">
      
      
		<h2 class="TitreSection1" id="L6-1">6-1. Petit glossaire de la POO en Perl 6<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <div class="TextAlign-center"><table class="tableau" style="border-width:1px;" border="1">
          <tr>
            <th class="colonne_entete" style="text-align:center;">
              <p>
                <b>Mot</b>
              </p>
            </th>
            <th class="colonne_entete" style="text-align:center;">
              <p>
                <b>Signification</b>
              </p>
            </th>
            <th class="colonne_entete" style="text-align:center;">
              <p>
                <b>Voir §</b>
              </p>
            </th>
          </tr>
          <tr>
            <td class="colonne" style="width:17%;">
              <p>Accesseur</p>
            </td>
            <td class="colonne" style="width:66%;">
              <p>Méthode permettant d'accéder aux attributs d'un objet</p>
            </td>
            <td class="colonne" style="width:17%;">
              <p>
                <a href="#L2-1-1" class=" lienArticle simple">2.1.1</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>Attribut</p>
            </td>
            <td class="colonne" style="">
              <p>Valeur définissant une propriété d'un objet (une partie de son état)</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L2-1" class=" lienArticle simple">2.1</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>Classe</p>
            </td>
            <td class="colonne" style="">
              <p>Paquetage informatique définissant les caractéristiques d'un ou de plusieurs objets</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L2-1" class=" lienArticle simple">2.1</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>Classe fille</p>
            </td>
            <td class="colonne" style="">
              <p>Classe dérivée par héritage d'une autre classe (la classe mère)</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L2-2" class=" lienArticle simple">2.2</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>Classe mère</p>
            </td>
            <td class="colonne" style="">
              <p>Classe à partir de laquelle est définie une nouvelle classe (la classe fille) par héritage. On dit aussi classe parente.</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L2-2" class=" lienArticle simple">2.2</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>Clonage</p>
            </td>
            <td class="colonne" style="">
              <p>Création d'un objet par copie superficielle d'un autre objet</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L4-1-11" class=" lienArticle simple">4.1.11</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>Composition d'objet</p>
            </td>
            <td class="colonne" style="">
              <p>Utiliser un objet comme partie de la définition d'un autre objet, notamment en utilisant un objet comme attribut d'un autre objet</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L2-3" class=" lienArticle simple">2.3</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>Constructeur</p>
            </td>
            <td class="colonne" style="">
              <p>Méthode d'une classe permettant de construire (c'est-à-dire créer) un objet. Le constructeur par défaut est la méthode <span class="codeinline">new</span>, mais on peut créer son propre constructeur.</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L2-1-1" class=" lienArticle simple">2.1.1</a>, <a href="#L4-1-10" class=" lienArticle simple">4.1.10</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>Délégation</p>
            </td>
            <td class="colonne" style="">
              <p>Définition d'une classe ou d'un rôle dans laquelle il est possible d'invoquer des méthodes appartenant à un autre objet</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L2-6" class=" lienArticle simple">2.6</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>Encapsulation</p>
            </td>
            <td class="colonne" style="">
              <p>Le principe selon lequel l'interface fournie par un objet ne doit pas dépendre de sa mise en &#339;uvre.</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L2-1" class=" lienArticle simple">2.1</a>, <a href="#L2-8" class=" lienArticle simple">2.8</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>Héritage</p>
            </td>
            <td class="colonne" style="">
              <p>La possibilité de définir une nouvelle classe (classe fille) sous la forme d'une version modifiée ou enrichie d'une classe préexistante</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L2-2" class=" lienArticle simple">2.2</a>, <a href="#L4-1-9" class=" lienArticle simple">4.1.9</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>Héritage multiple</p>
            </td>
            <td class="colonne" style="">
              <p>Situation dans laquelle une classe fille dérive de plusieurs classes mères</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L2-2-3" class=" lienArticle simple">2.2.3</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>Instance</p>
            </td>
            <td class="colonne" style="">
              <p>Objet individuel créé par l'appel du constructeur d'une classe</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L2-1" class=" lienArticle simple">2.1</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>Instancier</p>
            </td>
            <td class="colonne" style="">
              <p>Créer un nouvel objet (en utilisant le constructeur d'une classe)</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L2-1" class=" lienArticle simple">2.1</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>Méthode</p>
            </td>
            <td class="colonne" style="">
              <p>Forme de fonction définie dans une classe et s'appliquant à des objets. Les méthodes ont une syntaxe d'appel dite « pointée », c'est-à-dire suffixant le nom de l'objet avec le nom de la méthode, séparé par un point.</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L2-1" class=" lienArticle simple">2.1</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>Méthode privée</p>
            </td>
            <td class="colonne" style="">
              <p>Méthode interne à une classe, qui ne peut être appelée depuis l'extérieur de sa classe et n'est pas héritée dans les classes filles</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L2-8-4" class=" lienArticle simple">2.8.4</a>, <a href="#L4-1-7" class=" lienArticle simple">4.1.7</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>Objet</p>
            </td>
            <td class="colonne" style="">
              <p>Entité possédant généralement une identité (son nom), un comportement (les méthodes) et un état (les attributs)</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L2-1" class=" lienArticle simple">2.1</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>Polymorphisme</p>
            </td>
            <td class="colonne" style="">
              <p>Le fait pour une fonction ou une méthode de pouvoir travailler avec des types différents.</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L2-1" class=" lienArticle simple">2.1</a>, <a href="#L2-7" class=" lienArticle simple">2.7</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>Rôle</p>
            </td>
            <td class="colonne" style="">
              <p>Collection de méthodes (et éventuellement d'attributs) analogue à une classe, mais en principe non destinée à instancier des objets.</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L2-5" class=" lienArticle simple">2.5</a>, <a href="#L2-5-3" class=" lienArticle simple">2.5.3</a>, <a href="#L4-2" class=" lienArticle simple">4.2</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>Subméthode</p>
            </td>
            <td class="colonne" style="">
              <p>Méthode publique qui n'est pas héritée dans les classes filles. Une subméthode est sémantiquement analogue à une fonction, mais a une syntaxe d'invocation de méthode.</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L2-8-3" class=" lienArticle simple">2.8.3</a>, <a href="#L4-1-8" class=" lienArticle simple">4.1.8</a></p>
            </td>
          </tr>
        </table></div>
      </div>
      
		<h2 class="TitreSection1" id="L6-2">6-2. Index des opérateurs et mots-clefs de la POO<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <div class="TextAlign-center"><table class="tableau" style="border-width:1px;" border="1">
          <tr>
            <th class="colonne_entete" style="text-align:center;">
              <p>
                <b>Mot-clef</b>
              </p>
            </th>
            <th class="colonne_entete" style="text-align:center;">
              <p>
                <b>Explication</b>
              </p>
            </th>
            <th class="colonne_entete" style="text-align:center;">
              <p>
                <b>Voir paragraphes &#8230;</b>
              </p>
            </th>
          </tr>
          <tr>
            <td class="colonne" style="width:14%;">
              <p>
                <span class="codeinline">:</span>
              </p>
            </td>
            <td class="colonne" style="width:57%;">
              <p>Après une invocation de méthode, introduit la liste des arguments passés à cette méthode. On peut également passer les arguments entre parenthèses. Le caractère deux-points peut également servir à définir les arguments nommés lors d'une invocation de fonction.</p>
            </td>
            <td class="colonne" style="width:29%;">
              <p><a href="#L1-2" class=" lienArticle simple">1.2</a>, <a href="#L2-2-2" class=" lienArticle simple">2.2.2</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">!</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Opérateur permettant de déclarer un attribut privé ou une méthode privée. L'opérateur permet également d'accéder directement à l'attribut d'un objet depuis l'intérieur de sa classe (sans appel de méthode).</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L2-1-1" class=" lienArticle simple">2.1.1</a>, <a href="#L2-3" class=" lienArticle simple">2.3</a>, <a href="#L2-8-2" class=" lienArticle simple">2.8.2</a>, <a href="#L2-8-3" class=" lienArticle simple">2.8.3</a>, <a href="#L2-8-4" class=" lienArticle simple">2.8.4</a>, <a href="#L4-1-3" class=" lienArticle simple">4.1.3</a>, <a href="#L4-1-4" class=" lienArticle simple">4.1.4</a>, <a href="#L4-1-6-1" class=" lienArticle simple">4.1.6.1</a>, <a href="#L4-1-7" class=" lienArticle simple">4.1.7</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">.</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Opérateur permettant d'invoquer une méthode sur un objet. Dans le contexte de la déclaration d'un attribut, l'opérateur permet la génération automatique d'un accesseur.</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L1-1" class=" lienArticle simple">1.1</a>, <a href="#L2-1-1" class=" lienArticle simple">2.1.1</a>, <a href="#L2-3" class=" lienArticle simple">2.3</a>, <a href="#L2-8-2" class=" lienArticle simple">2.8.2</a>, <a href="#L2-8-3" class=" lienArticle simple">2.8.3</a>, <a href="#L4-1-3" class=" lienArticle simple">4.1.3</a>, <a href="#L4-1-4" class=" lienArticle simple">4.1.4</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">===</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Opérateur d'identité d'objet-type.</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L4-1-2" class=" lienArticle simple">4.1.2</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">~~</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>L'opérateur de reconnaissance intelligente (smart match) ; dans un contexte POO, renvoie vrai si l'objet placé à sa gauche est compatible avec le type placé à sa droite.</p>
            </td>
            <td class="colonne" style=""> </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">bless</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Méthode de bas niveau utilisée dans la construction d'objets.</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L4-1-10" class=" lienArticle simple">4.1.10</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">BUILD</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Subméthode intervenant dans la construction d'objets.</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L2-8-3" class=" lienArticle simple">2.8.3</a>, <a href="#L4-1-8" class=" lienArticle simple">4.1.8</a>, <a href="#L4-1-10" class=" lienArticle simple">4.1.10</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">BUILDALL</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Méthode utilisée dans la construction d'objets</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L4-1-10" class=" lienArticle simple">4.1.10</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">callsame</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Appelle le candidat suivant d'une hiérarchie de fonctions ou de méthodes avec les mêmes arguments que ceux fournis à l'appelant.</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L4-1-10" class=" lienArticle simple">4.1.10</a>, <a href="#L4-1-11" class=" lienArticle simple">4.1.11</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">class</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Déclaration d'une classe.</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L2-1-1" class=" lienArticle simple">2.1.1</a>, <a href="#L4-1" class=" lienArticle simple">4.1</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">clone</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Méthode de copie (clonage) d'un objet.</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L4-1-11" class=" lienArticle simple">4.1.11</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">does</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Composition d'un rôle dans une classe (ou dans un objet).</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L2-5" class=" lienArticle simple">2.5</a>, <a href="#L4-2" class=" lienArticle simple">4.2</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">handle</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Mot-clef utilisé pour la délégation de méthode et permettant de spécifier les méthodes d'un objet délégué devant servir dans la classe courante.</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L2-6" class=" lienArticle simple">2.6</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">has</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Déclaration d'un attribut d'instance (propriété des objets d'une classe).</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L2-1" class=" lienArticle simple">2.1</a>, <a href="#L4-1-3" class=" lienArticle simple">4.1.3</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">HOW</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Méthode (ou plutôt macro) permettant de connaître la métaclasse d'un objet.</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L4-3" class=" lienArticle simple">4.3</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">is</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Déclaration d'une classe fille (héritage).</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L2-2" class=" lienArticle simple">2.2</a>, <a href="#L2-2-3" class=" lienArticle simple">2.2.3</a>, <a href="#L4-1-9" class=" lienArticle simple">4.1.9</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">isa</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Méthode renvoyant vrai si l'objet invoquant appartient au type passé en paramètre, à un sous-type de celui-ci ou à un type dérivé (par héritage).</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L4-1-2" class=" lienArticle simple">4.1.2</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">method</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Déclaration d'une méthode d'instance (fonction relative à un objet).</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L1" class=" lienArticle simple">1</a>, <a href="#L1-1" class=" lienArticle simple">1.1</a>, <a href="#L2-1" class=" lienArticle simple">2.1</a>, <a href="#L2-1-1" class=" lienArticle simple">2.1.1</a>, <a href="#L2-5-3" class=" lienArticle simple">2.5.3</a>, <a href="#L4-1-4" class=" lienArticle simple">4.1.4</a>, <a href="#L4-1-6-2" class=" lienArticle simple">4.1.6.2</a>, <a href="#L4-1-7" class=" lienArticle simple">4.1.7</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">mro</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Méthode du métamodèle permettant de connaître l'ordre de résolution des méthodes (MRO) d'un objet.</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L4-1-9" class=" lienArticle simple">4.1.9</a>, <a href="#L4-1-10" class=" lienArticle simple">4.1.10</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">my</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Fonction utilisée pour déclarer un attribut de classe. Elle permet également de définir des classes de portée lexicale.</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L4-1-1" class=" lienArticle simple">4.1.1</a>, <a href="#L4-1-6-1" class=" lienArticle simple">4.1.6.1</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">name</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Méthode du métamodèle permettant de connaître le nom de la classe d'un objet.</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L4-3" class=" lienArticle simple">4.3</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">new</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Constructeur par défaut d'un objet (méthode héritée de la classe <span class="codeinline">mu</span>).</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L2-2-1" class=" lienArticle simple">2.2.1</a>, <a href="#L2-8-3" class=" lienArticle simple">2.8.3</a>, <a href="#L4-1-10" class=" lienArticle simple">4.1.10</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">our</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Fonction permettant de déclarer une méthode de classe globale (accessible ailleurs dans le programme).</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L4-1-6-2" class=" lienArticle simple">4.1.6.2</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">role</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Déclaration d'un rôle (collection de méthodes semblables à une classe).</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L2-5" class=" lienArticle simple">2.5</a>, <a href="#L2-5-3" class=" lienArticle simple">2.5.3</a>, <a href="#L4-2" class=" lienArticle simple">4.2</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">rw</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Trait permettant de rendre un attribut accessible en lecture et écriture (les attributs sont par défaut en lecture seule).</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L2-2-1" class=" lienArticle simple">2.2.1</a>, <a href="#L2-8-2" class=" lienArticle simple">2.8.2</a>, <a href="#L4-1-3" class=" lienArticle simple">4.1.3</a>, <a href="#L4-1-4" class=" lienArticle simple">4.1.4</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">self</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Référence à l'objet courant au sein d'une classe (également <span class="codeinline">$</span>).</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L2-1-1" class=" lienArticle simple">2.1.1</a>, <a href="#L4-1-5" class=" lienArticle simple">4.1.5</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">sub</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Mot-clef utilisé pour déclarer une méthode de classe.</p>
            </td>
            <td class="colonne" style="">
              <p>
                <a href="#L4-1-6-2" class=" lienArticle simple">4.1.6.2</a>
              </p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">submethod</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Déclaration d'une subméthode, c'est-à-dire d'une méthode publique non héritée dans les classes filles (fonctionnellement équivalente à une fonction).</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L2-8-3" class=" lienArticle simple">2.8.3</a>, <a href="#L4-1-8" class=" lienArticle simple">4.1.8</a></p>
            </td>
          </tr>
          <tr>
            <td class="colonne" style="">
              <p>
                <span class="codeinline">WHAT</span>
              </p>
            </td>
            <td class="colonne" style="">
              <p>Méthode (ou plutôt macro) permettant de connaître le type (ou la classe) d'un objet ou d'un littéral.</p>
            </td>
            <td class="colonne" style="">
              <p><a href="#L2-1-1" class=" lienArticle simple">2.1.1</a>, <a href="#L4-1-2" class=" lienArticle simple">4.1.2</a></p>
            </td>
          </tr>
        </table></div>
      </div>
    </div>
  </section><section class="articleBody"><p>Vous avez aimé ce tutoriel ? Alors partagez-le en cliquant sur les boutons suivants : <?php echo DoBookMarks("Objets, classes et rôles en Perl 6",'http://laurent-rosenfeld.developpez.com/tutoriels/perl/perl6/objets/'); ?></p></section><section class="articleBody"><div class="cadre_voiraussi_dvp"><p class="titres_voiraussi_dvp">En complément sur Developpez.com</p><ul><li><a class="lienArticle Fr" target="_blank" href="http://laurent-rosenfeld.developpez.com/tutoriels/perl/perl6/les-bases/">De Perl 5 à Perl 6 - Partie 1 : Les bases du langage</a></li><li><a class="lienArticle Fr" target="_blank" href="http://laurent-rosenfeld.developpez.com/tutoriels/perl/perl6/les-nouveautes/">De Perl 5 à Perl 6 - Partie 2 : Les nouveautés</a></li><li><a class="lienArticle Fr" target="_blank" href="http://laurent-rosenfeld.developpez.com/tutoriels/perl/perl6/approfondissements/">De Perl 5 à Perl 6 - Partie 3 : Approfondissements</a></li><li><a class="lienArticle Fr" target="_blank" href="http://laurent-rosenfeld.developpez.com/tutoriels/perl/perl6/annexe-01/">De Perl 5 à Perl 6 - Annexe 1: Ce qui change en Perl 6</a></li><li><a class="lienArticle Fr" target="_blank" href="http://laurent-rosenfeld.developpez.com/tutoriels/perl/perl6/annexe-02/">De Perl 5 à Perl 6 - Annexe 2: Les nouveautés de Perl 6</a></li><li><a class="lienArticle Fr" target="_blank" href="http://laurent-rosenfeld.developpez.com/tutoriels/perl/perl6/Tour-d-horizon-de-Perl-6/">Tour d'horizon du nouveau langage Perl 6 - Une expressivité sans précédent</a></li><li><a class="lienArticle Fr" target="_blank" href="http://laurent-rosenfeld.developpez.com/tutoriels/perl/perl6/regex-grammaire-puissance/">Les regex et grammaires de Perl 6</a></li></ul></div></section><section class="SectionNoteBasPage articleBody"><hr class="hr-separation clear"/><div class="UneNoteBasDePage"><div class="NumerotationNoteBasPage"><a class="noteBasPage" id="noteBasPage1" href="#signetNoteBasPage1">(1)</a></div><div class="ContenuUneNoteBasPage">Nous osons espérer que la demoiselle ne nous en voudra pas de divulguer ainsi son âge.</div></div><div class="UneNoteBasDePage"><div class="NumerotationNoteBasPage"><a class="noteBasPage" id="noteBasPage2" href="#signetNoteBasPage2">(2)</a></div><div class="ContenuUneNoteBasPage">De même que Java instaure des interfaces, qui jouent à peu près le même&#8230; rôle.</div></div><hr class="hr-separation clear"/></section><p class="licence"><a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr"><img alt="Licence Creative Commons" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png"/></a><br/>Le contenu de cet article est rédigé par Laurent Rosenfeld et est mis à disposition selon les termes de la <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr"> Licence Creative Commons Attribution - Partage dans les Mêmes Conditions 3.0 non transposé</a>.<br/>Les logos Developpez.com, en-tête, pied de page, css, et look &amp; feel de l'article sont Copyright © 2016 Developpez.com.</p></section>
    </article>

<footer class="layout" role="contentinfo">				
  <div id="gabarit_footer">
		<div id="gabarit_footer_right">&nbsp;</div>
		<div id="gabarit_footer_left">&nbsp;</div>
		
		<p id="responsable">			
			<strong>Responsable des outils : Developpez.com</strong>
			 - <a href="https://www.developpez.net/forums/">Contacter par le forum</a>
		</p>
	</div>
	
  <div id="gabarit_pied">
  	<div id="gabarit_pied_right">&nbsp;</div>
  
  	<div id="gabarit_pied_left">&nbsp;</div>
  
  	<div id="gabarit_pied_contenu_superieur">
  	<div id="gabarit_pied_contenu">
  		<div class="gabarit_pied_div">
  			<span>Developpez.com</span>
  			<p><a href="https://club.developpez.com/contacts/">Nous contacter</a></p>
  			<p><a href="https://www.developpez.com/participez/">Participez</a></p>
  			<p><a href="https://www.developpez.com/legal/">Informations légales</a></p>
  		</div>
  		<div class="gabarit_pied_div_separation">&nbsp;</div>
  		<div class="gabarit_pied_div">
  			<span>Services</span>
  			<p><a onclick="window.open(this.href); return false;" href="https://www.developpez.net/forums/f552/hardware-systemes-logiciels/">Forum Systèmes</a></p>
  			<p><a href="https://blog.developpez.com/">Blogs</a></p>
  			<p><a href="https://www.developpez.com/hebergement/">Hébergement</a></p>
  		</div>
  		<div class="gabarit_pied_div_separation">&nbsp;</div>
  		<div class="gabarit_pied_div">
  			<span>Partenaires</span>
  			<p><a target="_blank" href="http://www.planethoster.net/">Hébergement Web</a></p>
  		</div>
  		<div style="clear: both;"></div>
  		<div id="gabarit_pied_copyright">
  			<p>Copyright &copy; 2000-2012 - www.developpez.com</p>
  		</div>
  	</div>
  	</div>
  </div>

</footer>
  </body>
</html>

		
